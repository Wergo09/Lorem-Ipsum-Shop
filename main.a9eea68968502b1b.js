"use strict";(self.webpackChunkbranding_wordshop=self.webpackChunkbranding_wordshop||[]).push([[179],{2011:(pt,Ie,k)=>{k.d(Ie,{Dh:()=>ue,GT:()=>te,cc:()=>Ce,hO:()=>je,on:()=>B,pX:()=>ee,xv:()=>oe});var c=k(4650),Y=k(9260),R=k(2122);pt=k.hmd(pt);const X=["ngOnDestroy"],ee=(be,Ee,Fe,we={})=>new Proxy(be,{get:(ye,De)=>Fe.runOutsideAngular(()=>{var Ve;if(be[De])return!(null===(Ve=we?.spy)||void 0===Ve)&&Ve.get&&we.spy.get(De,be[De]),be[De];if(X.indexOf(De)>-1)return()=>{};const Oe=Ee.toPromise().then(V=>{const me=V&&V[De];return"function"==typeof me?me.bind(V):me&&me.then?me.then(Ue=>Fe.run(()=>Ue)):Fe.run(()=>me)});return new Proxy(()=>{},{get:(V,me)=>Oe[me],apply:(V,me,Ue)=>Oe.then(Ge=>{var dt;const Xe=Ge&&Ge(...Ue);return!(null===(dt=we?.spy)||void 0===dt)&&dt.apply&&we.spy.apply(De,Ue,Xe),Xe})})})}),te=(be,Ee)=>{Ee.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(we=>{Object.defineProperty(be.prototype,we,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,we))})})};class le{constructor(Ee){return Ee}}const ue=new c.OlP("angularfire2.app.options"),oe=new c.OlP("angularfire2.app.name");function B(be,Ee,Fe){const ye="object"==typeof Fe&&Fe||{};ye.name=ye.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const Ve=Y.Z.apps.filter(Oe=>Oe&&Oe.name===ye.name)[0]||Ee.runOutsideAngular(()=>Y.Z.initializeApp(be,ye));try{JSON.stringify(be)!==JSON.stringify(Ve.options)&&j("error",`${Ve.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(Ve)}const j=(be,...Ee)=>{(0,c.X6Q)()&&typeof console<"u"&&console[be](...Ee)},q={provide:le,useFactory:B,deps:[ue,c.R0b,[new c.FiY,oe]]};let je=(()=>{class be{constructor(Fe){Y.Z.registerVersion("angularfire",R.q4.full,"core"),Y.Z.registerVersion("angularfire",R.q4.full,"app-compat"),Y.Z.registerVersion("angular",c.q4F.full,Fe.toString())}static initializeApp(Fe,we){return{ngModule:be,providers:[{provide:ue,useValue:Fe},{provide:oe,useValue:we}]}}}return be.\u0275fac=function(Fe){return new(Fe||be)(c.LFG(c.Lbi))},be.\u0275mod=c.oAB({type:be}),be.\u0275inj=c.cJS({providers:[q]}),be})();function Ce(be,Ee,Fe,we,ye){const[,De,Ve]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===be)||[];if(De)return function Ze(be,Ee){try{return be.toString()===Ee.toString()}catch{return be===Ee}}(ye,Ve)||(he("error",`${Ee} was already initialized on the ${Fe} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:ye,was:Ve})),De;{const Oe=we();return globalThis.\u0275AngularfireInstanceCache.push([be,Oe,ye]),Oe}}const it=!!pt.hot,he=(be,...Ee)=>{(0,c.X6Q)()&&typeof console<"u"&&console[be](...Ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(pt,Ie,k)=>{k.d(Ie,{q4:()=>Tu,iC:()=>Co,HU:()=>cn,vb:()=>Su,JM:()=>Sr});var c=k(4650),Y=k(259),R=k(5861),X=k(9681),ee=k(2090),te=k(4859),le=k(1877),ue=k(8766);const oe="@firebase/installations",B="0.6.4",j=1e4,q=`w:${B}`,je="FIS_v2",Ce="https://firebaseinstallations.googleapis.com/v1",Ze=36e5,Ee=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fe(E){return E instanceof ee.ZR&&E.code.includes("request-failed")}function we({projectId:E}){return`${Ce}/projects/${E}/installations`}function ye(E){return{token:E.token,requestStatus:2,expiresIn:Ge(E.expiresIn),creationTime:Date.now()}}function De(E,D){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,R.Z)(function*(E,D){const F=(yield D.json()).error;return Ee.create("request-failed",{requestName:E,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Oe({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function me(E){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,R.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function Ge(E){return Number(E.replace("s","000"))}function re(){return(re=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:S}){const F=we(E),W=Oe(E),H=D.getImmediate({optional:!0});if(H){const st=yield H.getHeartbeatsHeader();st&&W.append("x-firebase-client",st)}const nt={method:"POST",headers:W,body:JSON.stringify({fid:S,authVersion:je,appId:E.appId,sdkVersion:q})},ct=yield me(()=>fetch(F,nt));if(ct.ok){const st=yield ct.json();return{fid:st.fid||S,registrationStatus:2,refreshToken:st.refreshToken,authToken:ye(st.authToken)}}throw yield De("Create Installation",ct)})).apply(this,arguments)}function ce(E){return new Promise(D=>{setTimeout(D,E)})}const Ae=/^[cdef][\w-]{21}$/,Ne="";function $e(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const S=function Ye(E){return function _e(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Ae.test(S)?S:Ne}catch{return Ne}}function We(E){return`${E.appName}!${E.appId}`}const Xt=new Map;function yt(E,D){const S=We(E);xt(S,D),function Ln(E,D){const S=function _n(){return!an&&"BroadcastChannel"in self&&(an=new BroadcastChannel("[Firebase] FID Change"),an.onmessage=E=>{xt(E.data.key,E.data.fid)}),an}();S&&S.postMessage({key:E,fid:D}),function vn(){0===Xt.size&&an&&(an.close(),an=null)}()}(S,D)}function xt(E,D){const S=Xt.get(E);if(S)for(const F of S)F(D)}let an=null;const ei="firebase-installations-database",Ro=1,ti="firebase-installations-store";let kr=null;function ho(){return kr||(kr=(0,ue.X3)(ei,Ro,{upgrade:(E,D)=>{0===D&&E.createObjectStore(ti)}})),kr}function yn(E,D){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,R.Z)(function*(E,D){const S=We(E),W=(yield ho()).transaction(ti,"readwrite"),H=W.objectStore(ti),Te=yield H.get(S);return yield H.put(D,S),yield W.done,(!Te||Te.fid!==D.fid)&&yt(E,D.fid),D})).apply(this,arguments)}function gt(E){return fo.apply(this,arguments)}function fo(){return(fo=(0,R.Z)(function*(E){const D=We(E),F=(yield ho()).transaction(ti,"readwrite");yield F.objectStore(ti).delete(D),yield F.done})).apply(this,arguments)}function pi(E,D){return wn.apply(this,arguments)}function wn(){return(wn=(0,R.Z)(function*(E,D){const S=We(E),W=(yield ho()).transaction(ti,"readwrite"),H=W.objectStore(ti),Te=yield H.get(S),nt=D(Te);return void 0===nt?yield H.delete(S):yield H.put(nt,S),yield W.done,nt&&(!Te||Te.fid!==nt.fid)&&yt(E,nt.fid),nt})).apply(this,arguments)}function ur(E){return ko.apply(this,arguments)}function ko(){return ko=(0,R.Z)(function*(E){let D;const S=yield pi(E.appConfig,F=>{const W=function St(E){return cr(E||{fid:$e(),registrationStatus:0})}(F),H=function _t(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Ee.create("app-offline"))};const S={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function Dt(E,D){return No.apply(this,arguments)}(E,S);return{installationEntry:S,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:dn(E)}:{installationEntry:D}}(E,W);return D=H.registrationPromise,H.installationEntry});return S.fid===Ne?{installationEntry:yield D}:{installationEntry:S,registrationPromise:D}}),ko.apply(this,arguments)}function No(){return No=(0,R.Z)(function*(E,D){try{const S=yield function Xe(E,D){return re.apply(this,arguments)}(E,D);return yn(E.appConfig,S)}catch(S){throw Fe(S)&&409===S.customData.serverCode?yield gt(E.appConfig):yield yn(E.appConfig,{fid:D.fid,registrationStatus:0}),S}}),No.apply(this,arguments)}function dn(E){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,R.Z)(function*(E){let D=yield Er(E.appConfig);for(;1===D.registrationStatus;)yield ce(100),D=yield Er(E.appConfig);if(0===D.registrationStatus){const{installationEntry:S,registrationPromise:F}=yield ur(E);return F||S}return D})).apply(this,arguments)}function Er(E){return pi(E,D=>{if(!D)throw Ee.create("installation-not-found");return cr(D)})}function cr(E){return function ta(E){return 1===E.registrationStatus&&E.registrationTime+j<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function zi(){return(zi=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:D},S){const F=function qt(E,{fid:D}){return`${we(E)}/${D}/authTokens:generate`}(E,S),W=function V(E,{refreshToken:D}){const S=Oe(E);return S.append("Authorization",function dt(E){return`${je} ${E}`}(D)),S}(E,S),H=D.getImmediate({optional:!0});if(H){const st=yield H.getHeartbeatsHeader();st&&W.append("x-firebase-client",st)}const nt={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:q,appId:E.appId}})},ct=yield me(()=>fetch(F,nt));if(ct.ok)return ye(yield ct.json());throw yield De("Generate Auth Token",ct)})).apply(this,arguments)}function Ir(E){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,R.Z)(function*(E,D=!1){let S;const F=yield pi(E.appConfig,H=>{if(!Ft(H))throw Ee.create("not-registered");const Te=H.authToken;if(!D&&function lr(E){return 2===E.requestStatus&&!function U(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+Ze}(E)}(Te))return H;if(1===Te.requestStatus)return S=function He(E,D){return ve.apply(this,arguments)}(E,D),H;{if(!navigator.onLine)throw Ee.create("app-offline");const nt=function L(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}(H);return S=function Et(E,D){return Mt.apply(this,arguments)}(E,nt),nt}});return S?yield S:F.authToken}),Ai.apply(this,arguments)}function ve(){return(ve=(0,R.Z)(function*(E,D){let S=yield tt(E.appConfig);for(;1===S.authToken.requestStatus;)yield ce(100),S=yield tt(E.appConfig);const F=S.authToken;return 0===F.requestStatus?Ir(E,D):F})).apply(this,arguments)}function tt(E){return pi(E,D=>{if(!Ft(D))throw Ee.create("not-registered");return function z(E){return 1===E.requestStatus&&E.requestTime+j<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Mt(){return Mt=(0,R.Z)(function*(E,D){try{const S=yield function rn(E,D){return zi.apply(this,arguments)}(E,D),F=Object.assign(Object.assign({},D),{authToken:S});return yield yn(E.appConfig,F),S}catch(S){if(!Fe(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield yn(E.appConfig,F)}else yield gt(E.appConfig);throw S}}),Mt.apply(this,arguments)}function Ft(E){return void 0!==E&&2===E.registrationStatus}function J(){return(J=(0,R.Z)(function*(E){const D=E,{installationEntry:S,registrationPromise:F}=yield ur(D);return F?F.catch(console.error):Ir(D).catch(console.error),S.fid})).apply(this,arguments)}function vt(){return vt=(0,R.Z)(function*(E,D=!1){const S=E;return yield function Qt(E){return Ct.apply(this,arguments)}(S),(yield Ir(S,D)).token}),vt.apply(this,arguments)}function Ct(){return(Ct=(0,R.Z)(function*(E){const{registrationPromise:D}=yield ur(E);D&&(yield D)})).apply(this,arguments)}function eu(E){return Ee.create("missing-app-config-values",{valueName:E})}const hc="installations",bn=E=>{const D=E.getProvider("app").getImmediate(),S=function na(E){if(!E||!E.options)throw eu("App Configuration");if(!E.name)throw eu("App Name");const D=["projectId","apiKey","appId"];for(const S of D)if(!E.options[S])throw eu(S);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:S,heartbeatServiceProvider:(0,X._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Ul=E=>{const D=E.getProvider("app").getImmediate(),S=(0,X._getProvider)(D,hc).getImmediate();return{getId:()=>function fe(E){return J.apply(this,arguments)}(S),getToken:W=>function ot(E){return vt.apply(this,arguments)}(S,W)}};(function fc(){(0,X._registerComponent)(new te.wA(hc,bn,"PUBLIC")),(0,X._registerComponent)(new te.wA("installations-internal",Ul,"PRIVATE"))})(),(0,X.registerVersion)(oe,B),(0,X.registerVersion)(oe,B,"esm2017");const ra="@firebase/remote-config",Bn=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lo{constructor(D,S,F,W){this.client=D,this.storage=S,this.storageCache=F,this.logger=W}isCachedDataFresh(D,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-S,W=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${W}.`),W}fetch(D){var S=this;return(0,R.Z)(function*(){const[F,W]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(W&&S.isCachedDataFresh(D.cacheMaxAgeMillis,F))return W;D.eTag=W&&W.eTag;const H=yield S.client.fetch(D),Te=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===H.status&&Te.push(S.storage.setLastSuccessfulFetchResponse(H)),yield Promise.all(Te),H})()}}function _i(E=navigator){return E.languages&&E.languages[0]||E.language}class go{constructor(D,S,F,W,H,Te){this.firebaseInstallations=D,this.sdkVersion=S,this.namespace=F,this.projectId=W,this.apiKey=H,this.appId=Te}fetch(D){var S=this;return(0,R.Z)(function*(){const[F,W]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),Te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ct={sdk_version:S.sdkVersion,app_instance_id:F,app_instance_id_token:W,app_id:S.appId,language_code:_i()},st={method:"POST",headers:nt,body:JSON.stringify(ct)},ht=fetch(Te,st),At=new Promise((Zr,si)=>{D.signal.addEventListener(()=>{const bo=new Error("The operation was aborted.");bo.name="AbortError",si(bo)})});let Or;try{yield Promise.race([ht,At]),Or=yield ht}catch(Zr){let si="fetch-client-network";throw"AbortError"===Zr?.name&&(si="fetch-timeout"),Bn.create(si,{originalErrorMessage:Zr?.message})}let Yn=Or.status;const Rs=Or.headers.get("ETag")||void 0;let Jo,ks;if(200===Or.status){let Zr;try{Zr=yield Or.json()}catch(si){throw Bn.create("fetch-client-parse",{originalErrorMessage:si?.message})}Jo=Zr.entries,ks=Zr.state}if("INSTANCE_STATE_UNSPECIFIED"===ks?Yn=500:"NO_CHANGE"===ks?Yn=304:("NO_TEMPLATE"===ks||"EMPTY_CONFIG"===ks)&&(Jo={}),304!==Yn&&200!==Yn)throw Bn.create("fetch-status",{httpStatus:Yn});return{status:Yn,eTag:Rs,config:Jo}})()}}class Si{constructor(D,S){this.client=D,this.storage=S}fetch(D){var S=this;return(0,R.Z)(function*(){const F=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(D,F)})()}attemptFetch(D,{throttleEndTimeMillis:S,backoffCount:F}){var W=this;return(0,R.Z)(function*(){yield function qi(E,D){return new Promise((S,F)=>{const W=Math.max(D-Date.now(),0),H=setTimeout(S,W);E.addEventListener(()=>{clearTimeout(H),F(Bn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,S);try{const H=yield W.client.fetch(D);return yield W.storage.deleteThrottleMetadata(),H}catch(H){if(!function un(E){if(!(E instanceof ee.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(H))throw H;const Te={throttleEndTimeMillis:Date.now()+(0,ee.$s)(F),backoffCount:F+1};return yield W.storage.setThrottleMetadata(Te),W.attemptFetch(D,Te)}})()}}class ps{constructor(D,S,F,W,H){this.app=D,this._client=S,this._storageCache=F,this._storage=W,this._logger=H,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vo(E,D){const S=E.target.error||void 0;return Bn.create(D,{originalErrorMessage:S&&S?.message})}const Tr="app_namespace_store";class yi{constructor(D,S,F,W=function Lr(){return new Promise((E,D)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=F=>{D(Vo(F,"storage-open"))},S.onsuccess=F=>{E(F.target.result)},S.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Tr,{keyPath:"compositeKey"})}}catch(S){D(Bn.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=D,this.appName=S,this.namespace=F,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var S=this;return(0,R.Z)(function*(){const F=yield S.openDbPromise;return new Promise((W,H)=>{const nt=F.transaction([Tr],"readonly").objectStore(Tr),ct=S.createCompositeKey(D);try{const st=nt.get(ct);st.onerror=ht=>{H(Vo(ht,"storage-get"))},st.onsuccess=ht=>{const At=ht.target.result;W(At?At.value:void 0)}}catch(st){H(Bn.create("storage-get",{originalErrorMessage:st?.message}))}})})()}set(D,S){var F=this;return(0,R.Z)(function*(){const W=yield F.openDbPromise;return new Promise((H,Te)=>{const ct=W.transaction([Tr],"readwrite").objectStore(Tr),st=F.createCompositeKey(D);try{const ht=ct.put({compositeKey:st,value:S});ht.onerror=At=>{Te(Vo(At,"storage-set"))},ht.onsuccess=()=>{H()}}catch(ht){Te(Bn.create("storage-set",{originalErrorMessage:ht?.message}))}})})()}delete(D){var S=this;return(0,R.Z)(function*(){const F=yield S.openDbPromise;return new Promise((W,H)=>{const nt=F.transaction([Tr],"readwrite").objectStore(Tr),ct=S.createCompositeKey(D);try{const st=nt.delete(ct);st.onerror=ht=>{H(Vo(ht,"storage-delete"))},st.onsuccess=()=>{W()}}catch(st){H(Bn.create("storage-delete",{originalErrorMessage:st?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class oa{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,R.Z)(function*(){const S=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),W=D.storage.getActiveConfig(),H=yield S;H&&(D.lastFetchStatus=H);const Te=yield F;Te&&(D.lastSuccessfulFetchTimestampMillis=Te);const nt=yield W;nt&&(D.activeConfig=nt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function sa(){return wh.apply(this,arguments)}function wh(){return(wh=(0,R.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}!function vi(){(0,X._registerComponent)(new te.wA("remote-config",function E(D,{instanceIdentifier:S}){const F=D.getProvider("app").getImmediate(),W=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Bn.create("registration-window");if(!(0,ee.hl)())throw Bn.create("indexed-db-unavailable");const{projectId:H,apiKey:Te,appId:nt}=F.options;if(!H)throw Bn.create("registration-project-id");if(!Te)throw Bn.create("registration-api-key");if(!nt)throw Bn.create("registration-app-id");const ct=new yi(nt,F.name,S=S||"firebase"),st=new oa(ct),ht=new le.Yd(ra);ht.logLevel=le.in.ERROR;const At=new go(W,X.SDK_VERSION,S,H,Te,nt),Or=new Si(At,ct),Yn=new Lo(Or,ct,st,ht),Rs=new ps(F,Yn,st,ct,ht);return function En(E){const D=(0,ee.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Rs),Rs},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(ra,"0.4.4"),(0,X.registerVersion)(ra,"0.4.4","esm2017")}();const _c="/firebase-messaging-sw.js",Wi="/firebase-cloud-messaging-push-scope",gs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",aa="https://fcmregistrations.googleapis.com/v1",yc="google.c.a.c_id",Ch="google.c.a.c_l",bh="google.c.a.ts",Ap="google.c.a.e";var Uo=(()=>{return(E=Uo||(Uo={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Uo;var E})();function ii(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xp(E){const S=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(S),W=new Uint8Array(F.length);for(let H=0;H<F.length;++H)W[H]=F.charCodeAt(H);return W}const tu="fcm_token_details_db",vc=5,Ar="fcm_token_object_Store";function $l(){return $l=(0,R.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(H=>H.name).includes(tu))return null;let D=null;return(yield(0,ue.X3)(tu,vc,{upgrade:(F=(0,R.Z)(function*(W,H,Te,nt){var ct;if(H<2||!W.objectStoreNames.contains(Ar))return;const st=nt.objectStore(Ar),ht=yield st.index("fcmSenderId").get(E);if(yield st.clear(),ht)if(2===H){const At=ht;if(!At.auth||!At.p256dh||!At.endpoint)return;D={token:At.fcmToken,createTime:null!==(ct=At.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:ii(At.vapidKey)}}}else if(3===H){const At=ht;D={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:ii(At.auth),p256dh:ii(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:ii(At.vapidKey)}}}else if(4===H){const At=ht;D={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:ii(At.auth),p256dh:ii(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:ii(At.vapidKey)}}}}),function(H,Te,nt,ct){return F.apply(this,arguments)})})).close(),yield(0,ue.Lj)(tu),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),function Eh(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var F}),$l.apply(this,arguments)}const nu="firebase-messaging-database",Bo=1,jo="firebase-messaging-store";let ru=null;function _s(){return ru||(ru=(0,ue.X3)(nu,Bo,{upgrade:(E,D)=>{0===D&&E.createObjectStore(jo)}})),ru}function iu(E){return ys.apply(this,arguments)}function ys(){return ys=(0,R.Z)(function*(E){const D=ws(E),F=yield(yield _s()).transaction(jo).objectStore(jo).get(D);if(F)return F;{const W=yield function wc(E){return $l.apply(this,arguments)}(E.appConfig.senderId);if(W)return yield $o(E,W),W}}),ys.apply(this,arguments)}function $o(E,D){return ua.apply(this,arguments)}function ua(){return(ua=(0,R.Z)(function*(E,D){const S=ws(E),W=(yield _s()).transaction(jo,"readwrite");return yield W.objectStore(jo).put(D,S),yield W.done,D})).apply(this,arguments)}function vs(){return(vs=(0,R.Z)(function*(E){const D=ws(E),F=(yield _s()).transaction(jo,"readwrite");yield F.objectStore(jo).delete(D),yield F.done})).apply(this,arguments)}function ws({appConfig:E}){return E.appId}const Dn=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ou(E,D){return kn.apply(this,arguments)}function kn(){return(kn=(0,R.Z)(function*(E,D){const S=yield Zo(E),F=ca(D),W={method:"POST",headers:S,body:JSON.stringify(F)};let H;try{H=yield(yield fetch(bs(E.appConfig),W)).json()}catch(Te){throw Dn.create("token-subscribe-failed",{errorInfo:Te?.toString()})}if(H.error)throw Dn.create("token-subscribe-failed",{errorInfo:H.error.message});if(!H.token)throw Dn.create("token-subscribe-no-token");return H.token})).apply(this,arguments)}function Ho(){return(Ho=(0,R.Z)(function*(E,D){const S=yield Zo(E),F=ca(D.subscriptionOptions),W={method:"PATCH",headers:S,body:JSON.stringify(F)};let H;try{H=yield(yield fetch(`${bs(E.appConfig)}/${D.token}`,W)).json()}catch(Te){throw Dn.create("token-update-failed",{errorInfo:Te?.toString()})}if(H.error)throw Dn.create("token-update-failed",{errorInfo:H.error.message});if(!H.token)throw Dn.create("token-update-no-token");return H.token})).apply(this,arguments)}function $n(E,D){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,R.Z)(function*(E,D){const F={method:"DELETE",headers:yield Zo(E)};try{const H=yield(yield fetch(`${bs(E.appConfig)}/${D}`,F)).json();if(H.error)throw Dn.create("token-unsubscribe-failed",{errorInfo:H.error.message})}catch(W){throw Dn.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function bs({projectId:E}){return`${aa}/projects/${E}/registrations`}function Zo(E){return er.apply(this,arguments)}function er(){return(er=(0,R.Z)(function*({appConfig:E,installations:D}){const S=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function ca({p256dh:E,auth:D,endpoint:S,vapidKey:F}){const W={web:{endpoint:S,auth:D,p256dh:E}};return F!==gs&&(W.web.applicationPubKey=F),W}const Es=6048e5;function Ki(){return Ki=(0,R.Z)(function*(E){const D=yield function bc(E,D){return Ec.apply(this,arguments)}(E.swRegistration,E.vapidKey),S={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:ii(D.getKey("auth")),p256dh:ii(D.getKey("p256dh"))},F=yield iu(E.firebaseDependencies);if(F){if(function cu(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}(F.subscriptionOptions,S))return Date.now()>=F.createTime+Es?function Tt(E,D){return au.apply(this,arguments)}(E,{token:F.token,createTime:Date.now(),subscriptionOptions:S}):F.token;try{yield $n(E.firebaseDependencies,F.token)}catch(W){console.warn(W)}return Zl(E.firebaseDependencies,S)}return Zl(E.firebaseDependencies,S)}),Ki.apply(this,arguments)}function da(){return da=(0,R.Z)(function*(E){const D=yield iu(E.firebaseDependencies);D&&(yield $n(E.firebaseDependencies,D.token),yield function Hl(E){return vs.apply(this,arguments)}(E.firebaseDependencies));const S=yield E.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),da.apply(this,arguments)}function au(){return au=(0,R.Z)(function*(E,D){try{const S=yield function Cs(E,D){return Ho.apply(this,arguments)}(E.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:S,createTime:Date.now()});return yield $o(E.firebaseDependencies,F),S}catch(S){throw yield function la(E){return da.apply(this,arguments)}(E),S}}),au.apply(this,arguments)}function Zl(E,D){return uu.apply(this,arguments)}function uu(){return(uu=(0,R.Z)(function*(E,D){const F={token:yield ou(E,D),createTime:Date.now(),subscriptionOptions:D};return yield $o(E,F),F.token})).apply(this,arguments)}function Ec(){return(Ec=(0,R.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xp(D)})})).apply(this,arguments)}function Ih(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Ic(E,D){if(!D.notification)return;E.notification={};const S=D.notification.title;S&&(E.notification.title=S);const F=D.notification.body;F&&(E.notification.body=F);const W=D.notification.image;W&&(E.notification.image=W);const H=D.notification.icon;H&&(E.notification.icon=H)}(D,E),function de(E,D){D.data&&(E.data=D.data)}(D,E),function Kt(E,D){var S,F,W,H,Te;if(!(D.fcmOptions||null!==(S=D.notification)&&void 0!==S&&S.click_action))return;E.fcmOptions={};const nt=null!==(W=null===(F=D.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==W?W:null===(H=D.notification)||void 0===H?void 0:H.click_action;nt&&(E.fcmOptions.link=nt);const ct=null===(Te=D.fcmOptions)||void 0===Te?void 0:Te.analytics_label;ct&&(E.fcmOptions.analyticsLabel=ct)}(D,E),D}function Dh(E,D){const S=[];for(let F=0;F<E.length;F++)S.push(E.charAt(F)),F<D.length&&S.push(D.charAt(F));return S.join("")}function ha(E){return Dn.create("missing-app-config-values",{valueName:E})}Dh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Dh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class lu{constructor(D,S,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function or(E){if(!E||!E.options)throw ha("App Configuration Object");if(!E.name)throw ha("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:S}=E;for(const F of D)if(!S[F])throw ha(F);return{appName:E.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:W,installations:S,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Br(E){return du.apply(this,arguments)}function du(){return(du=(0,R.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(_c,{scope:Wi}),E.swRegistration.update().catch(()=>{})}catch(D){throw Dn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Gl(){return(Gl=(0,R.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield Br(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Dn.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function fu(){return(fu=(0,R.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=gs)})).apply(this,arguments)}function jr(){return jr=(0,R.Z)(function*(E,D){if(!navigator)throw Dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dn.create("permission-blocked");return yield function Dc(E,D){return fu.apply(this,arguments)}(E,D?.vapidKey),yield function hu(E,D){return Gl.apply(this,arguments)}(E,D?.serviceWorkerRegistration),function su(E){return Ki.apply(this,arguments)}(E)}),jr.apply(this,arguments)}function zo(){return(zo=(0,R.Z)(function*(E,D,S){const F=function Mi(E){switch(E){case Uo.NOTIFICATION_CLICKED:return"notification_open";case Uo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:S[yc],message_name:S[Ch],message_time:S[bh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fa(){return fa=(0,R.Z)(function*(E,D){const S=D.data;if(!S.isFirebaseMessaging)return;E.onMessageHandler&&S.messageType===Uo.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Ih(S)):E.onMessageHandler.next(Ih(S)));const F=S.data;(function zl(E){return"object"==typeof E&&!!E&&yc in E})(F)&&"1"===F[Ap]&&(yield function mo(E,D,S){return zo.apply(this,arguments)}(E,S.messageType,F))}),fa.apply(this,arguments)}const Wl="@firebase/messaging",Ac=E=>{const D=new lu(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function ql(E,D){return fa.apply(this,arguments)}(D,S)),D},Yi=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:F=>function Kn(E,D){return jr.apply(this,arguments)}(D,F)}};function xc(){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,R.Z)(function*(){try{yield(0,ee.eu)()}catch{return!1}return typeof window<"u"&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Kl(){(0,X._registerComponent)(new te.wA("messaging",Ac,"PUBLIC")),(0,X._registerComponent)(new te.wA("messaging-internal",Yi,"PRIVATE")),(0,X.registerVersion)(Wl,"0.12.4"),(0,X.registerVersion)(Wl,"0.12.4","esm2017")}();const Ql="analytics",xr="firebase_id",Is="origin",fn=6e4,Ds="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mc="https://www.googletagmanager.com/gtag/js",sr=new le.Yd("@firebase/analytics");function xh(E){return Promise.all(E.map(D=>D.catch(S=>S)))}function Go(){return(Go=(0,R.Z)(function*(E,D,S,F,W,H){const Te=F[W];try{if(Te)yield D[Te];else{const ct=(yield xh(S)).find(st=>st.measurementId===W);ct&&(yield D[ct.appId])}}catch(nt){sr.error(nt)}E("config",W,H)})).apply(this,arguments)}function _o(){return(_o=(0,R.Z)(function*(E,D,S,F,W){try{let H=[];if(W&&W.send_to){let Te=W.send_to;Array.isArray(Te)||(Te=[Te]);const nt=yield xh(S);for(const ct of Te){const st=nt.find(At=>At.measurementId===ct),ht=st&&D[st.appId];if(!ht){H=[];break}H.push(ht)}}0===H.length&&(H=Object.values(D)),yield Promise.all(H),E("event",F,W||{})}catch(H){sr.error(H)}})).apply(this,arguments)}const oi=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),gu=30,Xl=new class qo{constructor(D={},S=1e3){this.throttleMetadata=D,this.intervalMillis=S}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,S){this.throttleMetadata[D]=S}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Sh(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function _a(){return(_a=(0,R.Z)(function*(E){var D;const{appId:S,apiKey:F}=E,W={method:"GET",headers:Sh(F)},H=Ds.replace("{app-id}",S),Te=yield fetch(H,W);if(200!==Te.status&&304!==Te.status){let nt="";try{const ct=yield Te.json();null!==(D=ct.error)&&void 0!==D&&D.message&&(nt=ct.error.message)}catch{}throw oi.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:nt})}return Te.json()})).apply(this,arguments)}function ya(){return(ya=(0,R.Z)(function*(E,D=Xl,S){const{appId:F,apiKey:W,measurementId:H}=E.options;if(!F)throw oi.create("no-app-id");if(!W){if(H)return{measurementId:H,appId:F};throw oi.create("no-api-key")}const Te=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new va;return setTimeout((0,R.Z)(function*(){nt.abort()}),void 0!==S?S:fn),Qi({appId:F,apiKey:W,measurementId:H},Te,nt,D)})).apply(this,arguments)}function Qi(E,D,S){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,R.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:S},F,W=Xl){var H;const{appId:Te,measurementId:nt}=E;try{yield function As(E,D){return new Promise((S,F)=>{const W=Math.max(D-Date.now(),0),H=setTimeout(S,W);E.addEventListener(()=>{clearTimeout(H),F(oi.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(F,D)}catch(ct){if(nt)return sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:Te,measurementId:nt};throw ct}try{const ct=yield function Wo(E){return _a.apply(this,arguments)}(E);return W.deleteThrottleMetadata(Te),ct}catch(ct){const st=ct;if(!function Pc(E){if(!(E instanceof ee.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(st)){if(W.deleteThrottleMetadata(Te),nt)return sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${st?.message}]`),{appId:Te,measurementId:nt};throw ct}const ht=503===Number(null===(H=st?.customData)||void 0===H?void 0:H.httpStatus)?(0,ee.$s)(S,W.intervalMillis,gu):(0,ee.$s)(S,W.intervalMillis),At={throttleEndTimeMillis:Date.now()+ht,backoffCount:S+1};return W.setThrottleMetadata(Te,At),sr.debug(`Calling attemptFetch again in ${ht} millis`),Qi(E,At,F,W)}}),Ji.apply(this,arguments)}class va{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let mu,wo;function vo(){return(vo=(0,R.Z)(function*(E,D,S,F,W){if(W&&W.global)E("event",S,F);else{const H=yield D;E("event",S,Object.assign(Object.assign({},F),{send_to:H}))}})).apply(this,arguments)}function Rc(){return(Rc=(0,R.Z)(function*(){if(!(0,ee.hl)())return sr.warn(oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(E){return sr.warn(oi.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Da(){return Da=(0,R.Z)(function*(E,D,S,F,W,H,Te){var nt;const ct=function In(E){return ya.apply(this,arguments)}(E);ct.then(Yn=>{S[Yn.measurementId]=Yn.appId,E.options.measurementId&&Yn.measurementId!==E.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Yn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yn=>sr.error(Yn)),D.push(ct);const st=function Ia(){return Rc.apply(this,arguments)}().then(Yn=>{if(Yn)return F.getId()}),[ht,At]=yield Promise.all([ct,st]);(function Ts(E){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(Mc)&&S.src.includes(E))return S;return null})(H)||function Op(E,D){const S=document.createElement("script");S.src=`${Mc}?l=${E}&id=${D}`,S.async=!0,document.head.appendChild(S)}(H,ht.measurementId),wo&&(W("consent","default",wo),function Ea(E){wo=E}(void 0)),W("js",new Date);const Or=null!==(nt=Te?.config)&&void 0!==nt?nt:{};return Or[Is]="firebase",Or.update=!0,null!=At&&(Or[xr]=At),W("config",ht.measurementId,Or),mu&&(W("set",mu),function vu(E){mu=E}(void 0)),ht.measurementId}),Da.apply(this,arguments)}class ed{constructor(D){this.app=D}_delete(){return delete Oi[this.app.options.appId],Promise.resolve()}}let Oi={},wu=[];const Yo={};let Cu,Xi,Pi="dataLayer",td="gtag",wi=!1;function bu(E,D,S){!function nd(){const E=[];if((0,ee.ru)()&&E.push("This is a browser extension environment."),(0,ee.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((F,W)=>`(${W+1}) ${F}`).join(" "),S=oi.create("invalid-analytics-context",{errorInfo:D});sr.warn(S.message)}}();const F=E.options.appId;if(!F)throw oi.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw oi.create("no-api-key");sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Oi[F])throw oi.create("already-exists",{id:F});if(!wi){!function Pp(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(Pi);const{wrappedGtag:H,gtagCore:Te}=function ma(E,D,S,F,W){let H=function(...Te){window[F].push(arguments)};return window[W]&&"function"==typeof window[W]&&(H=window[W]),window[W]=function ga(E,D,S,F){function H(){return H=(0,R.Z)(function*(Te,nt,ct){try{"event"===Te?yield function Oc(E,D,S,F,W){return _o.apply(this,arguments)}(E,D,S,nt,ct):"config"===Te?yield function pa(E,D,S,F,W,H){return Go.apply(this,arguments)}(E,D,S,F,nt,ct):"consent"===Te?E("consent","update",ct):E("set",nt)}catch(st){sr.error(st)}}),H.apply(this,arguments)}return function W(Te,nt,ct){return H.apply(this,arguments)}}(H,E,D,S),{gtagCore:H,wrappedGtag:window[W]}}(Oi,wu,Yo,Pi,td);Xi=H,Cu=Te,wi=!0}return Oi[F]=function Ko(E,D,S,F,W,H,Te){return Da.apply(this,arguments)}(E,wu,Yo,D,Cu,Pi,S),new ed(E)}function Eu(){return eo.apply(this,arguments)}function eo(){return(eo=(0,R.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}const sn="@firebase/analytics";!function d_(){(0,X._registerComponent)(new te.wA(Ql,(D,{options:S})=>bu(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,X._registerComponent)(new te.wA("analytics-internal",function E(D){try{const S=D.getProvider(Ql).getImmediate();return{logEvent:(F,W,H)=>function Oh(E,D,S,F){E=(0,ee.m9)(E),function _u(E,D,S,F,W){return vo.apply(this,arguments)}(Xi,Oi[E.app.options.appId],D,S,F).catch(W=>sr.error(W))}(S,F,W,H)}}catch(S){throw oi.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,X.registerVersion)(sn,"0.9.4"),(0,X.registerVersion)(sn,"0.9.4","esm2017")}();var Nc=k(4408),ad=k(7565);const Du=new class Fc extends ad.v{}(class Qo extends Nc.o{constructor(D,S){super(D,S),this.scheduler=D,this.work=S}schedule(D,S=0){return S>0?super.schedule(D,S):(this.delay=S,this.state=D,this.scheduler.flush(this),this)}execute(D,S){return S>0||this.closed?super.execute(D,S):this._execute(D,S)}requestAsyncId(D,S,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,S,F):(D.flush(this),0)}});var Ph=k(4986),Lc=k(8505),pn=k(9468),Sa=k(5363);const Tu=new c.GfV("7.5.0"),ud="__angularfire_symbol__analyticsIsSupportedValue",$r="__angularfire_symbol__analyticsIsSupported",Ri="__angularfire_symbol__remoteConfigIsSupportedValue",Au="__angularfire_symbol__remoteConfigIsSupported",Os="__angularfire_symbol__messagingIsSupportedValue",Ps="__angularfire_symbol__messagingIsSupported";function Sr(E,D,S){if(D){if(1===D.length)return D[0];const H=D.filter(Te=>Te.app===S);if(1===H.length)return H[0]}return S.container.getProvider(E).getImmediate({optional:!0})}globalThis[$r]||(globalThis[$r]=Eu().then(E=>globalThis[ud]=E).catch(()=>globalThis[ud]=!1)),globalThis[Ps]||(globalThis[Ps]=xc().then(E=>globalThis[Os]=E).catch(()=>globalThis[Os]=!1)),globalThis[Au]||(globalThis[Au]=sa().then(E=>globalThis[Ri]=E).catch(()=>globalThis[Ri]=!1));const Su=(E,D)=>{const S=D?[D]:(0,Y.C6)(),F=[];return S.forEach(W=>{W.container.getProvider(E).instances.forEach(Te=>{F.includes(Te)||F.push(Te)})}),F};function ki(){}class Ma{constructor(D,S=Du){this.zone=D,this.delegate=S}now(){return this.delegate.now()}schedule(D,S,F){const W=this.zone;return this.delegate.schedule(function(Te){W.runGuarded(()=>{D.apply(this,[Te])})},S,F)}}class kh{constructor(D){this.zone=D,this.task=null}call(D,S){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ki,{},ki,ki)),S.pipe((0,Lc.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cn=(()=>{class E{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Ma(Zone.current)),this.insideAngular=S.run(()=>new Ma(Zone.current,Ph.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(S){return new(S||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Mr(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Co(E){return Mr(),function Hr(E){return function(S){return(S=S.lift(new kh(E.ngZone))).pipe((0,pn.R)(E.outsideAngular),(0,Sa.Q)(E.insideAngular))}}(Mr())(E)}},2090:(pt,Ie,k)=>{k.d(Ie,{$s:()=>Et,BH:()=>De,G6:()=>Ae,L:()=>oe,LL:()=>yt,Pz:()=>ye,Sg:()=>Ve,UG:()=>me,US:()=>te,ZB:()=>q,ZR:()=>Xt,aH:()=>we,b$:()=>dt,eu:()=>$e,hl:()=>Ne,jU:()=>Ue,m9:()=>lr,ne:()=>St,pd:()=>ur,r3:()=>ti,ru:()=>Ge,tV:()=>B,uI:()=>V,vZ:()=>Nr,w1:()=>re,xO:()=>pi,xb:()=>ho,z$:()=>Oe,zI:()=>Ye,zd:()=>wn});const X=function(U){const L=[];let z=0;for(let fe=0;fe<U.length;fe++){let J=U.charCodeAt(fe);J<128?L[z++]=J:J<2048?(L[z++]=J>>6|192,L[z++]=63&J|128):55296==(64512&J)&&fe+1<U.length&&56320==(64512&U.charCodeAt(fe+1))?(J=65536+((1023&J)<<10)+(1023&U.charCodeAt(++fe)),L[z++]=J>>18|240,L[z++]=J>>12&63|128,L[z++]=J>>6&63|128,L[z++]=63&J|128):(L[z++]=J>>12|224,L[z++]=J>>6&63|128,L[z++]=63&J|128)}return L},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,L){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let J=0;J<U.length;J+=3){const ot=U[J],vt=J+1<U.length,Qt=vt?U[J+1]:0,Ct=J+2<U.length,Cn=Ct?U[J+2]:0;let gi=(15&Qt)<<2|Cn>>6,qn=63&Cn;Ct||(qn=64,vt||(gi=64)),fe.push(z[ot>>2],z[(3&ot)<<4|Qt>>4],z[gi],z[qn])}return fe.join("")},encodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(U):this.encodeByteArray(X(U),L)},decodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(U):function(U){const L=[];let z=0,fe=0;for(;z<U.length;){const J=U[z++];if(J<128)L[fe++]=String.fromCharCode(J);else if(J>191&&J<224){const ot=U[z++];L[fe++]=String.fromCharCode((31&J)<<6|63&ot)}else if(J>239&&J<365){const Ct=((7&J)<<18|(63&U[z++])<<12|(63&U[z++])<<6|63&U[z++])-65536;L[fe++]=String.fromCharCode(55296+(Ct>>10)),L[fe++]=String.fromCharCode(56320+(1023&Ct))}else{const ot=U[z++],vt=U[z++];L[fe++]=String.fromCharCode((15&J)<<12|(63&ot)<<6|63&vt)}}return L.join("")}(this.decodeStringToByteArray(U,L))},decodeStringToByteArray(U,L){this.init_();const z=L?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let J=0;J<U.length;){const ot=z[U.charAt(J++)],Qt=J<U.length?z[U.charAt(J)]:0;++J;const Cn=J<U.length?z[U.charAt(J)]:64;++J;const zt=J<U.length?z[U.charAt(J)]:64;if(++J,null==ot||null==Qt||null==Cn||null==zt)throw new le;fe.push(ot<<2|Qt>>4),64!==Cn&&(fe.push(Qt<<4&240|Cn>>2),64!==zt&&fe.push(Cn<<6&192|zt))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oe=function(U){return function(U){const L=X(U);return te.encodeByteArray(L,!0)}(U).replace(/\./g,"")},B=function(U){try{return te.decodeString(U,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function q(U,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return L}for(const z in L)!L.hasOwnProperty(z)||!je(z)||(U[z]=q(U[z],L[z]));return U}function je(U){return"__proto__"!==U}const be=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=U&&B(U[1]);return L&&JSON.parse(L)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},we=()=>{var U;return null===(U=be())||void 0===U?void 0:U.config},ye=U=>{var L;return null===(L=be())||void 0===L?void 0:L[`_${U}`]};class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,z)=>{this.resolve=L,this.reject=z})}wrapCallback(L){return(z,fe)=>{z?this.reject(z):this.resolve(fe),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(z):L(z,fe))}}}function Ve(U,L){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=L||"demo-project",J=U.iat||0,ot=U.sub||U.user_id;if(!ot)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:J,exp:J+3600,auth_time:J,sub:ot,user_id:ot,firebase:{sign_in_provider:"custom",identities:{}}},U);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(vt)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function V(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function me(){var U;const L=null===(U=be())||void 0===U?void 0:U.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ue(){return"object"==typeof self&&self.self===self}function Ge(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function re(){const U=Oe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ae(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((U,L)=>{try{let z=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(fe);J.onsuccess=()=>{J.result.close(),z||self.indexedDB.deleteDatabase(fe),U(!0)},J.onupgradeneeded=()=>{z=!1},J.onerror=()=>{var ot;L((null===(ot=J.error)||void 0===ot?void 0:ot.message)||"")}}catch(z){L(z)}})}function Ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xt extends Error{constructor(L,z,fe){super(z),this.code=L,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,Xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yt.prototype.create)}}class yt{constructor(L,z,fe){this.service=L,this.serviceName=z,this.errors=fe}create(L,...z){const fe=z[0]||{},J=`${this.service}/${L}`,ot=this.errors[L],vt=ot?function Yt(U,L){return U.replace(et,(z,fe)=>{const J=L[fe];return null!=J?String(J):`<${fe}?>`})}(ot,fe):"Error";return new Xt(J,`${this.serviceName}: ${vt} (${J}).`,fe)}}const et=/\{\$([^}]+)}/g;function ti(U,L){return Object.prototype.hasOwnProperty.call(U,L)}function ho(U){for(const L in U)if(Object.prototype.hasOwnProperty.call(U,L))return!1;return!0}function Nr(U,L){if(U===L)return!0;const z=Object.keys(U),fe=Object.keys(L);for(const J of z){if(!fe.includes(J))return!1;const ot=U[J],vt=L[J];if(gt(ot)&&gt(vt)){if(!Nr(ot,vt))return!1}else if(ot!==vt)return!1}for(const J of fe)if(!z.includes(J))return!1;return!0}function gt(U){return null!==U&&"object"==typeof U}function pi(U){const L=[];for(const[z,fe]of Object.entries(U))Array.isArray(fe)?fe.forEach(J=>{L.push(encodeURIComponent(z)+"="+encodeURIComponent(J))}):L.push(encodeURIComponent(z)+"="+encodeURIComponent(fe));return L.length?"&"+L.join("&"):""}function wn(U){const L={};return U.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[J,ot]=fe.split("=");L[decodeURIComponent(J)]=decodeURIComponent(ot)}}),L}function ur(U){const L=U.indexOf("?");if(!L)return"";const z=U.indexOf("#",L);return U.substring(L,z>0?z:void 0)}function St(U,L){const z=new _t(U,L);return z.subscribe.bind(z)}class _t{constructor(L,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{L(this)}).catch(fe=>{this.error(fe)})}next(L){this.forEachObserver(z=>{z.next(L)})}error(L){this.forEachObserver(z=>{z.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,z,fe){let J;if(void 0===L&&void 0===z&&void 0===fe)throw new Error("Missing Observer.");J=function No(U,L){if("object"!=typeof U||null===U)return!1;for(const z of L)if(z in U&&"function"==typeof U[z])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:z,complete:fe},void 0===J.next&&(J.next=dn),void 0===J.error&&(J.error=dn),void 0===J.complete&&(J.complete=dn);const ot=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),ot}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,L)}sendOne(L,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{z(this.observers[L])}catch(fe){typeof console<"u"&&console.error&&console.error(fe)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}const Ai=1e3,He=2,ve=144e5,tt=.5;function Et(U,L=Ai,z=He){const fe=L*Math.pow(z,U),J=Math.round(tt*fe*(Math.random()-.5)*2);return Math.min(ve,fe+J)}function lr(U){return U&&U._delegate?U._delegate:U}},5119:(pt,Ie,k)=>{var c=k(4650);let Y=null;function R(){return Y}class ee{}const te=new c.OlP("DocumentToken");let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ue(){return(0,c.LFG)(B)}()},providedIn:"platform"}),n})();const oe=new c.OlP("Location Initialized");let B=(()=>{class n extends le{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){j()?this._history.pushState(t,r,s):this._location.hash=s}replaceState(t,r,s){j()?this._history.replaceState(t,r,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function q(){return new B((0,c.LFG)(te))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let it=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(be)},providedIn:"root"}),n})();const he=new c.OlP("appBaseHref");let be=(()=>{class n extends it{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ze(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const d=this.prepareExternalUrl(s+Ze(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){const d=this.prepareExternalUrl(s+Ze(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(le),c.LFG(he,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ee=(()=>{class n extends it{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let d=this.prepareExternalUrl(s+Ze(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){let d=this.prepareExternalUrl(s+Ze(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(le),c.LFG(he,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ve(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ce(De(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ze(r))}normalize(t){return n.stripTrailingSlash(function ye(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,De(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=je,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(c.LFG(it))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function we(){return new Fe((0,c.LFG)(it))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}const ni=/\s+/,Qe=[];let Ot=(()=>{class n{constructor(t,r,s,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=u,this.initialClasses=Qe,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ni):Qe}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ni):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const s=this.stateMap.get(t);void 0!==s?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],s=t[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ni).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class jn{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,d)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new jn(s.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),En(m,s)}});for(let s=0,u=r.length;s<u;s++){const m=r.get(s).context;m.index=s,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{En(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function En(n,e){n.context.$implicit=e.item}let xi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Lt{constructor(){this.$implicit=null,this.ngIf=null}}function pc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let ii=(()=>{class n{transform(t,r,s){if(null==t)return null;if(!this.supports(t))throw function Si(n,e){return new c.vHH(2100,!1)}();return t.slice(r,s)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),tu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Ar="server";function nu(n){return n===Ar}let _s=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new iu((0,c.LFG)(te),window)}),n})();class iu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function $o(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ys(this.window.history)||ys(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ys(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _o extends ee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ga extends _o{static makeCurrent(){!function X(n){Y||(Y=n)}(new ga)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ts(){return ma=ma||document.querySelector("base"),ma?ma.getAttribute("href"):null}();return null==t?null:function oi(n){yo=yo||document.createElement("a"),yo.setAttribute("href",n);const e=yo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function dr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let yo,ma=null;const gu=new c.OlP("TRANSITION_ID"),qo=[{provide:c.ip1,useFactory:function Jl(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=R(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[gu,te,c.zs3],multi:!0}];let Sh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Wo=new c.OlP("EventManagerPlugins");let _a=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const d=s[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class In{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=R().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let ya=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const s=this.usageCount;let u=s.get(t)??0;return u+=r,u>0?s.set(t,u):s.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Qi=(()=>{class n extends ya{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const s=this.doc.createElement("style");s.textContent=r,t.appendChild(s);const u=this.styleRef.get(r);u?u.push(s):this.styleRef.set(r,[s])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ji={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},As=/%COMP%/g,xs=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ca(n,e){return e.flat(100).map(t=>t.replace(As,n))}function yu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let pr=(()=>{class n{constructor(t,r,s,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new ba(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const s=this.getOrCreateRenderer(t,r);return s instanceof Rc?s.applyToHost(t):s instanceof Ia&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const d=this.eventManager,m=this.sharedStylesHost,w=this.removeStylesOnCompDestory;switch(r.encapsulation){case c.ifc.Emulated:u=new Rc(d,m,r,this.appId,w);break;case c.ifc.ShadowDom:return new vu(d,m,t,r);default:u=new Ia(d,m,r,w)}u.onDestroy=()=>s.delete(r.id),s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_a),c.LFG(Qi),c.LFG(c.AFp),c.LFG(xs))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ba{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ji[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ea(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ea(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=Ji[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=Ji[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,s&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,yu(r)):this.eventManager.addEventListener(e,t,yu(r))}}function Ea(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class vu extends ba{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ca(s.id,s.styles);for(const d of u){const m=document.createElement("style");m.textContent=d,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ia extends ba{constructor(e,t,r,s,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=Ca(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Rc extends Ia{constructor(e,t,r,s,u){const d=s+"-"+r.id;super(e,t,r,u,d),this.contentAttr=function Ss(n){return"_ngcontent-%COMP%".replace(As,n)}(d),this.hostAttr=function wa(n){return"_nghost-%COMP%".replace(As,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Ko=(()=>{class n extends In{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Da=["alt","control","meta","shift"],ed={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wu=(()=>{class n extends In{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),Da.forEach(I=>{const x=r.indexOf(I);x>-1&&(r.splice(x,1),d+=I+".")}),d+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=s,w.fullKey=d,w}static matchEventFullKeyCode(t,r){let s=ed[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Da.forEach(d=>{d!==s&&(0,Oi[d])(t)&&(u+=d+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const rd=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function wi(){ga.makeCurrent()},multi:!0},{provide:te,useFactory:function nd(){return(0,c.RDi)(document),document},deps:[]}]),kc=new c.OlP(""),Eu=[{provide:c.rWj,useClass:class Xl{addToWindow(e){c.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const s=c.dqk.getAllAngularTestabilities();let u=s.length,d=!1;const m=function(w){d=d||w,u--,0==u&&r(d)};s.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],eo=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Rp(){return new c.qLn},deps:[]},{provide:Wo,useClass:Ko,multi:!0,deps:[te,c.R0b,c.Lbi]},{provide:Wo,useClass:wu,multi:!0,deps:[te]},{provide:pr,useClass:pr,deps:[_a,Qi,c.AFp,xs]},{provide:c.FYo,useExisting:pr},{provide:ya,useExisting:Qi},{provide:Qi,useClass:Qi,deps:[te]},{provide:_a,useClass:_a,deps:[Wo,c.R0b]},{provide:class Hl{},useClass:Sh,deps:[]},[]];let Ta=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:gu,useExisting:c.AFp},qo]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kc,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...eo,...Eu],imports:[tu,c.hGG]}),n})(),Oh=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Aa(){return new Oh((0,c.LFG)(te))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var cn=k(8996),Mr=k(7669);function ut(...n){const e=(0,Mr.yG)(n);return(0,cn.D)(n,e)}var ar=k(7579);class Ni extends ar.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Co=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hr=k(9751);const{isArray:Vc}=Array,{getPrototypeOf:Mu,prototype:E,keys:D}=Object;function S(n){if(1===n.length){const e=n[0];if(Vc(e))return{args:e,keys:null};if(function F(n){return n&&"object"==typeof n&&Mu(n)===E}(e)){const t=D(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var W=k(4671),H=k(4004);const{isArray:Te}=Array;function ct(n){return(0,H.U)(e=>function nt(n,e){return Te(e)?n(...e):n(e)}(n,e))}function st(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var ht=k(5403),At=k(9672);function Or(...n){const e=(0,Mr.yG)(n),t=(0,Mr.jO)(n),{args:r,keys:s}=S(n);if(0===r.length)return(0,cn.D)([],e);const u=new Hr.y(function Yn(n,e,t=W.y){return r=>{Rs(e,()=>{const{length:s}=n,u=new Array(s);let d=s,m=s;for(let w=0;w<s;w++)Rs(e,()=>{const I=(0,cn.D)(n[w],e);let x=!1;I.subscribe((0,ht.x)(r,P=>{u[w]=P,x||(x=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,s?d=>st(s,d):W.y));return t?u.pipe(ct(t)):u}function Rs(n,e,t){n?(0,At.f)(t,n,e):e()}var Jo=k(8189);function Zr(...n){return function ks(){return(0,Jo.J)(1)}()((0,cn.D)(n,(0,Mr.yG)(n)))}var si=k(8421);function bo(n){return new Hr.y(e=>{(0,si.Xf)(n()).subscribe(e)})}var kp=k(9635),Nh=k(576);function Ou(n,e){const t=(0,Nh.m)(n)?n:()=>n,r=s=>s.error(t());return new Hr.y(e?s=>e.schedule(r,0,s):r)}var Xo=k(515),Fh=k(727),ai=k(4482);function ld(){return(0,ai.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ht.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Np extends Hr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ai.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fh.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ht.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fh.w0.EMPTY)}return e}refCount(){return ld()(this)}}function Tn(n,e){return(0,ai.e)((t,r)=>{let s=null,u=0,d=!1;const m=()=>d&&!s&&r.complete();t.subscribe((0,ht.x)(r,w=>{s?.unsubscribe();let I=0;const x=u++;(0,si.Xf)(n(w,x)).subscribe(s=(0,ht.x)(r,P=>r.next(e?e(w,P,x,I++):P),()=>{s=null,m()}))},()=>{d=!0,m()}))})}function dd(n){return n<=0?()=>Xo.E:(0,ai.e)((e,t)=>{let r=0;e.subscribe((0,ht.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function Lh(...n){const e=(0,Mr.yG)(n);return(0,ai.e)((t,r)=>{(e?Zr(n,t,e):Zr(n,t)).subscribe(r)})}function Ci(n,e){return(0,ai.e)((t,r)=>{let s=0;t.subscribe((0,ht.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var ui=k(5577);function Vh(n){return(0,ai.e)((e,t)=>{let r=!1;e.subscribe((0,ht.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function h_(n=Bv){return(0,ai.e)((e,t)=>{let r=!1;e.subscribe((0,ht.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function Bv(){return new Co}function Ns(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ci((s,u)=>n(s,u,r)):W.y,dd(1),t?Vh(e):h_(()=>new Co))}function es(n,e){return(0,Nh.m)(e)?(0,ui.z)(n,e,1):(0,ui.z)(n,1)}var gr=k(8505);function Eo(n){return(0,ai.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,ht.x)(t,void 0,void 0,d=>{u=(0,si.Xf)(n(d,Eo(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Pu(n,e){return(0,ai.e)(function Fp(n,e,t,r,s){return(u,d)=>{let m=t,w=e,I=0;u.subscribe((0,ht.x)(d,x=>{const P=I++;w=m?n(w,x,P):(m=!0,x),r&&d.next(w)},s&&(()=>{m&&d.next(w),d.complete()})))}}(n,e,arguments.length>=2,!0))}function hd(n){return n<=0?()=>Xo.E:(0,ai.e)((e,t)=>{let r=[];e.subscribe((0,ht.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function Fi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ci((s,u)=>n(s,u,r)):W.y,hd(1),t?Vh(e):h_(()=>new Co))}function Uh(n){return(0,ai.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const kt="primary",ts=Symbol("RouteTitle");class g_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Fs(n){return new g_(n)}function m_(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))s[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Io(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!fd(n[s],e[s]))return!1;return!0}function fd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function zr(n){return Array.prototype.concat.apply([],n)}function Uc(n){return n.length>0?n[n.length-1]:null}function tr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function An(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,cn.D)(Promise.resolve(n)):ut(n)}const Ls=!1,Vp={exact:function __(n,e,t){if(!bi(n.segments,e.segments)||!Ru(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!__(n.children[r],e.children[r],t))return!1;return!0},subset:Bp},jh={exact:function Up(n,e){return Io(n,e)},subset:function Vs(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>fd(n[t],e[t]))},ignored:()=>!0};function $h(n,e,t){return Vp[t.paths](n.root,e.root,t.matrixParams)&&jh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Bp(n,e,t){return Hh(n,e,e.segments,t)}function Hh(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!bi(s,t)||e.hasChildren()||!Ru(s,t,r))}if(n.segments.length===t.length){if(!bi(n.segments,t)||!Ru(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!Bp(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(bi(n.segments,s)&&Ru(n.segments,s,r)&&n.children[kt])&&Hh(n.children[kt],e,u,r)}}function Ru(n,e,t){return e.every((r,s)=>jh[t](n[s].parameters,r.parameters))}class Us{constructor(e=new Bt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fs(this.queryParams)),this._queryParamMap}toString(){return Zh.serialize(this)}}class Bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,tr(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}}class Oa{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Fs(this.parameters)),this._parameterMap}toString(){return md(this)}}function bi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Bc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Pa},providedIn:"root"}),n})();class Pa{parse(e){const t=new b_(e);return new Us(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Do(e.root,!0)}`,r=function w_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${$c(t)}=${$c(s)}`).join("&"):`${$c(t)}=${$c(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function jp(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Zh=new Pa;function jc(n){return n.segments.map(e=>md(e)).join("/")}function Do(n,e){if(!n.hasChildren())return jc(n);if(e){const t=n.children[kt]?Do(n.children[kt],!1):"",r=[];return tr(n.children,(s,u)=>{u!==kt&&r.push(`${u}:${Do(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function v_(n,e){let t=[];return tr(n.children,(r,s)=>{s===kt&&(t=t.concat(e(r,s)))}),tr(n.children,(r,s)=>{s!==kt&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===kt?[Do(n.children[kt],!1)]:[`${s}:${Do(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kt]?`${jc(n)}/${t[0]}`:`${jc(n)}/(${t.join("//")})`}}function pd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $c(n){return pd(n).replace(/%3B/gi,";")}function Ra(n){return pd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gd(n){return decodeURIComponent(n)}function $p(n){return gd(n.replace(/\+/g,"%20"))}function md(n){return`${Ra(n.path)}${function zh(n){return Object.keys(n).map(e=>`;${Ra(e)}=${Ra(n[e])}`).join("")}(n.parameters)}`}const C_=/^[^\/()?;=#]+/;function Bs(n){const e=n.match(C_);return e?e[0]:""}const Gh=/^[^=?&#]+/,qh=/^[^&#]+/;class b_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[kt]=new Bt(e,t)),r}parseSegment(){const e=Bs(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,Ls);return this.capture(e),new Oa(gd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Bs(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Bs(this.remaining);s&&(r=s,this.capture(r))}e[gd(t)]=gd(r)}parseQueryParam(e){const t=function Hp(n){const e=n.match(Gh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Zp(n){const e=n.match(qh);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const s=$p(t),u=$p(r);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bs(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new c.vHH(4010,Ls);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=kt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[kt]:new Bt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,Ls)}}function _d(n){return n.segments.length>0?new Bt([],{[kt]:n}):n}function Hc(n){const e={};for(const r of Object.keys(n.children)){const u=Hc(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function ka(n){if(1===n.numberOfChildren&&n.children[kt]){const e=n.children[kt];return new Bt(n.segments.concat(e.segments),e.children)}return n}(new Bt(n.segments,e))}function Li(n){return n instanceof Us}const yd=!1;function D_(n,e,t,r,s){if(0===t.length)return ns(e.root,e.root,e.root,r,s);const u=function zc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vd(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return tr(u.outlets,(w,I)=>{m[I]="string"==typeof w?w.split("/"):w}),[...s,{outlets:m}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===d?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,u]},[]);return new vd(t,e,r)}(t);return u.toRoot()?ns(e.root,e.root,new Bt([],{}),r,s):function d(w){const I=function Gr(n,e,t,r){if(n.isAbsolute)return new to(e.root,!0,0);if(-1===r)return new to(t,t===e.root,0);return function js(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new c.vHH(4005,yd&&"Invalid number of '../'");s=r.segments.length}return new to(r,!1,s-u)}(t,r+(ku(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),x=I.processChildren?$s(I.segmentGroup,I.index,u.commands):Fa(I.segmentGroup,I.index,u.commands);return ns(e.root,I.segmentGroup,x,r,s)}(n.snapshot?._lastPathIndex)}function ku(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Na(n){return"object"==typeof n&&null!=n&&n.outlets}function ns(n,e,t,r,s){let d,u={};r&&tr(r,(w,I)=>{u[I]=Array.isArray(w)?w.map(x=>`${x}`):`${w}`}),d=n===e?t:Nu(n,e,t);const m=_d(Hc(d));return new Us(m,u,s)}function Nu(n,e,t){const r={};return tr(n.children,(s,u)=>{r[u]=s===e?t:Nu(s,e,t)}),new Bt(n.segments,r)}class vd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ku(r[0]))throw new c.vHH(4003,yd&&"Root segment cannot have matrix parameters");const s=r.find(Na);if(s&&s!==Uc(r))throw new c.vHH(4004,yd&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class to{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Fa(n,e,t){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return $s(n,e,t);const r=function Cd(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const d=n.segments[s],m=t[r];if(Na(m))break;const w=`${m}`,I=r<t.length-1?t[r+1]:null;if(s>0&&void 0===w)break;if(w&&I&&"object"==typeof I&&void 0===I.outlets){if(!To(w,I,d))return u;r+=2}else{if(!To(w,{},d))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Bt(n.segments.slice(0,r.pathIndex),{});return u.children[kt]=new Bt(n.segments.slice(r.pathIndex),n.children),$s(u,0,s)}return r.match&&0===s.length?new Bt(n.segments,{}):r.match&&!n.hasChildren()?Wh(n,e,t):r.match?$s(n,0,s):Wh(n,e,t)}function $s(n,e,t){if(0===t.length)return new Bt(n.segments,{});{const r=function wd(n){return Na(n[0])?n[0].outlets:{[kt]:n}}(t),s={};return!r[kt]&&n.children[kt]&&1===n.numberOfChildren&&0===n.children[kt].segments.length?$s(n.children[kt],e,t):(tr(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[d]=Fa(n.children[d],e,u))}),tr(n.children,(u,d)=>{void 0===r[d]&&(s[d]=u)}),new Bt(n.segments,s))}}function Wh(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Na(u)){const w=Gp(u.outlets);return new Bt(r,w)}if(0===s&&ku(t[0])){r.push(new Oa(n.segments[e].path,qp(t[0]))),s++;continue}const d=Na(u)?u.outlets[kt]:`${u}`,m=s<t.length-1?t[s+1]:null;d&&m&&ku(m)?(r.push(new Oa(d,qp(m))),s+=2):(r.push(new Oa(d,{})),s++)}return new Bt(r,{})}function Gp(n){const e={};return tr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Wh(new Bt([],{}),0,t))}),e}function qp(n){const e={};return tr(n,(t,r)=>e[r]=`${t}`),e}function To(n,e,t){return n==t.path&&Io(e,t.parameters)}const La="imperative";class Ei{constructor(e,t){this.id=e,this.url=t}}class Gc extends Ei{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vi extends Ei{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qc extends Ei{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mr extends Ei{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class bd extends Ei{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kh extends Ei{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yh extends Ei{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rs extends Ei{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fu extends Ei{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wc extends Ei{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ed{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wp{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Id{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T_{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qp{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let g=(()=>{class n{createUrlTree(t,r,s,u,d,m){return D_(t||r.root,s,u,d,m)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return g.\u0275fac(e)},providedIn:"root"}),n})();class O{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=G(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=G(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=se(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return se(e,this._root).map(t=>t.value)}}function G(n,e){if(n===e.value)return e;for(const t of e.children){const r=G(n,t);if(r)return r}return null}function se(n,e){if(n===e.value)return[e];for(const t of e.children){const r=se(n,t);if(r.length)return r.unshift(e),r}return[]}class ke{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Je(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class It extends O{constructor(e,t){super(e),this.snapshot=t,Zs(this,e)}toString(){return this.snapshot.toString()}}function mt(n,e){const t=function nr(n,e){const d=new Hs([],{},{},"",{},kt,e,null,n.root,-1,{});return new no("",new ke(d,[]))}(n,e),r=new Ni([new Oa("",{})]),s=new Ni({}),u=new Ni({}),d=new Ni({}),m=new Ni(""),w=new rr(r,s,d,m,u,kt,e,t.root);return w.snapshot=t.root,new It(new ke(w,[]),t)}class rr{constructor(e,t,r,s,u,d,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,H.U)(I=>I[ts]))??ut(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,H.U)(e=>Fs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,H.U)(e=>Fs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kc(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function Jp(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Hs{get title(){return this.data?.[ts]}constructor(e,t,r,s,u,d,m,w,I,x,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=d,this.component=m,this.routeConfig=w,this._urlSegment=I,this._lastPathIndex=x,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class no extends O{constructor(e,t){super(t),this.url=e,Zs(this,t)}toString(){return Yc(this._root)}}function Zs(n,e){e.value._routerState=n,e.children.forEach(t=>Zs(n,t))}function Yc(n){const e=n.children.length>0?` { ${n.children.map(Yc).join(", ")} } `:"";return`${n.value}${e}`}function Qc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Io(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Io(e.params,t.params)||n.params.next(t.params),function Bh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Io(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Io(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Jc(n,e){const t=Io(n.params,e.params)&&function y_(n,e){return bi(n,e)&&n.every((t,r)=>Io(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Jc(n.parent,e.parent))}function Xc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function jv(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Xc(n,r,s);return Xc(n,r)})}(n,e,t);return new ke(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Xc(n,m)),d}}const r=function el(n){return new rr(new Ni(n.url),new Ni(n.params),new Ni(n.queryParams),new Ni(n.fragment),new Ni(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>Xc(n,u));return new ke(r,s)}}const tl="ngNavigationCancelingError";function kE(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Li(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=NE(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function NE(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[tl]=!0,r.cancellationCode=e,t&&(r.url=t),r}function A_(n){return $v(n)&&Li(n.url)}function $v(n){return n&&n[tl]}class FE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qh,this.attachRef=null}}let Qh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new FE,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eg=!1;let tg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Qh),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,eg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,eg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,eg);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,eg);this._activatedRoute=t;const s=this.location,d=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new ng(t,m,s.injector);if(r&&function LE(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(d);this.activated=s.createComponent(I,s.length,w)}else this.activated=s.createComponent(d,{index:s.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class ng{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===rr?this.route:e===Qh?this.childContexts:this.parent.get(e,t)}}let Jh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[tg],encapsulation:2}),n})();function Hv(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function x_(n){const e=n.children&&n.children.map(x_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==kt&&(t.component=Jh),t}function ro(n){return n.outlet||kt}function jE(n,e){const t=n.filter(r=>ro(r)===e);return t.push(...n.filter(r=>ro(r)!==e)),t}function ig(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class S_{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Qc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=Je(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,s[d],r),delete s[d]}),tr(s,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const d=r.getContext(s.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Je(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Je(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=Je(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new T_(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Kp(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(Qc(s),s===u)if(s.component){const d=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const d=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Qc(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=ig(s.snapshot),w=m?.get(c._Vd)??null;d.attachRef=null,d.route=s,d.resolver=w,d.injector=m,d.outlet&&d.outlet.activateWith(s,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class M_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ef{constructor(e,t){this.component=e,this.route=t}}function zv(n,e,t){const r=n._root;return Td(r,e?e._root:null,t,[r.value])}function Dd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Td(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=Je(e);return n.children.forEach(d=>{(function Gv(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const w=function O_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!bi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bi(n.url,e.url)||!Io(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jc(n,e)||!Io(n.queryParams,e.queryParams);default:return!Jc(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);w?s.canActivateChecks.push(new M_(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Td(n,e,u.component?m?m.children:null:t,r,s),w&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new ef(m.outlet.component,d))}else d&&og(e,m,s),s.canActivateChecks.push(new M_(r)),Td(n,null,u.component?m?m.children:null:t,r,s)})(d,u[d.value.outlet],t,r.concat([d.value]),s),delete u[d.value.outlet]}),tr(u,(d,m)=>og(d,t.getContext(m),s)),s}function og(n,e,t){const r=Je(n),s=n.value;tr(r,(u,d)=>{og(u,s.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new ef(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function nl(n){return"function"==typeof n}function R_(n){return n instanceof Co||"EmptyError"===n?.name}const Ad=Symbol("INITIAL_VALUE");function Va(){return Tn(n=>Or(n.map(e=>e.pipe(dd(1),Lh(Ad)))).pipe((0,H.U)(e=>{for(const t of e)if(!0!==t){if(t===Ad)return Ad;if(!1===t||t instanceof Us)return t}return!0}),Ci(e=>e!==Ad),dd(1)))}function Jv(n){return(0,kp.z)((0,gr.b)(e=>{if(Li(e))throw kE(0,e)}),(0,H.U)(e=>!0===e))}const F_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function L_(n,e,t,r,s){const u=V_(n,e,t);return u.matched?function N_(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?ut(s.map(d=>{const m=Dd(d,n);return An(function HE(n){return n&&nl(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Va(),Jv()):ut(!0)}(r=Hv(e,r),e,t).pipe((0,H.U)(d=>!0===d?u:{...F_})):ut(u)}function V_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...F_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||m_)(t,n,e);if(!s)return{...F_};const u={};tr(s.posParams,(m,w)=>{u[w]=m.path});const d=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:d,positionalParamSegments:s.posParams??{}}}function tf(n,e,t,r){if(t.length>0&&function nf(n,e,t){return t.some(r=>Ua(n,e,r)&&ro(r)!==kt)}(n,t,r)){const u=new Bt(e,function WE(n,e,t,r){const s={};s[kt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ro(u)!==kt){const d=new Bt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,s[ro(u)]=d}return s}(n,e,r,new Bt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function KE(n,e,t){return t.some(r=>Ua(n,e,r))}(n,t,r)){const u=new Bt(n.segments,function Ex(n,e,t,r,s){const u={};for(const d of r)if(Ua(n,t,d)&&!s[ro(d)]){const m=new Bt([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,u[ro(d)]=m}return{...s,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new Bt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Ua(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Sd(n,e,t,r){return!!(ro(n)===r||r!==kt&&Ua(e,t,n))&&("**"===n.path||V_(e,n,t).matched)}function Xv(n,e,t){return 0===e.length&&!n.children[t]}const rf=!1;class ag{constructor(e){this.segmentGroup=e||null}}class ew{constructor(e){this.urlTree=e}}function sf(n){return Ou(new ag(n))}function U_(n){return Ou(new ew(n))}class YE{constructor(e,t,r,s,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0}apply(){const e=tf(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,kt).pipe((0,H.U)(u=>this.createUrlTree(Hc(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Eo(u=>{if(u instanceof ew)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ag?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,kt).pipe((0,H.U)(s=>this.createUrlTree(Hc(s),e.queryParams,e.fragment))).pipe(Eo(s=>{throw s instanceof ag?this.noMatchError(s):s}))}noMatchError(e){return new c.vHH(4002,rf)}createUrlTree(e,t,r){const s=_d(e);return new Us(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,H.U)(u=>new Bt([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,cn.D)(s).pipe(es(u=>{const d=r.children[u],m=jE(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,H.U)(w=>({segment:w,outlet:u})))}),Pu((u,d)=>(u[d.outlet]=d.segment,u),{}),Fi())}expandSegment(e,t,r,s,u,d){return(0,cn.D)(r).pipe(es(m=>this.expandSegmentAgainstRoute(e,t,r,m,s,u,d).pipe(Eo(I=>{if(I instanceof ag)return ut(null);throw I}))),Ns(m=>!!m),Eo((m,w)=>{if(R_(m))return Xv(t,s,u)?ut(new Bt([],{})):sf(t);throw m}))}expandSegmentAgainstRoute(e,t,r,s,u,d,m){return Sd(s,t,u,d)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d):sf(t):sf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?U_(u):this.lineralizeSegments(r,u).pipe((0,ui.z)(d=>{const m=new Bt(d,{});return this.expandSegment(e,m,t,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){const{matched:m,consumedSegments:w,remainingSegments:I,positionalParamSegments:x}=V_(t,s,u);if(!m)return sf(t);const P=this.applyRedirectCommands(w,s.redirectTo,x);return s.redirectTo.startsWith("/")?U_(P):this.lineralizeSegments(s,P).pipe((0,ui.z)($=>this.expandSegment(e,t,r,$.concat(I),d,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){return"**"===r.path?(e=Hv(r,e),r.loadChildren?(r._loadedRoutes?ut({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,H.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Bt(s,{})))):ut(new Bt(s,{}))):L_(t,r,s,e).pipe(Tn(({matched:d,consumedSegments:m,remainingSegments:w})=>d?this.getChildConfig(e=r._injector??e,r,s).pipe((0,ui.z)(x=>{const P=x.injector??e,$=x.routes,{segmentGroup:Q,slicedSegments:ae}=tf(t,m,w,$),Me=new Bt(Q.segments,Q.children);if(0===ae.length&&Me.hasChildren())return this.expandChildren(P,$,Me).pipe((0,H.U)(Rt=>new Bt(m,Rt)));if(0===$.length&&0===ae.length)return ut(new Bt(m,{}));const Be=ro(r)===u;return this.expandSegment(P,Me,$,ae,Be?kt:u,!0).pipe((0,H.U)(Jt=>new Bt(m.concat(Jt.segments),Jt.children)))})):sf(t)))}getChildConfig(e,t,r){return t.children?ut({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ut({routes:t._loadedRoutes,injector:t._loadedInjector}):function qE(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?ut(!0):ut(s.map(d=>{const m=Dd(d,n);return An(function P_(n){return n&&nl(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Va(),Jv())}(e,t,r).pipe((0,ui.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,gr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function B_(n){return Ou(NE(rf,3))}())):ut({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return ut(r);if(s.numberOfChildren>1||!s.children[kt])return e.redirectTo,Ou(new c.vHH(4e3,rf));s=s.children[kt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new Us(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return tr(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[u]=t[m]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let d={};return tr(t.children,(m,w)=>{d[w]=this.createSegmentGroup(e,m,r,s)}),new Bt(u,d)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new c.vHH(4001,rf);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class QE{}class eI{constructor(e,t,r,s,u,d,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=u,this.paramsInheritanceStrategy=d,this.urlSerializer=m}recognize(){const e=tf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,kt).pipe((0,H.U)(t=>{if(null===t)return null;const r=new Hs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ke(r,t),u=new no(this.url,s);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=Kc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,cn.D)(Object.keys(r.children)).pipe(es(s=>{const u=r.children[s],d=jE(t,s);return this.processSegmentGroup(e,d,u,s)}),Pu((s,u)=>s&&u?(s.push(...u),s):null),function f_(n,e=!1){return(0,ai.e)((t,r)=>{let s=0;t.subscribe((0,ht.x)(r,u=>{const d=n(u,s++);(d||e)&&r.next(u),!d&&r.complete()}))})}(s=>null!==s),Vh(null),Fi(),(0,H.U)(s=>{if(null===s)return null;const u=ol(s);return function tI(n){n.sort((e,t)=>e.value.outlet===kt?-1:t.value.outlet===kt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,s,u){return(0,cn.D)(t).pipe(es(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,s,u)),Ns(d=>!!d),Eo(d=>{if(R_(d))return Xv(r,s,u)?ut([]):ut(null);throw d}))}processSegmentAgainstRoute(e,t,r,s,u){if(t.redirectTo||!Sd(t,r,s,u))return ut(null);let d;if("**"===t.path){const m=s.length>0?Uc(s).parameters:{},w=rw(r)+s.length;d=ut({snapshot:new Hs(s,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iI(t),ro(t),t.component??t._loadedComponent??null,t,nw(r),w,H_(t)),consumedSegments:[],remainingSegments:[]})}else d=L_(r,t,s,e).pipe((0,H.U)(({matched:m,consumedSegments:w,remainingSegments:I,parameters:x})=>{if(!m)return null;const P=rw(r)+w.length;return{snapshot:new Hs(w,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iI(t),ro(t),t.component??t._loadedComponent??null,t,nw(r),P,H_(t)),consumedSegments:w,remainingSegments:I}}));return d.pipe(Tn(m=>{if(null===m)return ut(null);const{snapshot:w,consumedSegments:I,remainingSegments:x}=m;e=t._injector??e;const P=t._loadedInjector??e,$=function nI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Q,slicedSegments:ae}=tf(r,I,x,$.filter(Be=>void 0===Be.redirectTo));if(0===ae.length&&Q.hasChildren())return this.processChildren(P,$,Q).pipe((0,H.U)(Be=>null===Be?null:[new ke(w,Be)]));if(0===$.length&&0===ae.length)return ut([new ke(w,[])]);const Me=ro(t)===u;return this.processSegment(P,$,Q,ae,Me?kt:u).pipe((0,H.U)(Be=>null===Be?null:[new ke(w,Be)]))}))}}function rI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ol(n){const e=[],t=new Set;for(const r of n){if(!rI(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=ol(r.children);e.push(new ke(r.value,s))}return e.filter(r=>!t.has(r))}function nw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function iI(n){return n.data||{}}function H_(n){return n.resolve||{}}function aw(n){return"string"==typeof n.title||null===n.title}function io(n){return Tn(e=>{const t=n(e);return t?(0,cn.D)(t).pipe((0,H.U)(()=>e)):ut(e)})}const Od=new c.OlP("ROUTES");let z_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ut(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=An(t.loadComponent()).pipe((0,H.U)(uw),(0,gr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Uh(()=>{this.componentLoaders.delete(t)})),s=new Np(r,()=>new ar.x).pipe(ld());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ut({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,H.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,I,x=!1;Array.isArray(m)?I=m:(w=m.create(t).injector,I=zr(w.get(Od,[],c.XFs.Self|c.XFs.Optional)));return{routes:I.map(x_),injector:w}}),Uh(()=>{this.childrenLoaders.delete(r)})),d=new Np(u,()=>new ar.x).pipe(ld());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return An(t()).pipe((0,H.U)(uw),(0,ui.z)(s=>s instanceof c.YKP||Array.isArray(s)?ut(s):(0,cn.D)(this.compiler.compileModuleAsync(s))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uw(n){return function uI(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ug=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ar.x,this.configLoader=(0,c.f3M)(z_),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Bc),this.rootContexts=(0,c.f3M)(Qh),this.navigationId=0,this.afterPreactivation=()=>ut(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Wp(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Ed(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ni({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:La,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ci(r=>0!==r.id),(0,H.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Tn(r=>{let s=!1,u=!1;return ut(r).pipe((0,gr.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Tn(d=>{const m=t.browserUrlTree.toString(),w=!t.navigated||d.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!w&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const x="";return this.events.next(new mr(d.id,t.serializeUrl(r.rawUrl),x,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),Xo.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return cw(d.source)&&(t.browserUrlTree=d.extractedUrl),ut(d).pipe(Tn(x=>{const P=this.transitions?.getValue();return this.events.next(new Gc(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),P!==this.transitions?.getValue()?Xo.E:Promise.resolve(x)}),function $_(n,e,t,r){return Tn(s=>function j_(n,e,t,r,s){return new YE(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,H.U)(u=>({...s,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,gr.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},r.urlAfterRedirects=x.urlAfterRedirects}),function Ix(n,e,t,r,s){return(0,ui.z)(u=>function XE(n,e,t,r,s,u,d="emptyOnly"){return new eI(n,e,t,r,s,d,u).recognize().pipe(Tn(m=>null===m?function JE(n){return new Hr.y(e=>e.error(n))}(new QE):ut(m)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,s).pipe((0,H.U)(d=>({...u,targetSnapshot:d}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,gr.b)(x=>{if(r.targetSnapshot=x.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!x.extras.skipLocationChange){const $=t.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);t.setBrowserUrl($,x)}t.browserUrlTree=x.urlAfterRedirects}const P=new Kh(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(P)}));if(w&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:x,extractedUrl:P,source:$,restoredState:Q,extras:ae}=d,Me=new Gc(x,this.urlSerializer.serialize(P),$,Q);this.events.next(Me);const Be=mt(P,this.rootComponentType).snapshot;return ut(r={...d,targetSnapshot:Be,urlAfterRedirects:P,extras:{...ae,skipLocationChange:!1,replaceUrl:!1}})}{const x="";return this.events.next(new mr(d.id,t.serializeUrl(r.extractedUrl),x,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),Xo.E}}),(0,gr.b)(d=>{const m=new Yh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,H.U)(d=>r={...d,guards:zv(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function il(n,e){return(0,ui.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?ut({...t,guardsResult:!0}):function Yv(n,e,t,r){return(0,cn.D)(n).pipe((0,ui.z)(s=>function GE(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ut(u.map(m=>{const w=ig(e)??s,I=Dd(m,w);return An(function rl(n){return n&&nl(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):w.runInContext(()=>I(n,e,t,r))).pipe(Ns())})).pipe(Va()):ut(!0)}(s.component,s.route,t,e,r)),Ns(s=>!0!==s,!0))}(d,r,s,n).pipe((0,ui.z)(m=>m&&function $E(n){return"boolean"==typeof n}(m)?function k_(n,e,t,r){return(0,cn.D)(e).pipe(es(s=>Zr(function zE(n,e){return null!==n&&e&&e(new Id(n)),ut(!0)}(s.route.parent,r),function ZE(n,e){return null!==n&&e&&e(new Yp(n)),ut(!0)}(s.route,r),function xd(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function bx(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>bo(()=>ut(d.guards.map(w=>{const I=ig(d.node)??t,x=Dd(w,I);return An(function Wv(n){return n&&nl(n.canActivateChild)}(x)?x.canActivateChild(r,n):I.runInContext(()=>x(r,n))).pipe(Ns())})).pipe(Va())));return ut(u).pipe(Va())}(n,s.path,t),function Qv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const s=r.map(u=>bo(()=>{const d=ig(e)??t,m=Dd(u,d);return An(function qv(n){return n&&nl(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(Ns())}));return ut(s).pipe(Va())}(n,s.route,t))),Ns(s=>!0!==s,!0))}(r,u,n,e):ut(m)),(0,H.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,gr.b)(d=>{if(r.guardsResult=d.guardsResult,Li(d.guardsResult))throw kE(0,d.guardsResult);const m=new rs(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),Ci(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),io(d=>{if(d.guards.canActivateChecks.length)return ut(d).pipe((0,gr.b)(m=>{const w=new Fu(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),Tn(m=>{let w=!1;return ut(m).pipe(function iw(n,e){return(0,ui.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return ut(t);let u=0;return(0,cn.D)(s).pipe(es(d=>function ow(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!aw(s)&&(u[ts]=s.title),function oI(n,e,t,r){const s=function sw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return ut({});const u={};return(0,cn.D)(s).pipe((0,ui.z)(d=>function sI(n,e,t,r){const s=ig(e)??r,u=Dd(n,s);return An(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(Ns(),(0,gr.b)(m=>{u[d]=m}))),hd(1),function p_(n){return(0,H.U)(()=>n)}(u),Eo(d=>R_(d)?Xo.E:Ou(d)))}(u,n,e,r).pipe((0,H.U)(d=>(n._resolvedData=d,n.data=Kc(n,t).resolve,s&&aw(s)&&(n.data[ts]=s.title),null)))}(d.route,r,n,e)),(0,gr.b)(()=>u++),hd(1),(0,ui.z)(d=>u===s.length?ut(t):Xo.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,gr.b)({next:()=>w=!0,complete:()=>{w||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,gr.b)(m=>{const w=new Wc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}))}),io(d=>{const m=w=>{const I=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,gr.b)(x=>{w.component=x}),(0,H.U)(()=>{})));for(const x of w.children)I.push(...m(x));return I};return Or(m(d.targetSnapshot.root)).pipe(Vh(),dd(1))}),io(()=>this.afterPreactivation()),(0,H.U)(d=>{const m=function Xp(n,e,t){const r=Xc(n,e._root,t?t._root:void 0);return new It(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),(0,gr.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,H.U)(r=>(new S_(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d)),(0,gr.b)({next:d=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Vi(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{s=!0}}),Uh(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Eo(d=>{if(u=!0,$v(d)){A_(d)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new qc(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),A_(d)){const w=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||cw(r.source)};t.scheduleNavigation(w,La,null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new bd(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(d))}catch(w){r.reject(w)}}return Xo.E}))}))}cancelNavigationTransition(t,r,s){const u=new qc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cw(n){return n!==La}let lw=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===kt);return r}getResolvedTitleForRoute(t){return t.data[ts]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(jt)},providedIn:"root"}),n})(),jt=(()=>{class n extends lw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Oh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(fw)},providedIn:"root"}),n})();class hw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let fw=(()=>{class n extends hw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cg=new c.OlP("",{providedIn:"root",factory:()=>({})});let pw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(lI)},providedIn:"root"}),n})(),lI=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dI(n){throw n}function hI(n,e,t){return e.parse("/")}const Dx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ui=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(cg,{optional:!0})||{},this.errorHandler=this.options.errorHandler||dI,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(pw),this.routeReuseStrategy=(0,c.f3M)(dw),this.urlCreationStrategy=(0,c.f3M)(A),this.titleStrategy=(0,c.f3M)(lw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=zr((0,c.f3M)(Od,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(ug),this.urlSerializer=(0,c.f3M)(Bc),this.location=(0,c.f3M)(Fe),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Us,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mt(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),La,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},d=s?.navigationId?s:null;if(s){const w={...s};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(x_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:w}=r,I=w?this.currentUrlTree.fragment:d;let x=null;switch(m){case"merge":x={...this.currentUrlTree.queryParams,...u};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=u||null}return null!==x&&(x=this.removeEmptyProps(x)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,t,x,I??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=Li(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,La,null,r)}navigate(t,r={skipLocationChange:!1}){return function sl(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...Dx}:!1===r?{...gw}:r,Li(t))return $h(this.currentUrlTree,t,s);const u=this.parseUrl(t);return $h(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,d){if(this.disposed)return Promise.resolve(!1);let m,w,I,x;return d?(m=d.resolve,w=d.reject,I=d.promise):I=new Promise((P,$)=>{m=P,w=$}),x="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:x,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:w,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===s?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lu=(()=>{class n{constructor(t,r,s,u,d,m){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=d,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ar.x;const w=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===w||"area"===w,this.isAnchorElement?this.subscription=t.events.subscribe(I=>{I instanceof Vi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,u,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||u||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,u=this.el.nativeElement;null!==r?s.setAttribute(u,t,r):s.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ui),c.Y36(rr),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(it))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class mw{}let Tx=(()=>{class n{constructor(t,r,s,u,d){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Ci(t=>t instanceof Vi),es(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,m=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?s.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&s.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,cn.D)(s).pipe((0,Jo.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ut(null);const u=s.pipe((0,ui.z)(d=>null===d?ut(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,cn.D)([u,d]).pipe((0,Jo.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ui),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(mw),c.LFG(z_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W_=new c.OlP("");let K_=(()=>{class n{constructor(t,r,s,u,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qp&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qp(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();var Ao=(()=>((Ao=Ao||{})[Ao.COMPLETE=0]="COMPLETE",Ao[Ao.FAILED=1]="FAILED",Ao[Ao.REDIRECTING=2]="REDIRECTING",Ao))();const is=!1;function os(n,e){return{\u0275kind:n,\u0275providers:e}}const Q_=new c.OlP("",{providedIn:"root",factory:()=>!1});function yw(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(Ui),s=n.get(vw);1===n.get(J_)&&r.initialNavigation(),n.get(X_,null,c.XFs.Optional)?.setUpPreloading(),n.get(W_,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.unsubscribe())}}const vw=new c.OlP(is?"bootstrap done indicator":"",{factory:()=>new ar.x}),J_=new c.OlP(is?"initial navigation":"",{providedIn:"root",factory:()=>1});function Cw(){let n=[];return n=is?[{provide:c.Xts,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Ui);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function _(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],os(1,n)}const X_=new c.OlP(is?"router preloader":"");function ey(n){return os(0,[{provide:X_,useExisting:Tx},{provide:mw,useExisting:n}])}const dg=!1,ty=new c.OlP(dg?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),gI=[Fe,{provide:Bc,useClass:Pa},Ui,Qh,{provide:rr,useFactory:function Y_(n){return n.routerState.root},deps:[Ui]},z_,dg?{provide:Q_,useValue:!0}:[]];function Ew(){return new c.PXZ("Router",Ui)}let Iw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[gI,dg&&r?.enableTracing?Cw().\u0275providers:[],{provide:Od,multi:!0,useValue:t},{provide:ty,useFactory:ny,deps:[[Ui,new c.FiY,new c.tp0]]},{provide:cg,useValue:r||{}},r?.useHash?{provide:it,useClass:Ee}:{provide:it,useClass:be},{provide:W_,useFactory:()=>{const n=(0,c.f3M)(_s),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(cg),r=(0,c.f3M)(ug),s=(0,c.f3M)(Bc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new K_(s,r,n,e,t)}},r?.preloadingStrategy?ey(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Ew},r?.initialNavigation?cf(r):[],[{provide:fg,useFactory:yw},{provide:c.tb,multi:!0,useExisting:fg}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Od,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ty,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Jh]}),n})();function ny(n){if(dg&&n)throw new c.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function cf(n){return["disabled"===n.initialNavigation?os(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Ui);return()=>{e.setUpLocationChangeListener()}}},{provide:J_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?os(2,[{provide:J_,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(oe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(Ui),u=e.get(vw);(function fI(n,e){n.events.pipe(Ci(t=>t instanceof Vi||t instanceof qc||t instanceof bd||t instanceof mr),(0,H.U)(t=>t instanceof Vi||t instanceof mr?Ao.COMPLETE:t instanceof qc&&(0===t.code||1===t.code)?Ao.REDIRECTING:Ao.FAILED),Ci(t=>t!==Ao.REDIRECTING),dd(1)).subscribe(()=>{e()})})(s,()=>{r(!0)}),e.get(ug).afterPreactivation=()=>(r(!0),u.closed?ut(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const fg=new c.OlP(dg?"Router Initializer":"");class al{}al.\u0275fac=function(e){return new(e||al)},al.\u0275cmp=c.Xpm({type:al,selectors:[["app-basket"]],decls:110,vars:0,consts:[[1,"basket"],[1,"basket_main"],[1,"basket_main_title"],[1,"basket_block"],[1,"basket_left_block"],[1,"basket_fields"],[1,"basket_position"],["src","assets/img/black_la_hat.jpg",1,"goods_img"],[1,"product_options_up"],[1,"product_options_name"],[1,"product_options_list"],[1,"product_options_list_option","option_third"],[1,"product_options_price"],[1,"position_cancel"],["href","#"],["src","assets/img/cross.png"],["src","assets/img/black_stylish_sunglasses.jpg",1,"goods_img"],[1,"order"],[1,"order_upper"],[1,"order_title"],[1,"order_lower"],[1,"order_ordering"],[1,"order_summing"],[1,"order_line"],[1,"order_price"],[1,"price"],[1,"order_final"],[1,"order_line","padding_top"],[1,"order_price_sum"],[1,"price_final"],["href","#",1,"order_button"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"p",2),c._uU(3,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"),c.qZA(),c.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"h1"),c._uU(8,"\u041f\u0440\u043e\u0434\u0443\u043a\u0442"),c.qZA(),c.TgZ(9,"h1"),c._uU(10,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),c.qZA(),c.TgZ(11,"h1"),c._uU(12,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),c.qZA(),c.TgZ(13,"h1"),c._uU(14,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),c.qZA()(),c.TgZ(15,"div",6),c._UZ(16,"img",7),c.TgZ(17,"div",8)(18,"p",9),c._uU(19,"\u0411\u0435\u0439\u0441\u0431\u043e\u043b\u043a\u0430 LA"),c.qZA()(),c.TgZ(20,"div",10)(21,"div",11)(22,"p"),c._uU(23,"1"),c.qZA()()(),c.TgZ(24,"p",12),c._uU(25,"61 \u0440\u0443\u0431."),c.qZA(),c.TgZ(26,"div",13)(27,"a",14),c._UZ(28,"img",15),c.qZA()()(),c.TgZ(29,"div",6),c._UZ(30,"img",7),c.TgZ(31,"div",8)(32,"p",9),c._uU(33,"\u0411\u0435\u0439\u0441\u0431\u043e\u043b\u043a\u0430 LA"),c.qZA()(),c.TgZ(34,"div",10)(35,"div",11)(36,"p"),c._uU(37,"1"),c.qZA()()(),c.TgZ(38,"p",12),c._uU(39,"61 \u0440\u0443\u0431."),c.qZA(),c.TgZ(40,"div",13)(41,"a",14),c._UZ(42,"img",15),c.qZA()()(),c.TgZ(43,"div",6),c._UZ(44,"img",7),c.TgZ(45,"div",8)(46,"p",9),c._uU(47,"\u0411\u0435\u0439\u0441\u0431\u043e\u043b\u043a\u0430 LA"),c.qZA()(),c.TgZ(48,"div",10)(49,"div",11)(50,"p"),c._uU(51,"1"),c.qZA()()(),c.TgZ(52,"p",12),c._uU(53,"61 \u0440\u0443\u0431."),c.qZA(),c.TgZ(54,"div",13)(55,"a",14),c._UZ(56,"img",15),c.qZA()()(),c.TgZ(57,"div",6),c._UZ(58,"img",16),c.TgZ(59,"div",8)(60,"p",9),c._uU(61,"\u0421\u043e\u043b\u043d\u0446\u0435\u0437\u0430\u0449\u0438\u0442\u043d\u044b\u0435 \u043e\u0447\u043a\u0438 \u043c\u0443\u0436\u0441\u043a\u0438\u0435"),c.qZA()(),c.TgZ(62,"div",10)(63,"div",11)(64,"p"),c._uU(65,"1"),c.qZA()()(),c.TgZ(66,"p",12),c._uU(67,"40 \u0440\u0443\u0431."),c.qZA(),c.TgZ(68,"div",13)(69,"a",14),c._UZ(70,"img",15),c.qZA()()(),c.TgZ(71,"div",6),c._UZ(72,"img",16),c.TgZ(73,"div",8)(74,"p",9),c._uU(75,"\u0421\u043e\u043b\u043d\u0446\u0435\u0437\u0430\u0449\u0438\u0442\u043d\u044b\u0435 \u043e\u0447\u043a\u0438 \u043c\u0443\u0436\u0441\u043a\u0438\u0435"),c.qZA()(),c.TgZ(76,"div",10)(77,"div",11)(78,"p"),c._uU(79,"1"),c.qZA()()(),c.TgZ(80,"p",12),c._uU(81,"40 \u0440\u0443\u0431."),c.qZA(),c.TgZ(82,"div",13)(83,"a",14),c._UZ(84,"img",15),c.qZA()()()(),c.TgZ(85,"div",17)(86,"div",18)(87,"p",19),c._uU(88,"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),c.qZA()(),c.TgZ(89,"div",20)(90,"div",21)(91,"div",22)(92,"span",23)(93,"p",24),c._uU(94,"\u0417\u0430\u043a\u0430\u0437:"),c.qZA(),c.TgZ(95,"p",25),c._uU(96,"263 \u0440\u0443\u0431."),c.qZA()(),c.TgZ(97,"span",23)(98,"p",24),c._uU(99,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"),c.qZA(),c.TgZ(100,"p",25),c._uU(101,"15 \u0440\u0443\u0431."),c.qZA()()(),c.TgZ(102,"div",26)(103,"span",27)(104,"p",28),c._uU(105,"\u0418\u0442\u043e\u0433\u043e:"),c.qZA(),c.TgZ(106,"p",29),c._uU(107,"278 \u0440\u0443\u0431."),c.qZA()()()()(),c.TgZ(108,"a",30),c._uU(109,"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),c.qZA()()()()())},styles:['.padding_top[_ngcontent-%COMP%]{padding-bottom:5%}.goods_img[_ngcontent-%COMP%]{width:129px;height:141px}.position_cancel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14.5px;height:14.5px;transform:rotate(90deg)}.position_cancel[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;background:rgb(63,103,204);border-radius:20px;right:-50px;padding-top:12.8px;padding-left:13px;visibility:hidden;transition:.5s}.basket_position[_ngcontent-%COMP%]:hover{background-color:#3f67cc;border:1px solid rgb(63,103,204)}.basket_position[_ngcontent-%COMP%]:hover   .position_cancel[_ngcontent-%COMP%]{visibility:visible}.basket_position[_ngcontent-%COMP%]:hover   .product_options_up[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .basket_position[_ngcontent-%COMP%]:hover   .product_options_price[_ngcontent-%COMP%], .basket_position[_ngcontent-%COMP%]:hover   .product_options_list_option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.basket[_ngcontent-%COMP%]{background-color:#fff;margin:0 auto;width:100%;padding-top:10%}.basket_main[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto;width:90%}.basket_block[_ngcontent-%COMP%]{display:flex}.basket_left_block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:50px}.basket_main_title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:36px;line-height:44px;color:#333;text-align:center;padding-bottom:5%}.basket_fields[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:8px;color:#333;display:flex;width:95%;margin:0 auto;justify-content:space-around}.basket_position[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;justify-content:space-between;border:1px solid #333;box-shadow:0 4px 4px #00000040;width:700px;margin:0 auto;transition:.6s}.product_options_up[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:50px;gap:5px}.product_options_name[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:20px;line-height:39px;color:#333;text-align:center;width:220px}.product_options_type[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:24px;color:#333;text-align:left;white-space:nowrap}.product_options_list[_ngcontent-%COMP%]{display:flex;margin-right:100px;gap:5%}.product_options_list_option[_ngcontent-%COMP%]{display:flex;gap:4%}.product_options_list_option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:25px;line-height:24px;color:#333}label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:20px;line-height:24px;text-align:center;white-space:nowrap;color:#fff}.product_options_price[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:22px;line-height:39px;text-align:center;color:#3f67cc;padding-right:8%;white-space:nowrap}.order[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto}.order_title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:22px;line-height:44px;color:#333;text-align:center;padding-bottom:5%}.order_ordering[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:350px;border:1px solid #333;box-shadow:0 4px 4px #00000040;gap:20px;padding:5%;transition:.5s}.order_ordering[_ngcontent-%COMP%]:hover{border-color:#3f67cc;background-color:#3f67cc}.order_ordering[_ngcontent-%COMP%]:hover   .order_price[_ngcontent-%COMP%]{color:#fff}.order_ordering[_ngcontent-%COMP%]:hover   .price[_ngcontent-%COMP%]{color:#fff;transition:width .3s ease-out}.order_ordering[_ngcontent-%COMP%]:hover   .price[_ngcontent-%COMP%]:after{display:block;position:absolute;top:25px;left:0;height:2px;background-color:#fff;content:"";width:100%;color:#fff}.order_ordering[_ngcontent-%COMP%]:hover   .order_price_sum[_ngcontent-%COMP%]{color:#fff}.order_ordering[_ngcontent-%COMP%]:hover   .price_final[_ngcontent-%COMP%]{color:#000}.order_ordering[_ngcontent-%COMP%]:hover   .price_final[_ngcontent-%COMP%]:after{display:block;position:absolute;top:35px;left:0;height:2px;background-color:#000;content:"";width:100%;color:#000}.order_summing[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.order_line[_ngcontent-%COMP%]{display:flex;gap:3%}.order_price[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:16px;line-height:20px;color:#333}.price[_ngcontent-%COMP%]{position:relative;font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:1;color:#122592}.order_final[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-bottom:10px}.order_price_sum[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:20px;line-height:39px;color:#333}.price_final[_ngcontent-%COMP%]{position:relative;font-family:Montserrat;font-style:normal;font-weight:500;font-size:24px;line-height:40px;color:#3f67cc}.order_button[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:600;font-size:16px;line-height:19px;color:#333;width:199px;height:50px;border:2px solid #333;text-decoration:none;transition:.5s;text-align:center;padding:4%;margin:20px auto 0}.order_button[_ngcontent-%COMP%]:hover{color:#fff;border-color:#3f67cc;background-color:#3f67cc}@media screen and (max-width: 960px){.basket[_ngcontent-%COMP%]{padding-top:150px}.basket_block[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order[_ngcontent-%COMP%]{padding-top:5%}.position_cancel[_ngcontent-%COMP%]{bottom:-60px;left:340px}.basket_left_block[_ngcontent-%COMP%]{width:100%;gap:80px}.basket_position[_ngcontent-%COMP%]{width:100%}.basket_position[_ngcontent-%COMP%]:last-child{margin-bottom:50px}.product_options_up[_ngcontent-%COMP%]{margin-right:30px}.product_options_list[_ngcontent-%COMP%]{margin-right:80px}}@media screen and (max-width: 570px){.basket_main[_ngcontent-%COMP%]{width:100%}.basket_fields[_ngcontent-%COMP%]{margin:0 auto;width:95%;font-size:7px;justify-content:space-between}.basket_left_block[_ngcontent-%COMP%]{gap:80px}.basket_position[_ngcontent-%COMP%]{width:98%;margin:0 auto;gap:20px}.product_options_up[_ngcontent-%COMP%]{margin-right:0;align-content:flex-start}.product_options_list[_ngcontent-%COMP%]{margin-right:0}.basket_position[_ngcontent-%COMP%]:last-child{margin-bottom:50px}.product_options_name[_ngcontent-%COMP%]{font-size:15px;line-height:normal;width:auto}.product_options_price[_ngcontent-%COMP%]{float:right;font-size:18px}.position_cancel[_ngcontent-%COMP%]{bottom:-60px;left:180px}.goods_img[_ngcontent-%COMP%]{width:100px;height:120px}}']});let gg=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Vu=(()=>{class n extends gg{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const xo=new c.OlP("NgValueAccessor"),Tw={provide:xo,useExisting:(0,c.Gpc)(()=>ul),multi:!0},Aw=new c.OlP("CompositionEventMode");let ul=(()=>{class n extends gg{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vI(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Aw,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([Tw]),c.qOj]}),n})();const wI=!1;function Uu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const qr=new c.OlP("NgValidators"),Bu=new c.OlP("NgAsyncValidators");function Mw(n){return Uu(n.value)?{required:!0}:null}function _g(n){return null}function kw(n){return null!=n}function Nw(n){const e=(0,c.QGY)(n)?(0,cn.D)(n):n;if(wI&&!(0,c.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new c.vHH(-1101,t)}return e}function Fw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Lw(n,e){return e.map(t=>t(n))}function yg(n){return n.map(e=>function zs(n){return!n.validate}(e)?e:t=>e.validate(t))}function sy(n){return null!=n?function Vw(n){if(!n)return null;const e=n.filter(kw);return 0==e.length?null:function(t){return Fw(Lw(t,e))}}(yg(n)):null}function uy(n){return null!=n?function ay(n){if(!n)return null;const e=n.filter(kw);return 0==e.length?null:function(t){return function ry(...n){const e=(0,Mr.jO)(n),{args:t,keys:r}=S(n),s=new Hr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let w=d,I=d;for(let x=0;x<d;x++){let P=!1;(0,si.Xf)(t[x]).subscribe((0,ht.x)(u,$=>{P||(P=!0,I--),m[x]=$},()=>w--,void 0,()=>{(!w||!P)&&(I||u.next(r?st(r,m):m),u.complete())}))}});return e?s.pipe(ct(e)):s}(Lw(t,e).map(Nw)).pipe((0,H.U)(Fw))}}(yg(n)):null}function Uw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cy(n){return n?Array.isArray(n)?n:[n]:[]}function wg(n,e){return Array.isArray(n)?n.includes(e):n===e}function lf(n,e){const t=cy(e);return cy(n).forEach(s=>{wg(t,s)||t.push(s)}),t}function Cg(n,e){return cy(e).filter(t=>!wg(n,t))}class df{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ji extends df{get formDirective(){return null}get path(){return null}}class Gs extends df{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class CI{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hf=(()=>{class n extends CI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Gs,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),bg=(()=>{class n extends CI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ji,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();function jw(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const ly=!1,gf="VALID",Dg="INVALID",cl="PENDING",ll="DISABLED";function dy(n){return(Tg(n)?n.validators:n)||null}function fy(n,e){return(Tg(e)?e.asyncValidators:n)||null}function Tg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Zw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gf}get invalid(){return this.status===Dg}get pending(){return this.status==cl}get disabled(){return this.status===ll}get enabled(){return this.status!==ll}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(lf(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lf(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Cg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Cg(e,this._rawAsyncValidators))}hasValidator(e){return wg(this._rawValidators,e)}hasAsyncValidator(e){return wg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=cl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ll,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gf||this.status===cl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ll:gf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=cl,this._hasOwnPendingAsyncValidator=!0;const t=Nw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?ll:this.errors?Dg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cl)?cl:this._anyControlsHaveStatus(Dg)?Dg:gf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function hy(n){return Array.isArray(n)?sy(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function SI(n){return Array.isArray(n)?uy(n):n||null}(this._rawAsyncValidators)}}class py extends Zw{constructor(e,t,r){super(dy(t),fy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Hw(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new c.vHH(1002,ly?function xI(n,e){return`Must supply a value for form control ${jw(n,e)}`}(e,s):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function $w(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,ly?function TI(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new c.vHH(1001,ly?function AI(n,e){return`Cannot find form control ${jw(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ju=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>$u}),$u="always";function Ag(n,e,t=$u){mf(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Ws(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Wr(n,e)})}(n,e),function hl(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function _f(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Wr(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function RI(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function xg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mf(n,e){const t=function Bw(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Uw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function vg(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Uw(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();xg(e._rawValidators,s),xg(e._rawAsyncValidators,s)}function Wr(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Gw={provide:ji,useExisting:(0,c.Gpc)(()=>Vd)},Ld=(()=>Promise.resolve())();let Vd=(()=>{class n extends ji{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new py({},sy(t),uy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ld.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ag(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ld.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ld.then(()=>{const r=this._findContainer(t.path),s=new py({});(function yf(n,e){mf(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ld.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ld.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function fl(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qr,10),c.Y36(Bu,10),c.Y36(ju,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Gw]),c.qOj]}),n})();function gy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function my(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _y=class extends Zw{constructor(e=null,t,r){super(dy(t),fy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=my(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){my(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},VI={provide:Gs,useExisting:(0,c.Gpc)(()=>Gu)},Cf=(()=>Promise.resolve())();let Gu=(()=>{class n extends Gs{constructor(t,r,s,u,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new _y,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function zu(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===ul?t=u:function Nd(n){return Object.getPrototypeOf(n.constructor)===Vu}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Zu(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ag(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Cf.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,c.D6c)(r);Cf.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function qs(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ji,9),c.Y36(qr,10),c.Y36(Bu,10),c.Y36(xo,10),c.Y36(c.sBO,8),c.Y36(ju,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([VI]),c.qOj,c.TTD]}),n})(),bf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Kw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Rg=new c.OlP("NgModelWithFormControlWarning"),Xw={provide:xo,useExisting:(0,c.Gpc)(()=>Fg),multi:!0};function Ay(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Fg=(()=>{class n extends Vu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const s=Ay(this._getOptionId(t),t);this.setProperty("value",s)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function eC(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Xw]),c.qOj]}),n})(),xy=(()=>{class n{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Ay(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Fg,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const tC={provide:xo,useExisting:(0,c.Gpc)(()=>My),multi:!0};function Sy(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let My=(()=>{class n extends Vu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const s=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(s.indexOf(d.toString())>-1)}}else r=(s,u)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const s=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let m=0;m<d.length;m++){const I=this._getOptionValue(d[m].value);s.push(I)}}else{const d=r.options;for(let m=0;m<d.length;m++){const w=d[m];if(w.selected){const I=this._getOptionValue(w.value);s.push(I)}}}this.value=s,t(s)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Lg(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([tC]),c.qOj]}),n})(),nC=(()=>{class n{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Sy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Sy(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(My,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),ja=(()=>{class n{constructor(){this._validator=_g}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):_g,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const zI={provide:qr,useExisting:(0,c.Gpc)(()=>gl),multi:!0};let gl=(()=>{class n extends ja{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>Mw}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([zI]),c.qOj]}),n})();const aC={provide:qr,useExisting:(0,c.Gpc)(()=>Ud),multi:!0};let Ud=(()=>{class n extends ja{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>function mg(n){if(!n)return _g;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Uu(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[c._Bn([aC]),c.qOj]}),n})(),Py=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Kw]}),n})(),Ks=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ju,useValue:t.callSetDisabledState??$u}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Py]}),n})(),ss=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rg,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ju,useValue:t.callSetDisabledState??$u}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Py]}),n})();function as(n,e){if(1&n&&(c.TgZ(0,"div",17),c._uU(1," *\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email "),c.qZA()),2&n){c.oxw();const t=c.MAs(9);c.Q6J("hidden",t.valid||t.untouched)}}function cC(n,e){if(1&n&&(c.TgZ(0,"div",17),c._uU(1," *\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c "),c.qZA()),2&n){c.oxw();const t=c.MAs(13);c.Q6J("hidden",t.valid||t.untouched)}}const lC=function(n,e){return{"status-success":n,"status-error":e}};function QI(n,e){if(1&n&&(c.TgZ(0,"div",18)(1,"p",19),c._uU(2),c.qZA()()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngClass",c.WLB(2,lC,!0===t.dataStatus,!1===t.dataStatus)),c.xp6(1),c.hij(" ",t.dataSubmit," ")}}class If{constructor(){this.dataSubmit="",this.dataStatus=!1,this.contactForm={email:"",password:""},this.visibility=!1}onSubmit(){this.contactForm.email&&this.contactForm.password?(this.dataStatus=!0,this.visibility=!0,this.dataSubmit="\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b!",Object.keys(this.contactForm).forEach(e=>this.contactForm[e]="")):(this.dataSubmit="\u041f\u043e\u043b\u044f \u0444\u043e\u0440\u043c\u044b \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e!",this.visibility=!0,this.dataStatus=!1)}}function JI(n,e){if(1&n&&(c.TgZ(0,"div",68),c._uU(1," *\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0438\u043c\u044f "),c.qZA()),2&n){c.oxw();const t=c.MAs(100);c.Q6J("hidden",t.valid||t.untouched)}}function XI(n,e){if(1&n&&(c.TgZ(0,"div",68),c._uU(1," *\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email "),c.qZA()),2&n){c.oxw();const t=c.MAs(104);c.Q6J("hidden",t.valid||t.untouched)}}function Ry(n,e){if(1&n&&(c.TgZ(0,"div",68),c._uU(1," *\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0432 12-\u0437\u043d\u0430\u0447\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435 "),c.qZA()),2&n){c.oxw();const t=c.MAs(108);c.Q6J("hidden",t.valid||t.untouched)}}If.\u0275fac=function(e){return new(e||If)},If.\u0275cmp=c.Xpm({type:If,selectors:[["app-enter"]],decls:24,vars:5,consts:[[1,"enter"],[1,"enter_field_skew"],[1,"enter_field"],[1,"enter_sign_upper"],["href","#",1,"forget_button"],[1,"form-group"],["type","email","name","Email","placeholder","Email","required","","pattern","^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,6}$",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["class","alert",3,"hidden",4,"ngIf"],["type","password","name","Password","placeholder","Password","required","","pattern","^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{6,15}$",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"enter_checkbox"],["id","one","type","checkbox"],["for","one"],["type","submit","value","\u0412\u0445\u043e\u0434",1,"enter_button",3,"click"],["href","#",1,"forget_button","padding_bottom"],[1,"alert",3,"hidden"],["role","alert",1,"alert","alert-success"],[3,"ngClass"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"p",3),c._uU(4,"\u0412\u0445\u043e\u0434"),c.qZA(),c.TgZ(5,"a",4),c._uU(6,"\u0423 \u043c\u0435\u043d\u044f \u0435\u0449\u0451 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),c.qZA(),c.TgZ(7,"div",5)(8,"input",6,7),c.NdJ("ngModelChange",function(s){return t.contactForm.email=s}),c.qZA(),c.YNc(10,as,2,1,"div",8),c.qZA(),c.TgZ(11,"div",5)(12,"input",9,10),c.NdJ("ngModelChange",function(s){return t.contactForm.password=s}),c.qZA(),c.YNc(14,cC,2,1,"div",8),c.qZA(),c.YNc(15,QI,3,5,"div",11),c.TgZ(16,"div",12),c._UZ(17,"input",13),c.TgZ(18,"label",14),c._UZ(19,"span"),c._uU(20," \u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f "),c.qZA()(),c.TgZ(21,"input",15),c.NdJ("click",function(){return t.onSubmit()}),c.qZA(),c.TgZ(22,"a",16),c._uU(23,"\u0417\u0430\u0431\u044b\u043b \u043f\u0430\u0440\u043e\u043b\u044c"),c.qZA()()()()),2&e&&(c.xp6(8),c.Q6J("ngModel",t.contactForm.email),c.xp6(2),c.Q6J("ngIf",!t.visibility),c.xp6(2),c.Q6J("ngModel",t.contactForm.password),c.xp6(2),c.Q6J("ngIf",!t.visibility),c.xp6(1),c.Q6J("ngIf",t.visibility))},dependencies:[Ot,xi,bf,ul,hf,bg,gl,Ud,Gu,Vd],styles:['.padding_bottom[_ngcontent-%COMP%]{padding-bottom:10%}.enter[_ngcontent-%COMP%]{background-color:#fff;margin-top:50px;padding-top:10%;padding-bottom:10%}.enter_field[_ngcontent-%COMP%]:hover{background-color:#3f67cc}.enter_field[_ngcontent-%COMP%]:hover   .enter_sign_upper[_ngcontent-%COMP%], .enter_field[_ngcontent-%COMP%]:hover   .forget_button[_ngcontent-%COMP%]{color:#fff}.enter_field[_ngcontent-%COMP%]:hover   .forget_button[_ngcontent-%COMP%]:after{display:block;position:absolute;top:25px;left:0;width:0;height:2px;background-color:#fff;content:"";transition:width .3s ease-out}.enter_field[_ngcontent-%COMP%]:hover   .forget_button[_ngcontent-%COMP%]:hover:after, .enter_field[_ngcontent-%COMP%]:hover   .forget_button[_ngcontent-%COMP%]:focus:after{width:100%}.enter_field[_ngcontent-%COMP%]:hover   .forget_button[_ngcontent-%COMP%]:hover{color:#fff}.enter_field[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%]{border:1px solid rgb(63,103,204)}.enter_field[_ngcontent-%COMP%]:hover   .enter_checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.enter_field[_ngcontent-%COMP%]:hover   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border:1px solid rgb(255,255,255)}.enter_field[_ngcontent-%COMP%]:hover   .enter_button[_ngcontent-%COMP%]{color:#333;border:2px solid rgb(255,255,255)}.enter_field[_ngcontent-%COMP%]:hover   .enter_button[_ngcontent-%COMP%]:hover{border:2px solid rgb(63,103,204);background-color:#fff;color:#3f67cc}.enter_field[_ngcontent-%COMP%]:hover   .alert[_ngcontent-%COMP%]{color:#fff}.enter_field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;width:421.5px;height:437px;background-color:transparent;margin:0 auto;align-items:center;box-shadow:0 4px 4px #00000040;border-radius:15px;transition:.6s}.enter_sign_upper[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:32px;line-height:39px;margin:0 auto;color:#333;padding-top:5%}input[_ngcontent-%COMP%]{border:none;width:340px;height:40px;border:1px solid #333;border-radius:15px;padding-left:5%}input[_ngcontent-%COMP%]::placeholder{font-family:Inter;font-style:normal;font-weight:400;font-size:12px;line-height:15px;color:#333}.enter_checkbox[_ngcontent-%COMP%]{display:flex;justify-items:center;margin-right:220px;gap:2%}.checkbox[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#070707;border:none}.enter_checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat Alternates;font-style:normal;font-weight:400;font-size:12px;line-height:15px;color:#333}input[type=checkbox][_ngcontent-%COMP%]{height:0;width:0}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;font-family:Montserrat Alternates;font-style:normal;font-weight:400;font-size:12px;line-height:15px;white-space:nowrap;color:#333;transition:color .25s cubic-bezier(.4,0,.23,1)}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%] > ins[_ngcontent-%COMP%]{position:absolute;display:block;bottom:0;left:2.5em;height:0;width:100%;overflow:hidden;text-decoration:none;transition:height .3s cubic-bezier(.4,0,.23,1)}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%] > ins[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{position:absolute;bottom:0;font-style:normal;color:#ffc700}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-right:1em;width:20px;height:20px;background:transparent;border:1px solid #333;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.23,1)}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:hover, input[type=checkbox][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]{color:#333}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:hover > span[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background:#fff}input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] > ins[_ngcontent-%COMP%]{height:100%}input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border:1px solid #333;animation:_ngcontent-%COMP%_shrink-bounce .2s cubic-bezier(.4,0,.23,1)}input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before{content:"";position:absolute;top:.3 .5em;left:.2em;border-right:3px solid transparent;border-bottom:3px solid transparent;transform:rotate(45deg);transform-origin:0% 100%;animation:_ngcontent-%COMP%_checkbox-check 125ms .25s cubic-bezier(.4,0,.23,1) forwards}@keyframes _ngcontent-%COMP%_shrink-bounce{0%{transform:scale(1)}33%{transform:scale(.85)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_checkbox-check{0%{width:0;height:0;border-color:#3f67cc;transform:translateZ(0) rotate(45deg)}33%{width:.3em;height:0;transform:translateZ(0) rotate(45deg)}to{width:.4em;height:.9em;border-color:#3f67cc;transform:translate3d(0,-.5em,0) rotate(45deg)}}.enter_button[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:600;font-size:16px;line-height:19px;color:#333;background-color:#fff;width:199px;height:50px;border:2px solid #333;border-radius:0;text-decoration:none;transition:.5s;text-align:center;padding:3%;margin:0 auto;cursor:pointer}.enter_button[_ngcontent-%COMP%]:hover{color:#171717;background-color:#3f67cc}.forget_button[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;position:relative;font-weight:600;font-size:12px;line-height:15px;color:#333;margin:0 auto;text-decoration:none;cursor:pointer;line-height:1;transition:.5s}.alert[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-size:16px;padding:1%;transition:.6s}@media screen and (max-width: 960px){.enter[_ngcontent-%COMP%]{padding-top:20%}}@media screen and (max-width: 570px){.enter[_ngcontent-%COMP%]{padding-top:25%}.enter_field[_ngcontent-%COMP%]{width:350px;height:360px}input[_ngcontent-%COMP%]{width:300px;height:40px}.enter_checkbox[_ngcontent-%COMP%]{margin-right:180px}}']});const Df=function(n,e){return{"status-success":n,"status-error":e}};function eD(n,e){if(1&n&&(c.TgZ(0,"div",69)(1,"p",70),c._uU(2),c.qZA()()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngClass",c.WLB(2,Df,!0===t.messageStatus,!1===t.messageStatus)),c.xp6(1),c.hij(" ",t.messageSubmit," ")}}class Bd{constructor(){this.messageSubmit="",this.messageStatus=!1,this.contactForm={name:"",email:"",phone:"",message:""},this.visibility=!1}onSubmit(){this.contactForm.name&&this.contactForm.email&&this.contactForm.phone?(this.messageStatus=!0,this.visibility=!0,this.messageSubmit="\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e!",Object.keys(this.contactForm).forEach(e=>this.contactForm[e]="")):(this.messageSubmit="\u041f\u043e\u043b\u044f \u0444\u043e\u0440\u043c\u044b \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e!",this.visibility=!0,this.messageStatus=!1)}}Bd.\u0275fac=function(e){return new(e||Bd)},Bd.\u0275cmp=c.Xpm({type:Bd,selectors:[["app-home"]],decls:143,vars:8,consts:[[1,"home"],[1,"wrap_home"],[1,"carousel_wrapper"],["id","slide_1"],["id","slide_2"],["id","slide_3"],[1,"carousel_slide","slide_1"],["href","#slide_3",1,"arrow","arrow_prev"],["href","#slide_2",1,"arrow","arrow_next"],[1,"carousel_slide","slide_2"],["href","#slide_1",1,"arrow","arrow_prev"],["href","#slide_3",1,"arrow","arrow_next"],[1,"carousel_slide","slide_3"],["href","#slide_2",1,"arrow","arrow_prev"],["href","#slide_1",1,"arrow","arrow_next"],["id","catalog",1,"sign_logo"],[1,"blue_text"],[1,"sign_text"],["routerLink","/products","href","#",1,"sign_catalog"],[1,"about"],[1,"slider"],["type","radio","name","slider","title","slide1","checked","checked",1,"slider_nav"],["type","radio","name","slider","title","slide2",1,"slider_nav"],["type","radio","name","slider","title","slide3",1,"slider_nav"],["type","radio","name","slider","title","slide4",1,"slider_nav"],[1,"slider_inner"],["id","about",1,"slider_contents"],[1,"slider_image"],[1,"slider_caption"],[1,"slider_txt"],[1,"slider_contents"],[1,"sign_logo"],["id","catalog","routerLink","/about","href","#",1,"sign_catalog"],[1,"registration"],[1,"registration_text"],["id","enter",1,"sign_logo"],["routerLink","/enter","href","#",1,"sign_catalog"],[1,"contacts"],["id","contacts",1,"contacts_field"],[1,"contacts_field_left_part"],[1,"contacts_field_inputs"],[1,"contacts__input"],["name","name","required","","type","text","placeholder","\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert",3,"hidden",4,"ngIf"],["type","email","name","Email","placeholder","Email","required","","pattern","^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,6}$",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["type","phone","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","name","phone","required","","pattern","[0-9]{12}",1,"form-control",3,"ngModel","ngModelChange"],["phone","ngModel"],["type","text","placeholder","\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","name","message","placeholder","\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","max","200",1,"form-control",3,"ngModel","ngModelChange"],["message","ngModel"],["class","alert alert-success","role","alert",4,"ngIf"],["type","submit","value","\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u043d\u0430\u043c\u0438",1,"sign_catalog","submit_button",3,"click"],[1,"social_network_home"],["href","https://www.instagram.com/artukhovskiy/"],["src","assets/img/instagram_new.png","alt","social"],["href","https://vk.com/id84353596"],["src","assets/img/vk.png","alt","social"],[1,"contacts_field_right_part"],[1,"contacts_field_block"],["src","assets/img/location_new.png","alt","social"],[1,"contacts_field_text"],[1,"contacts_field_upper_text"],[1,"contacts_field_lower_text"],["src","assets/img/telephone.png","alt","social"],[1,"contacts_field_lower_text_blue"],["src","assets/img/mail.png","alt","social"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2003.9220045591112!2d37.41079786002719!3d55.68331233629306!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x46b54e0d45323bd5%3A0xda6c23026165b2da!2z0JfQsNGA0LXRh9GM0LUsINCc0L7RgdC60L7QstGB0LrQsNGPINC-0LHQuy4!5e0!3m2!1sru!2sru!4v1594646576788!5m2!1sru!2sru","frameborder","0","allowfullscreen","","aria-hidden","false","tabindex","0",1,"map"],[1,"alert",3,"hidden"],["role","alert",1,"alert","alert-success"],[3,"ngClass"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"span",3)(4,"span",4)(5,"span",5),c.TgZ(6,"div",6)(7,"p"),c._uU(8,"\u0412\u044b\u0431\u0435\u0440\u0438 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c \u0434\u043b\u044f \u043d\u0435\u0451..."),c.qZA(),c._UZ(9,"a",7)(10,"a",8),c.qZA(),c.TgZ(11,"div",9)(12,"p"),c._uU(13,"...\u0438\u043b\u0438 \u0434\u043b\u044f \u043d\u0435\u0433\u043e..."),c.qZA(),c._UZ(14,"a",10)(15,"a",11),c.qZA(),c.TgZ(16,"div",12)(17,"p"),c._uU(18,"...\u0438\u043b\u0438 \u0434\u043b\u044f \u0432\u0430\u0441 \u043e\u0431\u043e\u0438\u0445!"),c.qZA(),c._UZ(19,"a",13)(20,"a",14),c.qZA()(),c.TgZ(21,"div",15)(22,"h1"),c._uU(23,"Lorem "),c.TgZ(24,"span",16),c._uU(25,"ipsum"),c.qZA(),c._uU(26," shop"),c.qZA(),c.TgZ(27,"p",17),c._uU(28,"\u0411\u0440\u0435\u043d\u0434\u043e\u0432\u0430\u044f \u043e\u0434\u0435\u0436\u0434\u0430 \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0432\u043a\u0443\u0441 \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e \u043f\u043e\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f!"),c.qZA(),c.TgZ(29,"a",18),c._uU(30,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),c.qZA()()(),c._UZ(31,"hr"),c.TgZ(32,"div",19)(33,"div",20),c._UZ(34,"input",21)(35,"input",22)(36,"input",23)(37,"input",24),c.TgZ(38,"div",25)(39,"div",26),c._UZ(40,"i",27),c.TgZ(41,"h2",28),c._uU(42,"\u041a\u0442\u043e \u043c\u044b?"),c.qZA(),c.TgZ(43,"p",29),c._uU(44,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. At cupiditate omnis possimus illo quos, corporis minima!"),c.qZA()(),c.TgZ(45,"div",30),c._UZ(46,"i",27),c.TgZ(47,"h2",28),c._uU(48,"\u0427\u0435\u043c \u043c\u044b \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u043c\u0441\u044f?"),c.qZA(),c.TgZ(49,"p",29),c._uU(50,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. At cupiditate omnis possimus illo quos, corporis minima!"),c.qZA()(),c.TgZ(51,"div",30),c._UZ(52,"i",27),c.TgZ(53,"h2",28),c._uU(54,"\u0427\u0442\u043e \u0435\u0441\u0442\u044c \u043d\u0430 \u044d\u0442\u043e\u043c \u0441\u0430\u0439\u0442\u0435?"),c.qZA(),c.TgZ(55,"p",29),c._uU(56,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. At cupiditate omnis possimus illo quos, corporis minima!"),c.qZA()(),c.TgZ(57,"div",30),c._UZ(58,"i",27),c.TgZ(59,"h2",28),c._uU(60,"\u041d\u0430\u0448\u0438 \u043f\u0435\u0440\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u044b"),c.qZA(),c.TgZ(61,"p",29),c._uU(62,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. At cupiditate omnis possimus illo quos, corporis minima!"),c.qZA()()()(),c.TgZ(63,"div",31)(64,"h1"),c._uU(65,"\u0423\u0437\u043d\u0430\u0442\u044c"),c._UZ(66,"br"),c.TgZ(67,"span",16),c._uU(68,"\u043e \u043d\u0430\u0441"),c.qZA(),c._uU(69," \u0431\u043e\u043b\u044c\u0448\u0435!"),c.qZA(),c.TgZ(70,"a",32),c._uU(71,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e"),c.qZA()()(),c._UZ(72,"hr"),c.TgZ(73,"div",33)(74,"div",34)(75,"div",35)(76,"h1"),c._uU(77,"\u0425\u043e\u0442\u0438\u0442\u0435 \u0447\u0442\u043e-\u0442\u043e "),c._UZ(78,"br"),c.TgZ(79,"span",16),c._uU(80,"\u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0441\u0442\u0438?"),c.qZA()(),c.TgZ(81,"p",17),c._uU(82,"\u041f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e - \u044d\u0442\u043e \u0431\u044b\u0441\u0442\u0440\u043e \u0438 \u043b\u0435\u0433\u043a\u043e!"),c.qZA(),c.TgZ(83,"a",36),c._uU(84,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.qZA()()()(),c._UZ(85,"hr"),c.TgZ(86,"div",37)(87,"div",31)(88,"h1"),c._uU(89,"\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 "),c.TgZ(90,"span",16),c._uU(91,"\u043d\u0430\u043c\u0438"),c.qZA(),c._uU(92," -"),c.qZA(),c.TgZ(93,"p",17),c._uU(94,"\u043b\u0435\u0433\u043a\u043e \u0438 \u043f\u0440\u043e\u0441\u0442\u043e. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435!"),c.qZA()(),c.TgZ(95,"div",38)(96,"div",39)(97,"div",40)(98,"div",41)(99,"input",42,43),c.NdJ("ngModelChange",function(s){return t.contactForm.name=s}),c.qZA(),c.YNc(101,JI,2,1,"div",44),c.qZA(),c.TgZ(102,"div",41)(103,"input",45,46),c.NdJ("ngModelChange",function(s){return t.contactForm.email=s}),c.qZA(),c.YNc(105,XI,2,1,"div",44),c.qZA(),c.TgZ(106,"div",41)(107,"input",47,48),c.NdJ("ngModelChange",function(s){return t.contactForm.phone=s}),c.qZA(),c.YNc(109,Ry,2,1,"div",44),c.qZA(),c.TgZ(110,"div",41)(111,"input",49,50),c.NdJ("ngModelChange",function(s){return t.contactForm.message=s}),c.qZA()(),c.YNc(113,eD,3,5,"div",51),c.TgZ(114,"input",52),c.NdJ("click",function(){return t.onSubmit()}),c.qZA(),c.TgZ(115,"div",53)(116,"a",54),c._UZ(117,"img",55),c.qZA(),c.TgZ(118,"a",56),c._UZ(119,"img",57),c.qZA()()()(),c.TgZ(120,"div",58)(121,"div",59),c._UZ(122,"img",60),c.TgZ(123,"div",61)(124,"p",62),c._uU(125,"Address"),c.qZA(),c.TgZ(126,"p",63),c._uU(127,"Coza Store Center 8th floor, 379 Hudson St, New York, NY 10018 US"),c.qZA()()(),c.TgZ(128,"div",59),c._UZ(129,"img",64),c.TgZ(130,"div",61)(131,"p",62),c._uU(132,"Lets Talk"),c.qZA(),c.TgZ(133,"p",65),c._uU(134,"+1 800 1236879"),c.qZA()()(),c.TgZ(135,"div",59),c._UZ(136,"img",66),c.TgZ(137,"div",61)(138,"p",62),c._uU(139,"Sale Support"),c.qZA(),c.TgZ(140,"p",65),c._uU(141,"contact@example.com"),c.qZA()()()()(),c._UZ(142,"iframe",67),c.qZA()()),2&e&&(c.xp6(99),c.Q6J("ngModel",t.contactForm.name),c.xp6(2),c.Q6J("ngIf",!t.visibility),c.xp6(2),c.Q6J("ngModel",t.contactForm.email),c.xp6(2),c.Q6J("ngIf",!t.visibility),c.xp6(2),c.Q6J("ngModel",t.contactForm.phone),c.xp6(2),c.Q6J("ngIf",!t.visibility),c.xp6(2),c.Q6J("ngModel",t.contactForm.message),c.xp6(2),c.Q6J("ngIf",t.visibility))},dependencies:[Ot,xi,Lu,ul,hf,gl,Ud,Gu],styles:[".blue_text[_ngcontent-%COMP%]{color:#3f67cc}.light_text[_ngcontent-%COMP%]{color:#fff}.sign_registration[_ngcontent-%COMP%]{width:200px;height:60px;font-family:Montserrat;font-style:normal;font-weight:800;font-size:20px;line-height:100%;text-transform:uppercase;text-align:center;text-decoration:none;border:2px solid #fff;color:#fff;line-height:60px;transition:.5s}.sign_registration[_ngcontent-%COMP%]:hover{background-color:#3f67cc;color:#fff;border:2px solid rgb(63,103,204)}img[_ngcontent-%COMP%]{width:100%;height:100%}.home[_ngcontent-%COMP%]{position:relative;background-color:#fff;margin-top:144px}.carousel_wrapper[_ngcontent-%COMP%]{height:600px;position:relative;width:100%;margin:0 auto}.carousel_slide[_ngcontent-%COMP%]{position:absolute;inset:0;padding:25px 50px;opacity:0;transition:all .5s ease-in-out}.carousel_slide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:800;font-size:42px;line-height:95%;text-transform:uppercase;color:#000;transition:.6s}.carousel_slide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{color:#3f67cc}.arrow[_ngcontent-%COMP%]{border:solid black;border-width:0 3px 3px 0;display:inline-block;padding:12px}.arrow_prev[_ngcontent-%COMP%]{left:30px;position:absolute;top:50%;transform:translateY(-50%) rotate(135deg)}.arrow_next[_ngcontent-%COMP%]{right:30px;position:absolute;top:50%;transform:translateY(-50%) rotate(-45deg)}.light[_ngcontent-%COMP%]{color:#fff}@media (max-width: 480px){.arrow[_ngcontent-%COMP%], .light[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{background-size:10px;background-position:10px 50%}}[id^=slide][_ngcontent-%COMP%]{display:none}.slide_1[_ngcontent-%COMP%]{z-index:2;opacity:1;background:url(/assets/img/model5.jpg);background-size:cover}.slide_2[_ngcontent-%COMP%]{background:url(/assets/img/model2.jpg);background-size:cover}.slide_3[_ngcontent-%COMP%]{background:url(/assets/img/model6.jpg);background-size:cover}*[_ngcontent-%COMP%]:target ~ .slide_1[_ngcontent-%COMP%]{opacity:0}#slide_1[_ngcontent-%COMP%]:target ~ .slide_1[_ngcontent-%COMP%]{opacity:1}#slide_2[_ngcontent-%COMP%]:target ~ .slide_2[_ngcontent-%COMP%], #slide_3[_ngcontent-%COMP%]:target ~ .slide_3[_ngcontent-%COMP%]{z-index:3;opacity:1}.sign_logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:85%;gap:40px;padding-top:5%;margin:0 auto;padding-bottom:5%}.sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:542px;height:234px;font-family:Montserrat;font-style:normal;font-weight:800;font-size:82px;line-height:95%;text-transform:uppercase;color:#333}.sign_text[_ngcontent-%COMP%]{width:500px;height:60px;font-family:Montserrat;font-style:normal;font-weight:400;font-size:24px;line-height:29px;color:#333}.sign_catalog[_ngcontent-%COMP%]{width:200px;height:60px;font-family:Montserrat;font-style:normal;font-weight:800;font-size:20px;line-height:100%;text-transform:uppercase;text-align:center;text-decoration:none;border:2px solid #333;color:#333;line-height:60px;transition:.5s}.sign_catalog[_ngcontent-%COMP%]:hover{background-color:#3f67cc;color:#fff;border:2px solid rgb(63,103,204)}.slider[_ngcontent-%COMP%]{margin-top:5%;height:500px;position:relative;overflow:hidden;display:flex;z-index:0;flex-flow:row nowrap;align-items:flex-end;justify-content:center}.slider_nav[_ngcontent-%COMP%]{width:12px;height:12px;margin:2rem 12px;border-radius:50%;z-index:10;outline:6px solid #ccc;outline-offset:-6px;box-shadow:0 0 #333,0 0 #3330;cursor:pointer;-webkit-appearance:none;appearance:none;-webkit-backface-visibility:hidden;backface-visibility:hidden}.slider_nav[_ngcontent-%COMP%]:checked{animation:_ngcontent-%COMP%_check .4s linear forwards}.slider_nav[_ngcontent-%COMP%]:checked:nth-of-type(1) ~ .slider_inner[_ngcontent-%COMP%]{left:0%}.slider_nav[_ngcontent-%COMP%]:checked:nth-of-type(2) ~ .slider_inner[_ngcontent-%COMP%]{left:-100%}.slider_nav[_ngcontent-%COMP%]:checked:nth-of-type(3) ~ .slider_inner[_ngcontent-%COMP%]{left:-200%}.slider_nav[_ngcontent-%COMP%]:checked:nth-of-type(4) ~ .slider_inner[_ngcontent-%COMP%]{left:-300%}.slider_inner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:400%;height:100%;transition:left .4s;display:flex;flex-flow:row nowrap}.slider_contents[_ngcontent-%COMP%]{height:100%;padding:2rem;text-align:center;display:flex;flex:1;flex-flow:column nowrap;align-items:center;justify-content:center}.slider_image[_ngcontent-%COMP%]{font-size:2.7rem;color:#2196f3}.slider_caption[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;color:#333;margin:2rem 0 1rem;text-shadow:0 1px 1px rgba(0,0,0,.1);text-transform:uppercase}.slider_txt[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;color:#333;margin-bottom:3rem;max-width:300px}@keyframes _ngcontent-%COMP%_check{50%{outline-color:#333;box-shadow:0 0 0 12px #333,0 0 0 36px #3333}to{outline-color:#333;box-shadow:0 0 #333,0 0 #3330}}.registration[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(255,255,255,.384),rgba(255,255,255,.384)),url(/assets/img/back_for_enter.webp);background-repeat:no-repeat;background-position:center center;background-size:100%;height:900px;margin:0 auto;transition:.6s}.registration_text[_ngcontent-%COMP%], .contacts[_ngcontent-%COMP%]{padding-top:15%}.contacts_sign[_ngcontent-%COMP%]{margin-top:15%;margin-bottom:15%}.contacts[_ngcontent-%COMP%]   .sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{height:150px}.contacts_field[_ngcontent-%COMP%]{display:flex;margin:0 auto;width:90%;gap:5%}.contacts_field_inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.contacts_field_img[_ngcontent-%COMP%]{width:535px;height:500px}.contacts__input[_ngcontent-%COMP%]{position:relative}.contacts__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #333;border-radius:10px;width:400px;height:60px;font-family:Montserrat;font-style:normal;padding-left:15px;padding-right:15px;font-weight:400;font-size:16px;line-height:20px;color:#333;background:#fff}.contacts__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:20px;color:#333}.submit_button[_ngcontent-%COMP%]{width:400px}.social_network_home[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding-top:10px}.social_network_home[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:6px;display:flex;justify-content:center;align-items:center;margin-right:30px;transition:.5s}.social_network_home[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.social_network_home[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:rgb(63,103,204)}.social_network_home[_ngcontent-%COMP%]:nth-child(2) a:hover{background:rgb(63,103,204);border-radius:20px}.contacts_field_left_part[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:120px;margin:0 auto}.contacts_field_right_part[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.contacts_field_block[_ngcontent-%COMP%]{display:flex;padding-bottom:15%}.contacts_field_text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.contacts_field_block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}.contacts_field_upper_text[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:20px;padding-left:15px;color:#000}.contacts_field_lower_text[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:20px;padding-left:15px;color:#333}.contacts_field_lower_text_blue[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:20px;padding-left:15px;color:#3f67cc}.map[_ngcontent-%COMP%]{padding-top:5%;border:0;height:600px;width:100%}.alert[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-size:16px;padding:1%;transition:.6s}@media screen and (max-width: 960px){.home[_ngcontent-%COMP%]{margin-top:130px}.sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;height:auto}.registration[_ngcontent-%COMP%]{height:auto}.slider[_ngcontent-%COMP%]{margin-top:0}}@media screen and (max-width: 570px){.home[_ngcontent-%COMP%]{width:100%}.sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;height:auto;width:auto;text-align:center}.sign_text[_ngcontent-%COMP%]{text-align:center;font-family:Montserrat;font-style:normal;font-weight:400;font-size:24px;line-height:29px;color:#333;width:auto;margin-bottom:25px}.registration[_ngcontent-%COMP%]{background-size:cover}.contacts_field[_ngcontent-%COMP%]{flex-direction:column;width:90%}.contacts_field_inputs[_ngcontent-%COMP%]{margin:0 auto}.contacts__input[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:0 auto}.contacts__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .submit_button[_ngcontent-%COMP%]{width:350px}.social_network_home[_ngcontent-%COMP%]{justify-content:center;gap:15px;margin-bottom:15px}.social_network_home[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:0}.contacts_field_right_part[_ngcontent-%COMP%]{width:90%;margin:0 auto}}"]});var tD=k(4986),Pr=k(2122);function Bg(){return(0,ai.e)((n,e)=>{let t,r=!1;n.subscribe((0,ht.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function nD(n,e){return n===e}var ft,Oo=k(2011),ky=(k(8971),k(3942)),pe=k(5861),Wu=k(9681),Tf=k(4859),Ha=k(1877),nn=k(2090),dC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ys={},$g=$g||{},Vt=dC||self;function Hg(){}function Zg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Af(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ny="closure_uid_"+(1e9*Math.random()>>>0),oD=0;function sD(n,e,t){return n.call.apply(n.bind,arguments)}function aD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function ci(n,e,t){return(ci=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sD:aD).apply(null,arguments)}function zg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Kr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,s,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[s].apply(r,d)}}function Ku(){this.s=this.s,this.o=this.o}Ku.prototype.s=!1,Ku.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function iD(n){Object.prototype.hasOwnProperty.call(n,Ny)&&n[Ny]||(n[Ny]=++oD)}(this)},Ku.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Fy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function fC(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Zg(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let d=0;d<u;d++)n[s+d]=r[d]}else n.push(r)}}function li(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}li.prototype.h=function(){this.defaultPrevented=!0};var pC=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",Hg,e),Vt.removeEventListener("test",Hg,e)}catch{}return n}();function xf(n){return/^[\s\xa0]*$/.test(n)}var Ly=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Gg(n,e){return n<e?-1:n>e?1:0}function Sf(){var n=Vt.navigator;return n&&(n=n.userAgent)?n:""}function us(n){return-1!=Sf().indexOf(n)}function qg(n){return qg[" "](n),n}qg[" "]=Hg;var Uy,n,mC=us("Opera"),ml=us("Trident")||us("MSIE"),Vy=us("Edge"),Za=Vy||ml,_C=us("Gecko")&&!(-1!=Sf().toLowerCase().indexOf("webkit")&&!us("Edge"))&&!(us("Trident")||us("MSIE"))&&!us("Edge"),cD=-1!=Sf().toLowerCase().indexOf("webkit")&&!us("Edge");function _l(){var n=Vt.document;return n?n.documentMode:void 0}e:{var Mf="",yC=(n=Sf(),_C?/rv:([^\);]+)(\)|;)/.exec(n):Vy?/Edge\/([\d\.]+)/.exec(n):ml?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):cD?/WebKit\/(\S+)/.exec(n):mC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(yC&&(Mf=yC?yC[1]:""),ml){var Wg=_l();if(null!=Wg&&Wg>parseFloat(Mf)){Uy=String(Wg);break e}}Uy=Mf}var vC={};var lD=Vt.document&&ml&&(_l()||parseInt(Uy,10))||void 0;function Of(n,e){if(li.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_C){e:{try{qg(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jd[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Of.X.h.call(this)}}Kr(Of,li);var jd={2:"touch",3:"pen",4:"mouse"};Of.prototype.h=function(){Of.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Pf="closure_listenable_"+(1e6*Math.random()|0),Kg=0;function Yg(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=s,this.key=++Kg,this.ba=this.ea=!1}function xn(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function CC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function By(n){const e={};for(const t in n)e[t]=n[t];return e}const jy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bC(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<jy.length;u++)t=jy[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Rf(n){this.src=n,this.g={},this.h=0}function Qg(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=hC(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(xn(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Jg(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return s}return-1}Rf.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Jg(n,e,r,s);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new Yg(e,this.src,u,!!r,s)).ea=t,n.push(e)),e};var Xg="closure_lm_"+(1e6*Math.random()|0),$y={};function EC(n,e,t,r,s){if(r&&r.once)return DC(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)EC(n,e[u],t,r,s);return null}return t=Zy(t),n&&n[Pf]?n.N(e,t,Af(r)?!!r.capture:!!r,s):IC(n,e,t,!1,r,s)}function IC(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var d=Af(s)?!!s.capture:!!s,m=em(n);if(m||(n[Xg]=m=new Rf(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function kf(){const e=AC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)pC||(s=d),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(Nf(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function DC(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)DC(n,e[u],t,r,s);return null}return t=Zy(t),n&&n[Pf]?n.O(e,t,Af(r)?!!r.capture:!!r,s):IC(n,e,t,!0,r,s)}function TC(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)TC(n,e[u],t,r,s);else r=Af(r)?!!r.capture:!!r,t=Zy(t),n&&n[Pf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Jg(u=n.g[e],t,r,s))&&(xn(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=em(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Jg(e,t,r,s)),(t=-1<n?e[n]:null)&&Hy(t))}function Hy(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Pf])Qg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Nf(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=em(e))?(Qg(t,n),0==t.h&&(t.src=null,e[Xg]=null)):xn(n)}}}function Nf(n){return n in $y?$y[n]:$y[n]="on"+n}function AC(n,e){if(n.ba)n=!0;else{e=new Of(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Hy(n),n=t.call(r,e)}return n}function em(n){return(n=n[Xg])instanceof Rf?n:null}var tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zy(n){return"function"==typeof n?n:(n[tm]||(n[tm]=function(e){return n.handleEvent(e)}),n[tm])}function Qn(){Ku.call(this),this.i=new Rf(this),this.P=this,this.I=null}function ir(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new li(e,n);else if(e instanceof li)e.target=e.target||n;else{var s=e;bC(e=new li(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];s=nm(d,r,!0,e)&&s}if(s=nm(d=e.g=n,r,!0,e)&&s,s=nm(d,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=nm(d=e.g=t[u],r,!1,e)&&s}function nm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var m=d.listener,w=d.ha||d.src;d.ea&&Qg(n.i,d),s=!1!==m.call(w,r)&&s}}return s&&!r.defaultPrevented}Kr(Qn,Ku),Qn.prototype[Pf]=!0,Qn.prototype.removeEventListener=function(n,e,t,r){TC(this,n,e,t,r)},Qn.prototype.M=function(){if(Qn.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)xn(t[r]);delete n.g[e],n.h--}}this.I=null},Qn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Qn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var zy=Vt.JSON.stringify;function dD(){var n=pD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Wy,Gy=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new SC,n=>n.reset());class SC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hD(n){Vt.setTimeout(()=>{throw n},0)}function qy(n,e){Wy||function fD(){var n=Vt.Promise.resolve(void 0);Wy=function(){n.then(zx)}}(),MC||(Wy(),MC=!0),pD.add(n,e)}var MC=!1,pD=new class xC{constructor(){this.h=this.g=null}add(e,t){const r=Gy.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function zx(){for(var n;n=dD();){try{n.h.call(n.g)}catch(t){hD(t)}var e=Gy;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}MC=!1}function Ky(n,e){Qn.call(this),this.h=n||1,this.g=e||Vt,this.j=ci(this.lb,this),this.l=Date.now()}function rm(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function $d(n,e,t){if("function"==typeof n)t&&(n=ci(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ci(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function OC(n){n.g=$d(()=>{n.g=null,n.i&&(n.i=!1,OC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Kr(Ky,Qn),(ft=Ky.prototype).ca=!1,ft.R=null,ft.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ir(this,"tick"),this.ca&&(rm(this),this.start()))}},ft.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.M=function(){Ky.X.M.call(this),rm(this),delete this.g};class gD extends Ku{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OC(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hd(n){Ku.call(this),this.h=n,this.g={}}Kr(Hd,Ku);var Zd=[];function PC(n,e,t,r){Array.isArray(t)||(t&&(Zd[0]=t.toString()),t=Zd);for(var s=0;s<t.length;s++){var u=EC(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function RC(n){CC(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hy(e)},n),n.g={}}function im(){this.g=!0}function zd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _D(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<s.length;d++)s[d]=""}}}return zy(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Hd.prototype.M=function(){Hd.X.M.call(this),RC(this)},Hd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},im.prototype.Aa=function(){this.g=!1},im.prototype.info=function(){};var yl={},Gd=null;function om(){return Gd=Gd||new Qn}function Yy(n){li.call(this,yl.Pa,n)}function Ff(n){const e=om();ir(e,new Yy(e))}function Qy(n,e){li.call(this,yl.STAT_EVENT,n),this.stat=e}function Ii(n){const e=om();ir(e,new Qy(e,n))}function Jy(n,e){li.call(this,yl.Qa,n),this.size=e}function Lf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}yl.Pa="serverreachability",Kr(Yy,li),yl.STAT_EVENT="statevent",Kr(Qy,li),yl.Qa="timingevent",Kr(Jy,li);var qd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},NC={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function sm(){}function FC(){}sm.prototype.h=null;var t0,Vf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function e0(){li.call(this,"d")}function Uf(){li.call(this,"c")}function Bf(){}function jf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Hd(this),this.O=yD,this.T=new Ky(n=Za?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new LC}function LC(){this.i=null,this.g="",this.h=!1}Kr(e0,li),Kr(Uf,li),Kr(Bf,sm),Bf.prototype.g=function(){return new XMLHttpRequest},Bf.prototype.i=function(){return{}},t0=new Bf;var yD=45e3,n0={},am={};function r0(n,e,t){n.K=1,n.v=lm(cs(e)),n.s=t,n.P=!0,VC(n,null)}function VC(n,e){n.F=Date.now(),$f(n),n.A=cs(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),ZC(t.i,"t",r),n.C=0,t=n.l.H,n.h=new LC,n.g=vm(n.l,t?e:null,!n.s),0<n.N&&(n.L=new gD(ci(n.La,n,n.g),n.N)),PC(n.S,n.g,"readystatechange",n.ib),e=n.H?By(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Ff(),function mD(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),w=0;w<m.length;w++){var I=m[w].split("=");if(1<I.length){var x=I[0];I=I[1];var P=x.split("_");d=2<=P.length&&"type"==P[1]?d+(x+"=")+I+"&":d+(x+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function UC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function o0(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=BC(n,t),s==am){4==e&&(n.o=4,Ii(14),r=!1),zd(n.j,n.m,null,"[Incomplete Response]");break}if(s==n0){n.o=4,Ii(15),zd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}zd(n.j,n.m,s,null),s0(n,s)}UC(n)&&s!=am&&s!=n0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ii(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),mm(e),e.K=!0,Ii(11))):(zd(n.j,n.m,t,"[Invalid Chunked Response]"),vl(n),Zf(n))}function BC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?am:(t=Number(e.substring(t,r)),isNaN(t)?n0:(r+=1)+t>e.length?am:(e=e.substr(r,t),n.C=r+t,e))}function $f(n){n.V=Date.now()+n.O,jC(n,n.O)}function jC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Lf(ci(n.gb,n),e)}function Hf(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Zf(n){0==n.l.G||n.I||D0(n.l,n)}function vl(n){Hf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,rm(n.T),RC(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function s0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||_0(t.h,n)))if(!n.J&&_0(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;eh(t),Jd(t)}E0(t),Ii(18)}}else t.Ba=s[1],0<t.Ba-t.T&&37500>s[2]&&t.L&&0==t.A&&!t.v&&(t.v=Lf(ci(t.cb,t),6e3));if(1>=zC(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Wa(t,11)}else if((n.J||t.g==n)&&eh(t),!xf(e))for(s=t.Fa.g.parse(e),e=0;e<s.length;e++){let I=s[e];if(t.T=I[0],I=I[1],2==t.G)if("c"==I[0]){t.I=I[1],t.ka=I[2];const x=I[3];null!=x&&(t.ma=x,t.j.info("VER="+t.ma));const P=I[4];null!=P&&(t.Ca=P,t.j.info("SVER="+t.Ca));const $=I[5];null!=$&&"number"==typeof $&&0<$&&(t.J=r=1.5*$,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Q=n.g;if(Q){const ae=Q.g?Q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var u=r.h;u.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(GC(u,u.h),u.h=null))}if(r.D){const Me=Q.g?Q.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.za=Me,Sn(r.F,r.D,Me))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=ym(r,r.H?r.ka:null,r.V),d.J){qC(r.h,d);var m=d,w=r.J;w&&m.setTimeout(w),m.B&&(Hf(m),$f(m)),r.g=d}else sb(r);0<t.i.length&&gm(t)}else"stop"!=I[0]&&"close"!=I[0]||Wa(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?Wa(t,7):b0(t):"noop"!=I[0]&&t.l&&t.l.wa(I),t.A=0)}Ff()}catch{}}function c0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Zg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function u0(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Zg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function a0(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Zg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(ft=jf.prototype).setTimeout=function(n){this.O=n},ft.ib=function(n){n=n.target;const e=this.L;e&&3==qa(n)?e.l():this.La(n)},ft.La=function(n){try{if(n==this.g)e:{const x=qa(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>x)&&(3!=x||Za||this.g&&(this.h.h||this.g.fa()||ib(this.g)))){this.I||4!=x||7==e||Ff(),Hf(this);var t=this.g.aa();this.Y=t;t:if(UC(this)){var r=ib(this.g);n="";var s=r.length,u=4==qa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vl(this),Zf(this);var d="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function Gx(n,e,t,r,s,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,x,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xf(m)){var I=m;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,Ii(12),vl(this),Zf(this);break e}zd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,s0(this,t)}this.P?(o0(this,x,d),Za&&this.i&&3==x&&(PC(this.S,this.T,"tick",this.hb),this.T.start())):(zd(this.j,this.m,d,null),s0(this,d)),4==x&&vl(this),this.i&&!this.I&&(4==x?D0(this.l,this):(this.i=!1,$f(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ii(12)):(this.o=0,Ii(13)),vl(this),Zf(this)}}}catch{}},ft.hb=function(){if(this.g){var n=qa(this.g),e=this.g.fa();this.C<e.length&&(Hf(this),o0(this,n,e),this.i&&4!=n&&$f(this))}},ft.cancel=function(){this.I=!0,vl(this)},ft.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function kC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ff(),Ii(17)),vl(this),this.o=2,Zf(this)):jC(this,this.V-n)};var um=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof wl){this.h=void 0!==e?e:n.h,cm(this,n.j),this.s=n.s,this.g=n.g,zf(this,n.m),this.l=n.l,e=n.i;var t=new Kd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Cl(this,t),this.o=n.o}else n&&(t=String(n).match(um))?(this.h=!!e,cm(this,t[1]||"",!0),this.s=dm(t[2]||""),this.g=dm(t[3]||"",!0),zf(this,t[4]),this.l=dm(t[5]||"",!0),Cl(this,t[6]||"",!0),this.o=dm(t[7]||"")):(this.h=!!e,this.i=new Kd(null,this.h))}function cs(n){return new wl(n)}function cm(n,e,t){n.j=t?dm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function zf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Cl(n,e,t){e instanceof Kd?(n.i=e,function CD(n,e){e&&!n.j&&(za(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(f0(this,r),ZC(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Wd(e,HC)),n.i=new Kd(e,n.h))}function Sn(n,e,t){n.i.set(e,t)}function lm(n){return Sn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function dm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,l0),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function l0(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}wl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Wd(e,$C,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Wd(e,$C,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Wd(t,"/"==t.charAt(0)?wD:d0,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Wd(t,h0)),n.join("")};var $C=/[#\/\?@]/g,d0=/[#\?:]/g,wD=/[#\?]/g,HC=/[#\?@]/g,h0=/#/g;function Kd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function za(n){n.g||(n.g=new Map,n.h=0,n.i&&function vD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function f0(n,e){za(n),e=Yd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function p0(n,e){return za(n),e=Yd(n,e),n.g.has(e)}function ZC(n,e,t){f0(n,e),0<t.length&&(n.i=null,n.g.set(Yd(n,e),Fy(t)),n.h+=t.length)}function Yd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function g0(n){this.l=n||qx,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ga&&Vt.g.Ga()&&Vt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=Kd.prototype).add=function(n,e){za(this),this.i=null,n=Yd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ft.forEach=function(n,e){za(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},ft.oa=function(){za(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},ft.W=function(n){za(this);let e=[];if("string"==typeof n)p0(this,n)&&(e=e.concat(this.g.get(Yd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ft.set=function(n,e){return za(this),this.i=null,p0(this,n=Yd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ft.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var s=u;""!==d[r]&&(s+="="+encodeURIComponent(String(d[r]))),n.push(s)}}return this.i=n.join("&")};var qx=10;function m0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zC(n){return n.h?1:n.g?n.g.size:0}function _0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function GC(n,e){n.g?n.g.add(e):n.h=e}function qC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function WC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Fy(n.i)}function hm(){}function KC(){this.g=new hm}function YC(n,e,t){const r=t||"";try{c0(n,function(s,u){let d=s;Af(s)&&(d=zy(s)),e.push(r+u+"="+encodeURIComponent(d))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function fm(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Gf(n){this.l=n.ac||null,this.j=n.jb||!1}function pm(n,e){Qn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=y0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}g0.prototype.cancel=function(){if(this.i=WC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},hm.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},hm.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},Kr(Gf,sm),Gf.prototype.g=function(){return new pm(this.l,this.j)},Gf.prototype.i=function(n){return function(){return n}}({}),Kr(pm,Qn);var y0=0;function QC(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function qf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ga(n)}function Ga(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=pm.prototype).open=function(n,e){if(this.readyState!=y0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ga(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Vt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qf(this)),this.readyState=y0},ft.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ga(this)),this.g&&(this.readyState=3,Ga(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QC(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ft.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?qf(this):Ga(this),3==this.readyState&&QC(this)}},ft.Va=function(n){this.g&&(this.response=this.responseText=n,qf(this))},ft.Ua=function(n){this.g&&(this.response=n,qf(this))},ft.ga=function(){this.g&&qf(this)},ft.setRequestHeader=function(n,e){this.v.append(n,e)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(pm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var JC=Vt.JSON.parse;function Hn(n){Qn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=v0,this.K=this.L=!1}Kr(Hn,Qn);var v0="",XC=/^https?$/i,eb=["POST","PUT"];function nb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ID(n),Wf(n)}function ID(n){n.D||(n.D=!0,ir(n,"complete"),ir(n,"error"))}function rb(n){if(n.h&&typeof $g<"u"&&(!n.C[1]||4!=qa(n)||2!=n.aa()))if(n.v&&4==qa(n))$d(n.Ha,0,n);else if(ir(n,"readystatechange"),4==qa(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var s=String(n.H).match(um)[1]||null;if(!s&&Vt.self&&Vt.self.location){var u=Vt.self.location.protocol;s=u.substr(0,u.length-1)}r=!XC.test(s?s.toLowerCase():"")}t=r}if(t)ir(n,"complete"),ir(n,"success");else{n.m=6;try{var d=2<qa(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",ID(n)}}finally{Wf(n)}}}function Wf(n,e){if(n.g){w0(n);const t=n.g,r=n.C[0]?Hg:null;n.g=null,n.C=null,e||ir(n,"ready");try{t.onreadystatechange=r}catch{}}}function w0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function qa(n){return n.g?n.g.readyState:0}function ib(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case v0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Qd(n){let e="";return CC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function C0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Qd(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Sn(n,e,t))}function bl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ls(n){this.Ca=0,this.i=[],this.j=new im,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=bl("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=bl("baseRetryDelayMs",5e3,n),this.bb=bl("retryDelaySeedMs",1e4,n),this.$a=bl("forwardChannelMaxRetries",2,n),this.ta=bl("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new g0(n&&n.concurrentRequestLimit),this.Fa=new KC,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function b0(n){if(Xd(n),3==n.G){var e=n.U++,t=cs(n.F);Sn(t,"SID",n.I),Sn(t,"RID",e),Sn(t,"TYPE","terminate"),Yu(n,t),(e=new jf(n,n.j,e,void 0)).K=2,e.v=lm(cs(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(t=Vt.navigator.sendBeacon(e.v.toString(),"")),!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=vm(e.l,null),e.g.da(e.v)),e.F=Date.now(),$f(e)}T0(n)}function Jd(n){n.g&&(mm(n),n.g.cancel(),n.g=null)}function Xd(n){Jd(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),eh(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function gm(n){m0(n.h)||n.m||(n.m=!0,qy(n.Ja,n),n.C=0)}function ob(n,e){var t;t=e?e.m:n.U++;const r=cs(n.F);Sn(r,"SID",n.I),Sn(r,"RID",t),Sn(r,"AID",n.T),Yu(n,r),n.o&&n.s&&C0(r,n.o,n.s),t=new jf(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Kf(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),GC(n.h,t),r0(t,r,e)}function Yu(n,e){n.ia&&CC(n.ia,function(t,r){Sn(e,r,t)}),n.l&&c0({},function(t,r){Sn(e,r,t)})}function Kf(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ci(n.l.Ra,n.l,n):null;e:{var s=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=s[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let I=s[w].h;const x=s[w].g;if(I-=u,0>I)u=Math.max(0,s[w].h-100),m=!1;else try{YC(x,d,"req"+I+"_")}catch{r&&r(x)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function sb(n){n.g||n.u||(n.Z=1,qy(n.Ia,n),n.A=0)}function E0(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Lf(ci(n.Ia,n),_m(n,n.A)),n.A++,0))}function mm(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function I0(n){n.g=new jf(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=cs(n.sa);Sn(e,"RID","rpc"),Sn(e,"SID",n.I),Sn(e,"CI",n.L?"0":"1"),Sn(e,"AID",n.T),Sn(e,"TYPE","xmlhttp"),Yu(n,e),n.o&&n.s&&C0(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=lm(cs(e)),t.s=null,t.P=!0,VC(t,n)}function eh(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function D0(n,e){var t=null;if(n.g==e){eh(n),mm(n),n.g=null;var r=2}else{if(!_0(n.h,e))return;t=e.D,qC(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;ir(r=om(),new Jy(r,t)),gm(n)}else sb(n);else if(3==(s=e.o)||0==s&&0<n.pa||!(1==r&&function DD(n,e){return!(zC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Lf(ci(n.Ja,n,e),_m(n,n.C)),n.C++,0)))}(n,e)||2==r&&E0(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),s){case 1:Wa(n,5);break;case 4:Wa(n,10);break;case 3:Wa(n,6);break;default:Wa(n,2)}}function _m(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Wa(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ci(n.kb,n);t||(t=new wl("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||cm(t,"https"),lm(t)),function ED(n,e){const t=new im;if(Vt.Image){const r=new Image;r.onload=zg(fm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=zg(fm,t,r,"TestLoadImage: error",!1,e),r.onabort=zg(fm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=zg(fm,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ii(2);n.G=0,n.l&&n.l.va(e),T0(n),Xd(n)}function T0(n){if(n.G=0,n.la=[],n.l){const e=WC(n.h);(0!=e.length||0!=n.i.length)&&(fC(n.la,e),fC(n.la,n.i),n.h.i.length=0,Fy(n.i),n.i.length=0),n.l.ua()}}function ym(n,e,t){var r=t instanceof wl?cs(t):new wl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),zf(r,r.m);else{var s=Vt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new wl(null,void 0);r&&cm(u,r),e&&(u.g=e),s&&zf(u,s),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&Sn(r,t,e),Sn(r,"VER",n.ma),Yu(n,r),r}function vm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hn(t&&n.Da&&!n.ra?new Gf({jb:!0}):n.ra)).Ka(n.H),e}function ab(){}function wm(){if(ml&&!(10<=Number(lD)))throw Error("Environmental error: no available transport.")}function oo(n,e){Qn.call(this),this.g=new ls(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!xf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Qu(this)}function ub(n){e0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function A0(){Uf.call(this),this.status=1}function Qu(n){this.g=n}(ft=Hn.prototype).Ka=function(n){this.L=n},ft.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():t0.g(),this.C=function Xy(n){return n.h||(n.h=n.i())}(this.u?this.u:t0),this.g.onreadystatechange=ci(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void nb(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=Vt.FormData&&n instanceof Vt.FormData,!(0<=hC(eb,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{w0(this),0<this.B&&((this.K=function tb(n){return ml&&function Zx(){return function gC(n){var e=vC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Ly(String(Uy)).split("."),t=Ly("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var s=e[d]||"",u=t[d]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=Gg(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Gg(0==s[2].length,0==u[2].length)||Gg(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ci(this.qa,this)):this.A=$d(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){nb(this,u)}},ft.qa=function(){typeof $g<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ir(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ir(this,"complete"),ir(this,"abort"),Wf(this))},ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wf(this,!0)),Hn.X.M.call(this)},ft.Ha=function(){this.s||(this.F||this.v||this.l?rb(this):this.fb())},ft.fb=function(){rb(this)},ft.aa=function(){try{return 2<qa(this)?this.g.status:-1}catch{return-1}},ft.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ft.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),JC(e)}},ft.Ea=function(){return this.m},ft.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=ls.prototype).ma=8,ft.G=1,ft.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const s=new jf(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=By(u),bC(u,this.S)):u=this.S),null!==this.o||this.N||(s.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Kf(this,s,e),Sn(t=cs(this.F),"RID",n),Sn(t,"CVER",22),this.D&&Sn(t,"X-HTTP-Session-Id",this.D),Yu(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(Qd(u)))+"&"+e:this.o&&C0(t,this.o,u)),GC(this.h,s),this.Ya&&Sn(t,"TYPE","init"),this.O?(Sn(t,"$req",e),Sn(t,"SID","null"),s.Z=!0,r0(s,t,null)):r0(s,t,e),this.G=2}}else 3==this.G&&(n?ob(this,n):0==this.i.length||m0(this.h)||ob(this))},ft.Ia=function(){if(this.u=null,I0(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Lf(ci(this.eb,this),n)}},ft.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ii(10),Jd(this),I0(this))},ft.cb=function(){null!=this.v&&(this.v=null,Jd(this),E0(this),Ii(19))},ft.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ii(2)):(this.j.info("Failed to ping google.com"),Ii(1))},(ft=ab.prototype).xa=function(){},ft.wa=function(){},ft.va=function(){},ft.ua=function(){},ft.Ra=function(){},wm.prototype.g=function(n,e){return new oo(n,e)},Kr(oo,Qn),oo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ii(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=ym(n,null,n.V),gm(n)},oo.prototype.close=function(){b0(this.g)},oo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=zy(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&gm(e)},oo.prototype.M=function(){this.g.l=null,delete this.j,b0(this.g),delete this.g,oo.X.M.call(this)},Kr(ub,e0),Kr(A0,Uf),Kr(Qu,ab),Qu.prototype.xa=function(){ir(this.g,"a")},Qu.prototype.wa=function(n){ir(this.g,new ub(n))},Qu.prototype.va=function(n){ir(this.g,new A0)},Qu.prototype.ua=function(){ir(this.g,"b")},wm.prototype.createWebChannel=wm.prototype.g,oo.prototype.send=oo.prototype.u,oo.prototype.open=oo.prototype.m,oo.prototype.close=oo.prototype.close,qd.NO_ERROR=0,qd.TIMEOUT=8,qd.HTTP_ERROR=6,NC.COMPLETE="complete",FC.EventType=Vf,Vf.OPEN="a",Vf.CLOSE="b",Vf.ERROR="c",Vf.MESSAGE="d",Qn.prototype.listen=Qn.prototype.N,Hn.prototype.listenOnce=Hn.prototype.O,Hn.prototype.getLastError=Hn.prototype.Oa,Hn.prototype.getLastErrorCode=Hn.prototype.Ea,Hn.prototype.getStatus=Hn.prototype.aa,Hn.prototype.getResponseJson=Hn.prototype.Sa,Hn.prototype.getResponseText=Hn.prototype.fa,Hn.prototype.send=Hn.prototype.da,Hn.prototype.setWithCredentials=Hn.prototype.Ka;var cb=Ys.createWebChannelTransport=function(){return new wm},TD=Ys.getStatEventTarget=function(){return om()},Cm=Ys.ErrorCode=qd,lb=Ys.EventType=NC,AD=Ys.Event=yl,x0=Ys.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},db=Ys.FetchXmlHttpFactory=Gf,bm=Ys.WebChannel=FC,hb=Ys.XhrIo=Hn;const fb="@firebase/firestore";class on{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let ds="9.18.0";const Ju=new Ha.Yd("@firebase/firestore");function S0(){return Ju.logLevel}function Pe(n,...e){if(Ju.logLevel<=Ha.in.DEBUG){const t=e.map(El);Ju.debug(`Firestore (${ds}): ${n}`,...t)}}function Jn(n,...e){if(Ju.logLevel<=Ha.in.ERROR){const t=e.map(El);Ju.error(`Firestore (${ds}): ${n}`,...t)}}function Xu(n,...e){if(Ju.logLevel<=Ha.in.WARN){const t=e.map(El);Ju.warn(`Firestore (${ds}): ${n}`,...t)}}function El(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+n;throw Jn(e),new Error(e)}function lt(n,e){n||rt()}function qe(n,e){return n}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends nn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Em{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class gb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Im{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=I=>this.i!==s?(s=this.i,t(I)):Promise.resolve();let d=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new vr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const I=d;e.enqueueRetryable((0,pe.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},w=I=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(I=>w(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?w(I):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new vr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt("string"==typeof r.accessToken),new Em(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new on(e)}}class M0{constructor(e,t,r,s){this.h=e,this.l=t,this.m=r,this.g=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(lt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Kx{constructor(e,t,r,s){this.h=e,this.l=t,this.m=r,this.g=s}getToken(){return Promise.resolve(new M0(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SD{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,Pe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?s(u):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt("string"==typeof t.token),this.A=t.token,new O0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function th(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class mb{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=th(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Nt(n,e){return n<e?-1:n>e?1:0}function ec(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function OD(n){return n+"\0"}class Nn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new Nn(0,0))}static max(){return new wt(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yf{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Yf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),d=t.get(s);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends Yf{construct(e,t,r){return new en(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new en(t)}static emptyPath(){return new en([])}}const PD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends Yf{construct(e,t,r){return new Zn(e,t,r)}static isValidIdentifier(e){return PD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new xe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new xe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[s+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new xe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,s+=2}else"`"===m?(d=!d,s++):"."!==m||d?(r+=m,s++):(u(),s++)}if(u(),d)throw new xe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(t)}static emptyPath(){return new Zn([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(en.fromString(e))}static fromName(e){return new ze(en.fromString(e).popFirst(5))}static empty(){return new ze(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new en(e.slice()))}}class Dm{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function Tm(n){return n.fields.find(e=>2===e.kind)}function tc(n){return n.fields.filter(e=>2!==e.kind)}Dm.UNKNOWN_ID=-1;class Am{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qf(0,$i.min())}}function P0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=wt.fromTimestamp(1e9===r?new Nn(t+1,0):new Nn(t,r));return new $i(s,ze.empty(),e)}function R0(n){return new $i(n.readTime,n.key,-1)}class $i{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $i(wt.min(),ze.empty(),-1)}static max(){return new $i(wt.max(),ze.empty(),-1)}}function xm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ze.comparator(n.documentKey,e.documentKey),0!==t?t:Nt(n.largestBatchId,e.largestBatchId))}const yb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Il(n){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,pe.Z)(function*(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==yb)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Sm.apply(this,arguments)}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let s=0,u=0,d=!1;e.forEach(m=>{++s,m.next(()=>{++u,d&&u===s&&t()},w=>r(w))}),d=!0,u===s&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(s=>s?ne.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,s)=>{const u=e.length,d=new Array(u);let m=0;for(let w=0;w<u;w++){const I=w;t(e[I]).next(x=>{d[I]=x,++m,m===u&&r(d)},x=>s(x))}})}static doWhile(e,t){return new ne((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}class k0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new vr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Mm(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const s=wb(r.target.error);this.P.reject(new Mm(e,s))}}static open(e,t,r,s){try{return new k0(t,e.transaction(s,r))}catch(u){throw new Mm(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Qx(t)}}class Qs{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Qs.D((0,nn.z$)())&&Jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),nh(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,nn.hl)())return!1;if(Qs.N())return!0;const e=(0,nn.z$)(),t=Qs.D(e),r=0<t&&t<10,s=Qs.k(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.$)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,pe.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{s(new Mm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;s("VersionError"===m.name?new xe(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new xe(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Mm(e,m))},u.onupgradeneeded=d=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.F(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,pe.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.O(e);const w=k0.open(u.db,e,d?"readonly":"readwrite",r),I=s(w).next(x=>(w.V(),x)).catch(x=>(w.abort(x),ne.reject(x))).toPromise();return I.catch(()=>{}),yield w.v,I}catch(w){const I=w,x="FirebaseError"!==I.name&&m<3;if(Pe("SimpleDb","Transaction failed with error:",I.message,"Retrying:",x),u.close(),!x)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Yx{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return nh(this.q.delete())}}class Mm extends xe{constructor(e,t){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Dl(n){return"IndexedDbTransactionError"===n.name}class Qx{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nh(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),nh(this.store.add(e))}get(e){return nh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),nh(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),nh(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.H(s,(d,m)=>{u.push(m)}).next(()=>u)}{const s=this.store.getAll(r.range);return new ne((u,d)=>{s.onerror=m=>{d(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ne((s,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}Y(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Z=!1;const s=this.cursor(r);return this.H(s,(u,d,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}tt(e){const t=this.cursor({});return new ne((r,s)=>{t.onerror=u=>{const d=wb(u.target.error);s(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}H(e,t){const r=[];return new ne((s,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void s();const w=new Yx(m),I=t(m.primaryKey,m.value,w);if(I instanceof ne){const x=I.catch(P=>(w.done(),ne.reject(P)));r.push(x)}w.isDone?s():null===w.G?m.continue():m.continue(w.G)}}).next(()=>ne.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nh(n){return new ne((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=wb(r.target.error);t(s)}})}let Jf=!1;function wb(n){const e=Qs.D((0,nn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Jf||(Jf=!0,setTimeout(()=>{throw r},0)),r}}return n}class Cb{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,pe.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Dl(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Il(r)}yield t.nt(6e4)}))}}class Om{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let s=t,u=!0;return ne.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Pe("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,s).next(m=>{s-=m,r.add(d)});u=!1})).next(()=>t-s)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(s,u)).next(m=>(Pe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((s,u)=>{const d=R0(u);xm(d,r)>0&&(r=d)}),new $i(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Hi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>r.writeSequenceNumber(s))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class Ib{constructor(e,t,r,s,u,d,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=w}}class nc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}function F0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xf(n){return null==n}function ep(n){return 0===n&&1/n==-1/0}function tp(n){return"number"==typeof n&&Number.isInteger(n)&&!ep(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ND extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw s instanceof DOMException?new ND("Invalid base64 string: "+s):s}}(e);return new Rr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const Xx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rc(n){if(lt(!!n),"string"==typeof n){let e=0;const t=Xx.exec(n);if(lt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xn(n.seconds),nanos:Xn(n.nanos)}}function Xn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Tl(n){return"string"==typeof n?Rr.fromBase64String(n):Rr.fromUint8Array(n)}function Db(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Tb(n){const e=n.mapValue.fields.__previous_value__;return Db(e)?Tb(e):e}function ih(n){const e=rc(n.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}const Ka={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},L0={nullValue:"NULL_VALUE"};function Yr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Db(n)?4:j0(n)?9007199254740991:10:rt()}function Js(n,e){if(n===e)return!0;const t=Yr(n);if(t!==Yr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ih(n).isEqual(ih(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=rc(r.timestampValue),d=rc(s.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Tl(n.bytesValue).isEqual(Tl(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Xn(r.geoPointValue.latitude)===Xn(s.geoPointValue.latitude)&&Xn(r.geoPointValue.longitude)===Xn(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Xn(r.integerValue)===Xn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Xn(r.doubleValue),d=Xn(s.doubleValue);return u===d?ep(u)===ep(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ec(n.arrayValue.values||[],e.arrayValue.values||[],Js);case 10:return function(r,s){const u=r.mapValue.fields||{},d=s.mapValue.fields||{};if(F0(u)!==F0(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!Js(u[m],d[m])))return!1;return!0}(n,e);default:return rt()}var s}function Al(n,e){return void 0!==(n.values||[]).find(t=>Js(t,e))}function ic(n,e){if(n===e)return 0;const t=Yr(n),r=Yr(e);if(t!==r)return Nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const d=Xn(s.integerValue||s.doubleValue),m=Xn(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return FD(n.timestampValue,e.timestampValue);case 4:return FD(ih(n),ih(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(s,u){const d=Tl(s),m=Tl(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const d=s.split("/"),m=u.split("/");for(let w=0;w<d.length&&w<m.length;w++){const I=Nt(d[w],m[w]);if(0!==I)return I}return Nt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const d=Nt(Xn(s.latitude),Xn(u.latitude));return 0!==d?d:Nt(Xn(s.longitude),Xn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const d=s.values||[],m=u.values||[];for(let w=0;w<d.length&&w<m.length;++w){const I=ic(d[w],m[w]);if(I)return I}return Nt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Ka.mapValue&&u===Ka.mapValue)return 0;if(s===Ka.mapValue)return 1;if(u===Ka.mapValue)return-1;const d=s.fields||{},m=Object.keys(d),w=u.fields||{},I=Object.keys(w);m.sort(),I.sort();for(let x=0;x<m.length&&x<I.length;++x){const P=Nt(m[x],I[x]);if(0!==P)return P;const $=ic(d[m[x]],w[I[x]]);if(0!==$)return $}return Nt(m.length,I.length)}(n.mapValue,e.mapValue);default:throw rt()}}function FD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=rc(n),r=rc(e),s=Nt(t.seconds,r.seconds);return 0!==s?s:Nt(t.nanos,r.nanos)}function Qr(n){return V0(n)}function V0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=rc(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Tl(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const d of r.values||[])u?u=!1:s+=",",s+=V0(d);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of s)d?d=!1:u+=",",u+=`${m}:${V0(r.fields[m])}`;return u+"}"}(n.mapValue):rt();var e}function Ya(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function U0(n){return!!n&&"integerValue"in n}function np(n){return!!n&&"arrayValue"in n}function Pm(n){return!!n&&"nullValue"in n}function B0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rp(n){return!!n&&"mapValue"in n}function ip(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ip(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ip(n.arrayValue.values[t]);return e}return Object.assign({},n)}function j0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ab(n){return"nullValue"in n?L0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ya(nc.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function LD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ya(nc.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ka:rt()}function $0(n,e){const t=ic(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function xb(n,e){const t=ic(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Xs{constructor(e,t){this.position=e,this.inclusive=t}}function Qa(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],d=n.position[s];if(r=u.field.isKeyField()?ze.comparator(ze.fromName(d.referenceValue),t.key):ic(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function H0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Js(n.position[t],e.position[t]))return!1;return!0}class Rm{}class $t extends Rm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new UD(e,t,r):"array-contains"===t?new Ob(e,r):"in"===t?new K0(e,r):"not-in"===t?new Pb(e,r):"array-contains-any"===t?new Rb(e,r):new $t(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Mb(e,r):new eS(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ic(t,this.value)):null!==t&&Yr(this.value)===Yr(t)&&this.matchesComparison(ic(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ln extends Rm{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new ln(e,t)}matches(e){return op(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function op(n){return"and"===n.op}function Z0(n){return"or"===n.op}function z0(n){return Sb(n)&&op(n)}function Sb(n){for(const e of n.filters)if(e instanceof ln)return!1;return!0}function G0(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+Qr(n.value);if(z0(n))return n.filters.map(e=>G0(e)).join(",");{const e=n.filters.map(t=>G0(t)).join(",");return`${n.op}(${e})`}}function q0(n,e){return n instanceof $t?(t=n,(r=e)instanceof $t&&t.op===r.op&&t.field.isEqual(r.field)&&Js(t.value,r.value)):n instanceof ln?function(t,r){return r instanceof ln&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,d)=>s&&q0(u,r.filters[d]),!0)}(n,e):void rt();var t,r}function VD(n,e){const t=n.filters.concat(e);return ln.create(t,n.op)}function W0(n){return n instanceof $t?`${(e=n).field.canonicalString()} ${e.op} ${Qr(e.value)}`:n instanceof ln?function(e){return e.op.toString()+" {"+e.getFilters().map(W0).join(" ,")+"}"}(n):"Filter";var e}class UD extends $t{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class Mb extends $t{constructor(e,t){super(e,"in",t),this.keys=km(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eS extends $t{constructor(e,t){super(e,"not-in",t),this.keys=km(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function km(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}class Ob extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return np(t)&&Al(t.arrayValue,this.value)}}class K0 extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Al(this.value.arrayValue,t)}}class Pb extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Al(this.value.arrayValue,t)}}class Rb extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!np(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Al(this.value.arrayValue,r))}}class xl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Nm(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Mn{constructor(e,t){this.comparator=e,this.root=t||Jr.EMPTY}insert(e,t){return new Mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new Mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sp(this.root,e,this.comparator,!0)}}class sp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??Jr.RED,this.left=s??Jr.EMPTY,this.right=u??Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Jr(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Jr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Jr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BD(this.data.getIterator())}getIteratorFrom(e){return new BD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gn(this.comparator);return t.data=e,t}}class BD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ap(n){return n.hasNext()?n.getNext():void 0}class so{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new so([])}unionWith(e){let t=new gn(Zn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new so(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ip(t)}setAll(e){let t=Zn.emptyPath(),r={},s=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,s),r={},s=[],t=m.popLast()}d?r[m.lastSegment()]=ip(d):s.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());rp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Js(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];rp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){rh(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new wr(ip(this.value))}}function kb(n){const e=[];return rh(n.fields,(t,r)=>{const s=new Zn([t]);if(rp(r)){const u=kb(r.mapValue).fields;if(0===u.length)e.push(s);else for(const d of u)e.push(s.child(d))}else e.push(s)}),new so(e)}class On{constructor(e,t,r,s,u,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new On(e,0,wt.min(),wt.min(),wt.min(),wr.empty(),0)}static newFoundDocument(e,t,r,s){return new On(e,1,t,wt.min(),r,s,0)}static newNoDocument(e,t){return new On(e,2,t,wt.min(),wt.min(),wr.empty(),0)}static newUnknownDocument(e,t){return new On(e,3,t,wt.min(),wt.min(),wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jD{constructor(e,t=null,r=[],s=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=d,this.endAt=m,this._t=null}}function Nb(n,e=null,t=[],r=[],s=null,u=null,d=null){return new jD(n,e,t,r,s,u,d)}function oh(n){const e=qe(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>G0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qr(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qr(r)).join(",")),e._t=t}return e._t}function Fm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Nm(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!q0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!H0(n.startAt,e.startAt)&&H0(n.endAt,e.endAt)}function Y0(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Q0(n,e){return n.filters.filter(t=>t instanceof $t&&t.field.isEqual(e))}function Fb(n,e,t){let r=L0,s=!0;for(const u of Q0(n,e)){let d=L0,m=!0;switch(u.op){case"<":case"<=":d=Ab(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=L0}$0({value:r,inclusive:s},{value:d,inclusive:m})<0&&(r=d,s=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];$0({value:r,inclusive:s},{value:d,inclusive:t.inclusive})<0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}function up(n,e,t){let r=Ka,s=!0;for(const u of Q0(n,e)){let d=Ka,m=!0;switch(u.op){case">=":case">":d=LD(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=Ka}xb({value:r,inclusive:s},{value:d,inclusive:m})>0&&(r=d,s=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];xb({value:r,inclusive:s},{value:d,inclusive:t.inclusive})>0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}class Ja{constructor(e,t=null,r=[],s=[],u=null,d="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=w,this.wt=null,this.gt=null}}function Lb(n,e,t,r,s,u,d,m){return new Ja(n,e,t,r,s,u,d,m)}function Sl(n){return new Ja(n)}function oc(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Lm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function sh(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function cp(n){return null!==n.collectionGroup}function Ml(n){const e=qe(n);if(null===e.wt){e.wt=[];const t=sh(e),r=Lm(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new xl(t)),e.wt.push(new xl(Zn.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new xl(Zn.keyField(),u))}}}return e.wt}function Xr(n){const e=qe(n);if(!e.gt)if("F"===e.limitType)e.gt=Nb(e.path,e.collectionGroup,Ml(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ml(e))t.push(new xl(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Xs(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Xs(e.startAt.position,e.startAt.inclusive):null;e.gt=Nb(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.gt}function lp(n,e){e.getFirstInequalityField(),sh(n);const t=n.filters.concat([e]);return new Ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ol(n,e,t){return new Ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vm(n,e){return Fm(Xr(n),Xr(e))&&n.limitType===e.limitType}function $D(n){return`${oh(Xr(n))}|lt:${n.limitType}`}function Vb(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>W0(r)).join(", ")}]`),Xf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qr(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qr(r)).join(",")),`Target(${t})`}(Xr(n))}; limitType=${n.limitType})`}function Um(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):ze.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of Ml(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,d){const m=Qa(s,u,d);return s.inclusive?m<=0:m<0}(t.startAt,Ml(t),r)||t.endAt&&!function(s,u,d){const m=Qa(s,u,d);return s.inclusive?m>=0:m>0}(t.endAt,Ml(t),r)));var t,r}function J0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ub(n){return(e,t)=>{let r=!1;for(const s of Ml(n)){const u=HD(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function HD(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(s,u,d){const m=u.data.field(s),w=d.data.field(s);return null!==m&&null!==w?ic(m,w):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function Bb(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ep(e)?"-0":e}}function jb(n){return{integerValue:""+n}}function X0(n,e){return tp(e)?jb(e):Bb(n,e)}class dp{constructor(){this._=void 0}}function $b(n,e,t){return n instanceof Pl?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof Xa?zD(n,e):n instanceof sc?Bm(n,e):function(r,s){const u=Hb(r,s),d=Zb(u)+Zb(r.It);return U0(u)&&U0(r.It)?jb(d):Bb(r.Tt,d)}(n,e)}function ZD(n,e,t){return n instanceof Xa?zD(n,e):n instanceof sc?Bm(n,e):t}function Hb(n,e){return n instanceof ah?U0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Pl extends dp{}class Xa extends dp{constructor(e){super(),this.elements=e}}function zD(n,e){const t=GD(e);for(const r of n.elements)t.some(s=>Js(s,r))||t.push(r);return{arrayValue:{values:t}}}class sc extends dp{constructor(e){super(),this.elements=e}}function Bm(n,e){let t=GD(e);for(const r of n.elements)t=t.filter(s=>!Js(s,r));return{arrayValue:{values:t}}}class ah extends dp{constructor(e,t){super(),this.Tt=e,this.It=t}}function Zb(n){return Xn(n.integerValue||n.doubleValue)}function GD(n){return np(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jm{constructor(e,t){this.field=e,this.transform=t}}class WD{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ev(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class tv{}function KD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new i(n.key,Fn.none()):new hp(n.key,n.data,Fn.none());{const t=n.data,r=wr.empty();let s=new gn(Zn.comparator);for(let u of e.fields)if(!s.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),s=s.add(u)}return new ac(n.key,r,new so(s.toArray()),Fn.none())}}function tS(n,e,t){n instanceof hp?function(r,s,u){const d=r.value.clone(),m=XD(r.fieldTransforms,s,u.transformResults);d.setAll(m),s.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ac?function(r,s,u){if(!ev(r.precondition,s))return void s.convertToUnknownDocument(u.version);const d=XD(r.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(JD(r)),m.setAll(d),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $m(n,e,t,r){return n instanceof hp?function(s,u,d,m){if(!ev(s.precondition,u))return d;const w=s.value.clone(),I=eT(s.fieldTransforms,m,u);return w.setAll(I),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof ac?function(s,u,d,m){if(!ev(s.precondition,u))return d;const w=eT(s.fieldTransforms,m,u),I=u.data;return I.setAll(JD(s)),I.setAll(w),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null===d?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(x=>x.field))}(n,e,t,r):(d=t,ev(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function YD(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=Hb(r.transform,s||null);null!=u&&(null===t&&(t=wr.empty()),t.set(r.field,u))}return t||null}function QD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ec(t,r,(s,u)=>function qD(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Xa&&r instanceof Xa||t instanceof sc&&r instanceof sc?ec(t.elements,r.elements,Js):t instanceof ah&&r instanceof ah?Js(t.It,r.It):t instanceof Pl&&r instanceof Pl);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class hp extends tv{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ac extends tv{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function JD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function XD(n,e,t){const r=new Map;lt(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],d=u.transform,m=e.data.field(u.field);r.set(u.field,ZD(d,m,t[s]))}return r}function eT(n,e,t){const r=new Map;for(const s of n){const u=s.transform,d=t.data.field(s.field);r.set(s.field,$b(u,d,e))}return r}class i extends tv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o extends tv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class a{constructor(e){this.count=e}}var l,h;function p(n){switch(n){default:return rt();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function y(n){if(void 0===n)return Jn("GRPC error has no .code"),ie.UNKNOWN;switch(n){case l.OK:return ie.OK;case l.CANCELLED:return ie.CANCELLED;case l.UNKNOWN:return ie.UNKNOWN;case l.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case l.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case l.INTERNAL:return ie.INTERNAL;case l.UNAVAILABLE:return ie.UNAVAILABLE;case l.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case l.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case l.NOT_FOUND:return ie.NOT_FOUND;case l.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case l.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case l.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case l.ABORTED:return ie.ABORTED;case l.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case l.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case l.DATA_LOSS:return ie.DATA_LOSS;default:return rt()}}(h=l||(l={}))[h.OK=0]="OK",h[h.CANCELLED=1]="CANCELLED",h[h.UNKNOWN=2]="UNKNOWN",h[h.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",h[h.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",h[h.NOT_FOUND=5]="NOT_FOUND",h[h.ALREADY_EXISTS=6]="ALREADY_EXISTS",h[h.PERMISSION_DENIED=7]="PERMISSION_DENIED",h[h.UNAUTHENTICATED=16]="UNAUTHENTICATED",h[h.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",h[h.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",h[h.ABORTED=10]="ABORTED",h[h.OUT_OF_RANGE=11]="OUT_OF_RANGE",h[h.UNIMPLEMENTED=12]="UNIMPLEMENTED",h[h.INTERNAL=13]="INTERNAL",h[h.UNAVAILABLE=14]="UNAVAILABLE",h[h.DATA_LOSS=15]="DATA_LOSS";class C{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){rh(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return kD(this.inner)}size(){return this.innerSize}}const b=new Mn(ze.comparator);function T(){return b}const M=new Mn(ze.comparator);function N(...n){let e=M;for(const t of n)e=e.insert(t.key,t);return e}function Z(n){let e=M;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function K(){return Re()}function ge(){return Re()}function Re(){return new C(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ke=new Mn(ze.comparator),at=new gn(ze.comparator);function Le(...n){let e=at;for(const t of n)e=e.add(t);return e}const Se=new gn(Nt);function Pt(){return Se}class mn{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Pn.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mn(wt.min(),s,Pt(),T(),Le())}}class Pn{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Pn(r,t,Le(),Le(),Le())}}class nv{constructor(e,t,r,s){this.Et=e,this.removedTargetIds=t,this.key=r,this.At=s}}class nS{constructor(e,t){this.targetId=e,this.Rt=t}}class rS{constructor(e,t,r=Rr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class iS{constructor(){this.Pt=0,this.vt=sS(),this.bt=Rr.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=Le(),t=Le(),r=Le();return this.vt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:rt()}}),new Pn(this.bt,this.Vt,e,t,r)}kt(){this.St=!1,this.vt=sS()}$t(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class _O{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=T(),this.Kt=oS(),this.Gt=new gn(Nt)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const r=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),r.xt(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((r,s)=>{this.Jt(s)&&t(s)})}Zt(e){const t=e.targetId,r=e.Rt.count,s=this.Xt(t);if(s){const u=s.target;if(Y0(u))if(0===r){const d=new ze(u.path);this.zt(t,d,On.newNoDocument(d,wt.min()))}else lt(1===r);else this.te(t)!==r&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((u,d)=>{const m=this.Xt(d);if(m){if(u.current&&Y0(m.target)){const w=new ze(m.target.path);null!==this.Ut.get(w)||this.ne(d,w)||this.zt(d,w,On.newNoDocument(w,e))}u.Ct&&(t.set(d,u.Nt()),u.kt())}});let r=Le();this.Kt.forEach((u,d)=>{let m=!0;d.forEachWhile(w=>{const I=this.Xt(w);return!I||2===I.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const s=new mn(e,t,this.Gt,this.Ut,r);return this.Ut=T(),this.Kt=oS(),this.Gt=new gn(Nt),s}jt(e,t){if(!this.Jt(e))return;const r=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,r){if(!this.Jt(e))return;const s=this.Ht(e);this.ne(e,t)?s.$t(t,1):s.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let t=this.qt.get(e);return t||(t=new iS,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new gn(Nt),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new iS),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function oS(){return new Mn(ze.comparator)}function sS(){return new Mn(ze.comparator)}const yO={asc:"ASCENDING",desc:"DESCENDING"},vO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wO={and:"AND",or:"OR"};class CO{constructor(e,t){this.databaseId=e,this.yt=t}}function Hm(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aS(n,e){return n.yt?e.toBase64():e.toUint8Array()}function bO(n,e){return Hm(n,e.toTimestamp())}function Cr(n){return lt(!!n),wt.fromTimestamp(function(e){const t=rc(e);return new Nn(t.seconds,t.nanos)}(n))}function tT(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function uS(n){const e=en.fromString(n);return lt(_S(e)),e}function rv(n,e){return tT(n.databaseId,e.path)}function uc(n,e){const t=uS(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(lS(t))}function nT(n,e){return tT(n.databaseId,e)}function cS(n){const e=uS(n);return 4===e.length?en.emptyPath():lS(e)}function iv(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lS(n){return lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dS(n,e,t){return{name:rv(n,e),fields:t.value.mapValue.fields}}function hS(n,e,t){const r=uc(n,e.name),s=Cr(e.updateTime),u=e.createTime?Cr(e.createTime):wt.min(),d=new wr({mapValue:{fields:e.fields}}),m=On.newFoundDocument(r,s,u,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function ov(n,e){let t;if(e instanceof hp)t={update:dS(n,e.key,e.value)};else if(e instanceof i)t={delete:rv(n,e.key)};else if(e instanceof ac)t={update:dS(n,e.key,e.data),updateMask:MO(e.fieldMask)};else{if(!(e instanceof o))return rt();t={verify:rv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const d=u.transform;if(d instanceof Pl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xa)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof sc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ah)return{fieldPath:u.field.canonicalString(),increment:d.It};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:bO(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:rt()),t;var s}function rT(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Fn.updateTime(Cr(s.updateTime)):void 0!==s.exists?Fn.exists(s.exists):Fn.none():Fn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,d){let m=null;"setToServerValue"in d?(lt("REQUEST_TIME"===d.setToServerValue),m=new Pl):"appendMissingElements"in d?m=new Xa(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new sc(d.removeAllFromArray.values||[]):"increment"in d?m=new ah(u,d.increment):rt();const w=Zn.fromServerFormat(d.fieldPath);return new jm(w,m)}(n,s)):[];var s;if(e.update){const s=uc(n,e.update.name),u=new wr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new so((e.updateMask.fieldPaths||[]).map(I=>Zn.fromServerFormat(I)));return new ac(s,u,d,t,r)}return new hp(s,u,t,r)}if(e.delete){const s=uc(n,e.delete);return new i(s,t)}if(e.verify){const s=uc(n,e.verify);return new o(s,t)}return rt()}function fS(n,e){return{documents:[nT(n,e.path)]}}function iT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=nT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=nT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(w){if(0!==w.length)return mS(ln.create(w,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(w){if(0!==w.length)return w.map(I=>{return{field:uh((x=I).field),direction:AO(x.dir)};var x})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(I=e.limit,n.yt||Xf(I)?I:{value:I});var I,m,w;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function pS(n){let e=cS(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){lt(1===r);const x=t.from[0];x.allDescendants?s=x.collectionId:e=e.child(x.collectionId)}let u=[];t.where&&(u=function(x){const P=gS(x);return P instanceof ln&&z0(P)?P.getFilters():[P]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(x=>{return new xl(Zm((P=x).field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let m=null;t.limit&&(m=function(x){let P;return P="object"==typeof x?x.value:x,Xf(P)?null:P}(t.limit));let w=null;var x;t.startAt&&(w=new Xs((x=t.startAt).values||[],!!x.before));let I=null;return t.endAt&&(I=function(x){return new Xs(x.values||[],!x.before)}(t.endAt)),Lb(e,s,d,u,m,"F",w,I)}function gS(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Zm(e.unaryFilter.field);return $t.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Zm(e.unaryFilter.field);return $t.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zm(e.unaryFilter.field);return $t.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zm(e.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(n):void 0!==n.fieldFilter?$t.create(Zm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ln.create(e.compositeFilter.filters.map(t=>gS(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(n):rt();var e}function AO(n){return yO[n]}function xO(n){return vO[n]}function SO(n){return wO[n]}function uh(n){return{fieldPath:n.canonicalString()}}function Zm(n){return Zn.fromServerFormat(n.fieldPath)}function mS(n){return n instanceof $t?function(e){if("=="===e.op){if(B0(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NAN"}};if(Pm(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(B0(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NOT_NAN"}};if(Pm(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uh(e.field),op:xO(e.op),value:e.value}}}(n):n instanceof ln?function(e){const t=e.getFilters().map(r=>mS(r));return 1===t.length?t[0]:{compositeFilter:{op:SO(e.op),filters:t}}}(n):rt()}function MO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _S(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ao(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yS(e)),e=OO(n.get(t),e);return yS(e)}function OO(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function yS(n){return n+"\x01\x01"}function cc(n){const e=n.length;if(lt(e>=2),2===e)return lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&rt(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let w;0===s.length?w=m:(s+=m,w=s,s=""),r.push(w);break;case"\x10":s+=n.substring(u,d),s+="\0";break;case"\x11":s+=n.substring(u,d+1);break;default:rt()}u=d+2}return new en(r)}const vS=["userId","batchId"];function zb(n,e){return[n,ao(e)]}function wS(n,e,t){return[n,ao(e),t]}const PO={},RO=["prefixPath","collectionGroup","readTime","documentId"],kO=["prefixPath","collectionGroup","documentId"],NO=["collectionGroup","readTime","prefixPath","documentId"],FO=["canonicalId","targetId"],LO=["targetId","path"],VO=["path","targetId"],UO=["collectionId","parent"],BO=["indexId","uid"],jO=["uid","sequenceNumber"],$O=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],HO=["indexId","uid","orderedDocumentKey"],ZO=["userId","collectionPath","documentId"],zO=["userId","collectionPath","largestBatchId"],GO=["userId","collectionGroup","largestBatchId"],CS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qO=[...CS,"documentOverlays"],bS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ES=bS,WO=[...ES,"indexConfiguration","indexState","indexEntries"];class oT extends vb{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function di(n,e){const t=qe(n);return Qs.M(t.re,e)}class sT{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&tS(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=$m(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=$m(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ge();return this.mutations.forEach(s=>{const u=e.get(s.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(s.key)?null:m;const w=KD(d,m);null!==w&&r.set(s.key,w),d.isValidDocument()||d.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(t,r)=>QD(t,r))&&ec(this.baseMutations,e.baseMutations,(t,r)=>QD(t,r))}}class aT{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){lt(e.mutations.length===r.length);let s=Ke;const u=e.mutations;for(let d=0;d<u.length;d++)s=s.insert(u[d].key,r[d].version);return new aT(e,t,r,s)}}class uT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ch{constructor(e,t,r,s,u=wt.min(),d=wt.min(),m=Rr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new ch(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ch(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class IS{constructor(e){this.oe=e}}function DS(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Gb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:rv(s=n.oe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Hm(s,u.version.toTimestamp()),createTime:Hm(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:fp(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:fp(e.version)}}var s,u;return r}function Gb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pp(n){const e=new Nn(n.seconds,n.nanoseconds);return wt.fromTimestamp(e)}function gp(n,e){const t=(e.baseMutations||[]).map(u=>rT(n.oe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>rT(n.oe,u)),s=Nn.fromMillis(e.localWriteTimeMs);return new sT(e.batchId,s,t,r)}function sv(n){const e=pp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?pp(n.lastLimboFreeSnapshotVersion):wt.min();let r;var s;return void 0!==n.query.documents?(lt(1===(s=n.query).documents.length),r=Xr(Sl(cS(s.documents[0])))):r=Xr(pS(n.query)),new ch(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Rr.fromBase64String(n.resumeToken))}function TS(n,e){const t=fp(e.snapshotVersion),r=fp(e.lastLimboFreeSnapshotVersion);let s;s=Y0(e.target)?fS(n.oe,e.target):iT(n.oe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:oh(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function cT(n){const e=pS({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ol(e,e.limit,"L"):e}function lT(n,e){return new uT(e.largestBatchId,rT(n.oe,e.overlayMutation))}function AS(n,e){const t=e.path.lastSegment();return[n,ao(e.path.popLast()),t]}function xS(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:fp(r.readTime),documentKey:ao(r.documentKey.path),largestBatchId:r.largestBatchId}}class YO{getBundleMetadata(e,t){return SS(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:pp(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return SS(e).put({bundleId:(r=t).id,createTime:fp(Cr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return MS(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:cT(s.bundledQuery),readTime:pp(s.readTime)};var s})}saveNamedQuery(e,t){return MS(e).put({name:(r=t).name,readTime:fp(Cr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function SS(n){return di(n,"bundles")}function MS(n){return di(n,"namedQueries")}class qb{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new qb(e,t.uid||"")}getOverlay(e,t){return av(e).get(AS(this.userId,t)).next(r=>r?lT(this.Tt,r):null)}getOverlays(e,t){const r=K();return ne.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((u,d)=>{const m=new uT(t,d);s.push(this.ce(e,m))}),ne.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(d=>s.add(ao(d.getCollectionPath())));const u=[];return s.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(av(e).Y("collectionPathOverlayIndex",m))}),ne.waitFor(u)}getOverlaysForCollection(e,t,r){const s=K(),u=ao(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return av(e).W("collectionPathOverlayIndex",d).next(m=>{for(const w of m){const I=lT(this.Tt,w);s.set(I.getKey(),I)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=K();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return av(e).X({index:"collectionGroupOverlayIndex",range:m},(w,I,x)=>{const P=lT(this.Tt,I);u.size()<s||P.largestBatchId===d?(u.set(P.getKey(),P),d=P.largestBatchId):x.done()}).next(()=>u)}ce(e,t){return av(e).put(function(r,s,u){const[d,m,w]=AS(s,u.mutation.key);return{userId:s,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:ov(r.oe,u.mutation)}}(this.Tt,this.userId,t))}}function av(n){return di(n,"documentOverlays")}class mp{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Xn(e.integerValue));else if("doubleValue"in e){const r=Xn(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),ep(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Tl(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?j0(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):rt()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const s of Object.keys(r))this.we(s,t),this.he(r[s],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const s of r)this.he(s,t)}ye(e,t){this.fe(t,37),ze.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function QO(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function OS(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=QO(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}mp.Ee=new mp;class JO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Re(r.value),r=t.next();this.Pe()}ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Ve()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const s=t.codePointAt(0);this.Re(240|s>>>18),this.Re(128|63&s>>>12),this.Re(128|63&s>>>6),this.Re(128|63&s)}}this.Pe()}De(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const s=t.codePointAt(0);this.be(240|s>>>18),this.be(128|63&s>>>12),this.be(128|63&s>>>6),this.be(128|63&s)}}this.Ve()}Ce(e){const t=this.xe(e),r=OS(t);this.Ne(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}ke(e){const t=this.xe(e),r=OS(t);this.Ne(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}$e(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}be(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Pe(){this.Me(0),this.Me(1)}Ve(){this.Fe(0),this.Fe(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}Fe(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class XO{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.$e()}}class eP{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Oe()}}class uv{constructor(){this.Le=new JO,this.qe=new XO(this.Le),this.Ue=new eP(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class _p{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new _p(this.indexId,this.documentKey,this.arrayValue,r)}}function lh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=PS(n.arrayValue,e.arrayValue),0!==t?t:(t=PS(n.directionalValue,e.directionalValue),0!==t?t:ze.comparator(n.documentKey,e.documentKey)))}function PS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class tP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const r=t;r.isInequality()?this.ze=r:this.je.push(r)}}We(e){lt(e.collectionGroup===this.collectionId);const t=Tm(e);if(void 0!==t&&!this.He(t))return!1;const r=tc(e);let s=0,u=0;for(;s<r.length&&this.He(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.ze){const d=r[s];if(!this.Je(this.ze,d)||!this.Ye(this.Qe[u++],d))return!1;++s}for(;s<r.length;++s)if(u>=this.Qe.length||!this.Ye(this.Qe[u++],r[s]))return!1;return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function RS(n){var e,t;if(lt(n instanceof $t||n instanceof ln),n instanceof $t){if(n instanceof K0){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>$t.create(n.field,"==",u)))||[];return ln.create(s,"or")}return n}const r=n.filters.map(s=>RS(s));return ln.create(r,n.op)}function nP(n){if(0===n.getFilters().length)return[];const e=fT(RS(n));return lt(kS(e)),dT(e)||hT(e)?[e]:e.getFilters()}function dT(n){return n instanceof $t}function hT(n){return n instanceof ln&&z0(n)}function kS(n){return dT(n)||hT(n)||function(e){if(e instanceof ln&&Z0(e)){for(const t of e.getFilters())if(!dT(t)&&!hT(t))return!1;return!0}return!1}(n)}function fT(n){if(lt(n instanceof $t||n instanceof ln),n instanceof $t)return n;if(1===n.filters.length)return fT(n.filters[0]);const e=n.filters.map(r=>fT(r));let t=ln.create(e,n.op);return t=Wb(t),kS(t)?t:(lt(t instanceof ln),lt(op(t)),lt(t.filters.length>1),t.filters.reduce((r,s)=>pT(r,s)))}function pT(n,e){let t;return lt(n instanceof $t||n instanceof ln),lt(e instanceof $t||e instanceof ln),t=n instanceof $t?e instanceof $t?ln.create([n,e],"and"):NS(n,e):e instanceof $t?NS(e,n):function(r,s){if(lt(r.filters.length>0&&s.filters.length>0),op(r)&&op(s))return VD(r,s.getFilters());const u=Z0(r)?r:s,d=Z0(r)?s:r,m=u.filters.map(w=>pT(w,d));return ln.create(m,"or")}(n,e),Wb(t)}function NS(n,e){if(op(e))return VD(e,n.getFilters());{const t=e.filters.map(r=>pT(n,r));return ln.create(t,"or")}}function Wb(n){if(lt(n instanceof $t||n instanceof ln),n instanceof $t)return n;const e=n.getFilters();if(1===e.length)return Wb(e[0]);if(Sb(n))return n;const t=e.map(s=>Wb(s)),r=[];return t.forEach(s=>{s instanceof $t?r.push(s):s instanceof ln&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:ln.create(r,n.op)}class rP{constructor(){this.Ze=new gT}addToCollectionParentIndex(e,t){return this.Ze.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve($i.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class gT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new gn(en.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new gn(en.comparator)).toArray()}}const Kb=new Uint8Array(0);class iP{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new gT,this.tn=new C(r=>oh(r),(r,s)=>Fm(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:ao(s)};return FS(e).put(u)}return ne.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[OD(t),""],!1,!0);return FS(e).W(s).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(cc(d.parent))}return r})}addFieldIndex(e,t){const r=Yb(e),s={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete s.indexId;const u=r.add(s);if(t.indexState){const d=lv(e);return u.next(m=>{d.put(xS(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Yb(e),s=lv(e),u=cv(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=cv(e);let s=!0;const u=new Map;return ne.forEach(this.en(t),d=>this.nn(e,d).next(m=>{s&&(s=!!m),u.set(d,m)})).next(()=>{if(s){let d=Le();const m=[];return ne.forEach(u,(w,I)=>{var x;Pe("IndexedDbIndexManager",`Using index ${x=w,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(Rt=>`${Rt.fieldPath}:${Rt.kind}`).join(",")}`} to execute ${oh(t)}`);const P=function(Rt,Zt){const Ut=Tm(Zt);if(void 0===Ut)return null;for(const Gt of Q0(Rt,Ut.fieldPath))switch(Gt.op){case"array-contains-any":return Gt.value.arrayValue.values||[];case"array-contains":return[Gt.value]}return null}(I,w),$=function(Rt,Zt){const Ut=new Map;for(const Gt of tc(Zt))for(const fi of Q0(Rt,Gt.fieldPath))switch(fi.op){case"==":case"in":Ut.set(Gt.fieldPath.canonicalString(),fi.value);break;case"not-in":case"!=":return Ut.set(Gt.fieldPath.canonicalString(),fi.value),Array.from(Ut.values())}return null}(I,w),Q=function(Rt,Zt){const Ut=[];let Gt=!0;for(const fi of tc(Zt)){const yh=0===fi.kind?Fb(Rt,fi.fieldPath,Rt.startAt):up(Rt,fi.fieldPath,Rt.startAt);Ut.push(yh.value),Gt&&(Gt=yh.inclusive)}return new Xs(Ut,Gt)}(I,w),ae=function(Rt,Zt){const Ut=[];let Gt=!0;for(const fi of tc(Zt)){const yh=0===fi.kind?up(Rt,fi.fieldPath,Rt.endAt):Fb(Rt,fi.fieldPath,Rt.endAt);Ut.push(yh.value),Gt&&(Gt=yh.inclusive)}return new Xs(Ut,Gt)}(I,w),Me=this.sn(w,I,Q),Be=this.sn(w,I,ae),Ht=this.rn(w,I,$),Jt=this.on(w.indexId,P,Me,Q.inclusive,Be,ae.inclusive,Ht);return ne.forEach(Jt,Rt=>r.J(Rt,t.limit).next(Zt=>{Zt.forEach(Ut=>{const Gt=ze.fromSegments(Ut.documentKey);d.has(Gt)||(d=d.add(Gt),m.push(Gt))})}))}).next(()=>m)}return ne.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:nP(ln.create(e.filters,"and")).map(r=>Nb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,r,s,u,d,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),I=w/(null!=t?t.length:1),x=[];for(let P=0;P<w;++P){const $=t?this.un(t[P/I]):Kb,Q=this.cn(e,$,r[P%I],s),ae=this.an(e,$,u[P%I],d),Me=m.map(Be=>this.cn(e,$,Be,!0));x.push(...this.createRange(Q,ae,Me))}return x}cn(e,t,r,s){const u=new _p(e,ze.empty(),t,r);return s?u:u.Ge()}an(e,t,r,s){const u=new _p(e,ze.empty(),t,r);return s?u.Ge():u}nn(e,t){const r=new tP(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let d=null;for(const m of u)r.We(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const s=this.en(t);return ne.forEach(s,u=>this.nn(e,u).next(d=>{d?0!==r&&d.fields.length<function(m){let w=new gn(Zn.comparator),I=!1;for(const x of m.filters)for(const P of x.getFlattenedFilters())P.field.isKeyField()||("array-contains"===P.op||"array-contains-any"===P.op?I=!0:w=w.add(P.field));for(const x of m.orderBy)x.field.isKeyField()||(w=w.add(x.field));return w.size+(I?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}hn(e,t){const r=new uv;for(const s of tc(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const d=r.Ke(s.kind);mp.Ee.ae(u,d)}return r.Be()}un(e){const t=new uv;return mp.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const r=new uv;return mp.Ee.ae(Ya(this.databaseId,t),r.Ke(function(s){const u=tc(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Be()}rn(e,t,r){if(null===r)return[];let s=[];s.push(new uv);let u=0;for(const d of tc(e)){const m=r[u++];for(const w of s)if(this.fn(t,d.fieldPath)&&np(m))s=this.dn(s,d,m);else{const I=w.Ke(d.kind);mp.Ee.ae(m,I)}}return this._n(s)}sn(e,t,r){return this.rn(e,t,r.position)}_n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Be();return t}dn(e,t,r){const s=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of s){const w=new uv;w.seed(m.Be()),mp.Ee.ae(d,w.Ke(t.kind)),u.push(w)}return u}fn(e,t){return!!e.filters.find(r=>r instanceof $t&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Yb(e),s=lv(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return ne.forEach(u,m=>s.get([m.indexId,this.uid]).next(w=>{d.push(function(I,x){const P=x?new Qf(x.sequenceNumber,new $i(pp(x.readTime),new ze(cc(x.documentKey)),x.largestBatchId)):Qf.empty(),$=I.fields.map(([Q,ae])=>new Am(Zn.fromServerFormat(Q),ae));return new Dm(I.indexId,I.collectionGroup,$,P)}(m,w))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Nt(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=Yb(e),u=lv(e);return this.wn(e).next(d=>s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ne.forEach(m,w=>u.put(xS(w.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ne.forEach(t,(s,u)=>{const d=r.get(s.collectionGroup);return(d?ne.resolve(d):this.getFieldIndexes(e,s.collectionGroup)).next(m=>(r.set(s.collectionGroup,m),ne.forEach(m,w=>this.mn(e,s,w).next(I=>{const x=this.gn(u,w);return I.isEqual(x)?ne.resolve():this.yn(e,u,w,I,x)}))))})}pn(e,t,r,s){return cv(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.ln(r,t.key),documentKey:t.key.path.toArray()})}In(e,t,r,s){return cv(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.ln(r,t.key),t.key.path.toArray()])}mn(e,t,r){const s=cv(e);let u=new gn(lh);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.ln(r,t)])},(d,m)=>{u=u.add(new _p(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}gn(e,t){let r=new gn(lh);const s=this.hn(t,e);if(null==s)return r;const u=Tm(t);if(null!=u){const d=e.data.field(u.fieldPath);if(np(d))for(const m of d.arrayValue.values||[])r=r.add(new _p(t.indexId,e.key,this.un(m),s))}else r=r.add(new _p(t.indexId,e.key,Kb,s));return r}yn(e,t,r,s,u){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,w,I,x,P){const $=m.getIterator(),Q=w.getIterator();let ae=ap($),Me=ap(Q);for(;ae||Me;){let Be=!1,Ht=!1;if(ae&&Me){const Jt=I(ae,Me);Jt<0?Ht=!0:Jt>0&&(Be=!0)}else null!=ae?Ht=!0:Be=!0;Be?(x(Me),Me=ap(Q)):Ht?(P(ae),ae=ap($)):(ae=ap($),Me=ap(Q))}}(s,u,lh,m=>{d.push(this.pn(e,t,r,m))},m=>{d.push(this.In(e,t,r,m))}),ne.waitFor(d)}wn(e){let t=1;return lv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>lh(d,m)).filter((d,m,w)=>!m||0!==lh(d,w[m-1]));const s=[];s.push(e);for(const d of r){const m=lh(d,e),w=lh(d,t);if(0===m)s[0]=e.Ge();else if(m>0&&w<0)s.push(d),s.push(d.Ge());else if(w>0)break}s.push(t);const u=[];for(let d=0;d<s.length;d+=2){if(this.Tn(s[d],s[d+1]))return[];u.push(IDBKeyRange.bound([s[d].indexId,this.uid,s[d].arrayValue,s[d].directionalValue,Kb,[]],[s[d+1].indexId,this.uid,s[d+1].arrayValue,s[d+1].directionalValue,Kb,[]]))}return u}Tn(e,t){return lh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(LS)}getMinOffset(e,t){return ne.mapArray(this.en(t),r=>this.nn(e,r).next(s=>s||rt())).next(LS)}}function FS(n){return di(n,"collectionParents")}function cv(n){return di(n,"indexEntries")}function Yb(n){return di(n,"indexConfiguration")}function lv(n){return di(n,"indexState")}function LS(n){lt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;xm(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new $i(e.readTime,e.documentKey,t)}const VS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Po{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Po(e,Po.DEFAULT_COLLECTION_PERCENTILE,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function US(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const w=r.X({range:d},(x,P,$)=>(m++,$.delete()));u.push(w.next(()=>{lt(1===m)}));const I=[];for(const x of t.mutations){const P=wS(e,x.key.path,t.batchId);u.push(s.delete(P)),I.push(x.key)}return ne.waitFor(u).next(()=>I)}function Qb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Po.DEFAULT_COLLECTION_PERCENTILE=10,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Po.DEFAULT=new Po(41943040,Po.DEFAULT_COLLECTION_PERCENTILE,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Po.DISABLED=new Po(-1,0,0);class Jb{constructor(e,t,r,s){this.userId=e,this.Tt=t,this.indexManager=r,this.referenceDelegate=s,this.En={}}static ue(e,t,r,s){lt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Jb(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dh(e).X({index:"userMutationsIndex",range:r},(s,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=zm(e),d=dh(e);return d.add({}).next(m=>{lt("number"==typeof m);const w=new sT(m,t,r,s),I=function($,Q,ae){const Me=ae.baseMutations.map(Ht=>ov($.oe,Ht)),Be=ae.mutations.map(Ht=>ov($.oe,Ht));return{userId:Q,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:Me,mutations:Be}}(this.Tt,this.userId,w),x=[];let P=new gn(($,Q)=>Nt($.canonicalString(),Q.canonicalString()));for(const $ of s){const Q=wS(this.userId,$.key.path,m);P=P.add($.key.path.popLast()),x.push(d.put(I)),x.push(u.put(Q,PO))}return P.forEach($=>{x.push(this.indexManager.addToCollectionParentIndex(e,$))}),e.addOnCommittedListener(()=>{this.En[m]=w.keys()}),ne.waitFor(x).next(()=>w)})}lookupMutationBatch(e,t){return dh(e).get(t).next(r=>r?(lt(r.userId===this.userId),gp(this.Tt,r)):null)}An(e,t){return this.En[t]?ne.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.En[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return dh(e).X({index:"userMutationsIndex",range:s},(d,m,w)=>{m.userId===this.userId&&(lt(m.batchId>=r),u=gp(this.Tt,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return dh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(s,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dh(e).W("userMutationsIndex",t).next(r=>r.map(s=>gp(this.Tt,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=zb(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return zm(e).X({range:s},(d,m,w)=>{const[I,x,P]=d,$=cc(x);if(I===this.userId&&t.path.isEqual($))return dh(e).get(P).next(Q=>{if(!Q)throw rt();lt(Q.userId===this.userId),u.push(gp(this.Tt,Q))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gn(Nt);const s=[];return t.forEach(u=>{const d=zb(this.userId,u.path),m=IDBKeyRange.lowerBound(d),w=zm(e).X({range:m},(I,x,P)=>{const[$,Q,ae]=I,Me=cc(Q);$===this.userId&&u.path.isEqual(Me)?r=r.add(ae):P.done()});s.push(w)}),ne.waitFor(s).next(()=>this.Rn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=zb(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new gn(Nt);return zm(e).X({range:d},(w,I,x)=>{const[P,$,Q]=w,ae=cc($);P===this.userId&&r.isPrefixOf(ae)?ae.length===s&&(m=m.add(Q)):x.done()}).next(()=>this.Rn(e,m))}Rn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(dh(e).get(u).next(d=>{if(null===d)throw rt();lt(d.userId===this.userId),r.push(gp(this.Tt,d))}))}),ne.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return US(e.re,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Pn(t.batchId)}),ne.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Pn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ne.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return zm(e).X({range:r},(u,d,m)=>{if(u[0]===this.userId){const w=cc(u[1]);s.push(w)}else m.done()}).next(()=>{lt(0===s.length)})})}containsKey(e,t){return BS(e,this.userId,t)}vn(e){return jS(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function BS(n,e,t){const r=zb(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return zm(n).X({range:u,Z:!0},(m,w,I)=>{const[x,P,$]=m;x===e&&P===s&&(d=!0),I.done()}).next(()=>d)}function dh(n){return di(n,"mutations")}function zm(n){return di(n,"documentMutations")}function jS(n){return di(n,"mutationQueues")}class yp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new yp(0)}static Sn(){return new yp(-1)}}class oP{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const r=new yp(t.highestTargetId);return t.highestTargetId=r.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>wt.fromTimestamp(new Nn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Dn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Cn(e,s)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(r=>(r.targetCount+=1,this.Nn(t,r),this.Cn(e,r))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gm(e).delete(t.targetId)).next(()=>this.Dn(e)).next(r=>(lt(r.targetCount>0),r.targetCount-=1,this.Cn(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return Gm(e).X((d,m)=>{const w=sv(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(s++,u.push(this.removeTargetData(e,w)))}).next(()=>ne.waitFor(u)).next(()=>s)}forEachTarget(e,t){return Gm(e).X((r,s)=>{const u=sv(s);t(u)})}Dn(e){return $S(e).get("targetGlobalKey").next(t=>(lt(null!==t),t))}Cn(e,t){return $S(e).put("targetGlobalKey",t)}xn(e,t){return Gm(e).put(TS(this.Tt,t))}Nn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=oh(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Gm(e).X({range:s,index:"queryTargetsIndex"},(d,m,w)=>{const I=sv(m);Fm(t,I.target)&&(u=I,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=hh(e);return t.forEach(d=>{const m=ao(d.path);s.push(u.put({targetId:r,path:m})),s.push(this.referenceDelegate.addReference(e,r,d))}),ne.waitFor(s)}removeMatchingKeys(e,t,r){const s=hh(e);return ne.forEach(t,u=>{const d=ao(u.path);return ne.waitFor([s.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=hh(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=hh(e);let u=Le();return s.X({range:r,Z:!0},(d,m,w)=>{const I=cc(d[1]),x=new ze(I);u=u.add(x)}).next(()=>u)}containsKey(e,t){const r=ao(t.path),s=IDBKeyRange.bound([r],[OD(r)],!1,!0);let u=0;return hh(e).X({index:"documentTargetsIndex",Z:!0,range:s},([d,m],w,I)=>{0!==d&&(u++,I.done())}).next(()=>u>0)}ie(e,t){return Gm(e).get(t).next(r=>r?sv(r):null)}}function Gm(n){return di(n,"targets")}function $S(n){return di(n,"targetGlobal")}function hh(n){return di(n,"targetDocuments")}function HS([n,e],[t,r]){const s=Nt(n,t);return 0===s?Nt(e,r):s}class sP{constructor(e){this.kn=e,this.buffer=new gn(HS),this.$n=0}Mn(){return++this.$n}On(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();HS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Fn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}get started(){return null!==this.Fn}Bn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,pe.Z)(function*(){t.Fn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Dl(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Il(r)}yield t.Bn(3e5)}))}}class uP{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ne.resolve(Hi.at);const r=new sP(t);return this.Ln.forEachTarget(e,s=>r.On(s.sequenceNumber)).next(()=>this.Ln.Un(e,s=>r.On(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Ln.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(VS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VS):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let r,s,u,d,m,w,I;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),s=this.params.maximumSequenceNumbersToCollect):s=P,d=Date.now(),this.nthSequenceNumber(e,s))).next(P=>(r=P,m=Date.now(),this.removeTargets(e,r,t))).next(P=>(u=P,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(I=Date.now(),S0()<=Ha.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-x}ms\n\tDetermined least recently used ${s} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${P} documents in `+(I-w)+`ms\nTotal Duration: ${I-x}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:P})))}}class cP{constructor(e,t){this.db=e,this.garbageCollector=new uP(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Gn(e){let t=0;return this.Un(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(r,s)=>t(s))}addReference(e,t,r){return Xb(e,r)}removeReference(e,t,r){return Xb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Xb(e,t)}jn(e,t){return function(r,s){let u=!1;return jS(r).tt(d=>BS(r,d,s).next(m=>(m&&(u=!0),ne.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Qn(e,(d,m)=>{if(m<=t){const w=this.jn(e,d).next(I=>{if(!I)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,wt.min()),hh(e).delete([0,ao(d.path)])))});s.push(w)}}).next(()=>ne.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Xb(e,t)}Qn(e,t){const r=hh(e);let s,u=Hi.at;return r.X({index:"documentTargetsIndex"},([d,m],{path:w,sequenceNumber:I})=>{0===d?(u!==Hi.at&&t(new ze(cc(s)),u),u=I,s=w):u=Hi.at}).next(()=>{u!==Hi.at&&t(new ze(cc(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xb(n,e){return hh(n).put((r=n.currentSequenceNumber,{targetId:0,path:ao(e.path),sequenceNumber:r}));var r}class ZS{constructor(){this.changes=new C(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lP{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return vp(e).put(r)}removeEntry(e,t,r){return vp(e).delete(function(s,u){const d=s.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Gb(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.zn(e,r)))}getEntry(e,t){let r=On.newInvalidDocument(t);return vp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(dv(t))},(s,u)=>{r=this.Wn(t,u)}).next(()=>r)}Hn(e,t){let r={size:0,document:On.newInvalidDocument(t)};return vp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(dv(t))},(s,u)=>{r={document:this.Wn(t,u),size:Qb(u)}}).next(()=>r)}getEntries(e,t){let r=T();return this.Jn(e,t,(s,u)=>{const d=this.Wn(s,u);r=r.insert(s,d)}).next(()=>r)}Yn(e,t){let r=T(),s=new Mn(ze.comparator);return this.Jn(e,t,(u,d)=>{const m=this.Wn(u,d);r=r.insert(u,m),s=s.insert(u,Qb(d))}).next(()=>({documents:r,Zn:s}))}Jn(e,t,r){if(t.isEmpty())return ne.resolve();let s=new gn(WS);t.forEach(w=>s=s.add(w));const u=IDBKeyRange.bound(dv(s.first()),dv(s.last())),d=s.getIterator();let m=d.getNext();return vp(e).X({index:"documentKeyIndex",range:u},(w,I,x)=>{const P=ze.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;m&&WS(m,P)<0;)r(m,null),m=d.getNext();m&&m.isEqual(P)&&(r(m,I),m=d.hasNext()?d.getNext():null),m?x.j(dv(m)):x.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,s){const u=t.path,d=[u.popLast().toArray(),u.lastSegment(),Gb(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vp(e).W(IDBKeyRange.bound(d,m,!0)).next(w=>{let I=T();for(const x of w){const P=this.Wn(ze.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);P.isFoundDocument()&&(Um(t,P)||s.has(P.key))&&(I=I.insert(P.key,P))}return I})}getAllFromCollectionGroup(e,t,r,s){let u=T();const d=qS(t,r),m=qS(t,$i.max());return vp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(w,I,x)=>{const P=this.Wn(ze.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);u=u.insert(P.key,P),u.size===s&&x.done()}).next(()=>u)}newChangeBuffer(e){return new dP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return GS(e).get("remoteDocumentGlobalKey").next(t=>(lt(!!t),t))}zn(e,t){return GS(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const r=function KO(n,e){let t;if(e.document)t=hS(n.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ze.fromSegments(e.noDocument.path),s=pp(e.noDocument.readTime);t=On.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=ze.fromSegments(e.unknownDocument.path),s=pp(e.unknownDocument.version);t=On.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new Nn(r[0],r[1]);return wt.fromTimestamp(s)}(e.readTime)),t}(this.Tt,t);if(!r.isNoDocument()||!r.version.isEqual(wt.min()))return r}return On.newInvalidDocument(e)}}function zS(n){return new lP(n)}class dP extends ZS{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new C(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new gn((u,d)=>Nt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.ts.get(u);if(t.push(this.Xn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const w=DS(this.Xn.Tt,d);s=s.add(u.path.popLast());const I=Qb(w);r+=I-m.size,t.push(this.Xn.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=DS(this.Xn.Tt,d.convertToNoDocument(wt.min()));t.push(this.Xn.addEntry(e,u,w))}}),s.forEach(u=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Xn.updateMetadata(e,r)),ne.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(r=>(this.ts.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:r,Zn:s})=>(s.forEach((u,d)=>{this.ts.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function GS(n){return di(n,"remoteDocumentGlobal")}function vp(n){return di(n,"remoteDocumentsV14")}function dv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qS(n,e){const t=e.documentKey.path.toArray();return[n,Gb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function WS(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=Nt(t[u],r[u]),s)return s;return s=Nt(t.length,r.length),s||(s=Nt(t[t.length-2],r[r.length-2]),s||Nt(t[t.length-1],r[r.length-1]))}class hP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class KS{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&$m(r.mutation,s,so.empty(),Nn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Le()){const s=K();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let d=N();return u.forEach((m,w)=>{d=d.insert(m,w.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=K();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Le()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,s){let u=T();const d=Re(),m=Re();return t.forEach((w,I)=>{const x=r.get(I.key);s.has(I.key)&&(void 0===x||x.mutation instanceof ac)?u=u.insert(I.key,I):void 0!==x?(d.set(I.key,x.mutation.getFieldMask()),$m(x.mutation,I,x.mutation.getFieldMask(),Nn.now())):d.set(I.key,so.empty())}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((I,x)=>d.set(I,x)),t.forEach((I,x)=>{var P;return m.set(I,new hP(x,null!==(P=d.get(I))&&void 0!==P?P:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Re();let s=new Mn((d,m)=>d-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(w=>{const I=t.get(w);if(null===I)return;let x=r.get(w)||so.empty();x=m.applyToLocalView(I,x),r.set(w,x);const P=(s.get(m.batchId)||Le()).add(w);s=s.insert(m.batchId,P)})}).next(()=>{const d=[],m=s.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),I=w.key,x=w.value,P=ge();x.forEach($=>{if(!u.has($)){const Q=KD(t.get($),r.get($));null!==Q&&P.set($,Q),u=u.add($)}}),d.push(this.documentOverlayCache.saveOverlays(e,I,P))}return ne.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ze.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):cp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const d=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):ne.resolve(K());let m=-1,w=u;return d.next(I=>ne.forEach(I,(x,P)=>(m<P.largestBatchId&&(m=P.largestBatchId),u.get(x)?ne.resolve():this.remoteDocumentCache.getEntry(e,x).next($=>{w=w.insert(x,$)}))).next(()=>this.populateOverlays(e,I,u)).next(()=>this.computeViews(e,w,I,Le())).next(x=>({batchId:m,changes:Z(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(r=>{let s=N();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=N();return this.indexManager.getCollectionParents(e,s).next(d=>ne.forEach(d,m=>{const w=(I=t,x=m.child(s),new Ja(x,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,x;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(I=>{I.forEach((x,P)=>{u=u.insert(x,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((m,w)=>{const I=w.getKey();null===u.get(I)&&(u=u.insert(I,On.newInvalidDocument(I)))});let d=N();return u.forEach((m,w)=>{const I=s.get(m);void 0!==I&&$m(I.mutation,w,so.empty(),Nn.now()),Um(t,w)&&(d=d.insert(m,w))}),d})}}class fP{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return ne.resolve(this.es.get(t))}saveBundleMetadata(e,t){var r;return this.es.set(t.id,{id:(r=t).id,version:r.version,createTime:Cr(r.createTime)}),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(r=t).name,query:cT(r.bundledQuery),readTime:Cr(r.readTime)}),ne.resolve();var r}}class pP{constructor(){this.overlays=new Mn(ze.comparator),this.ss=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=K();return ne.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.ce(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ss.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ss.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const s=K(),u=t.length+1,d=new ze(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const w=m.getNext().value,I=w.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&w.largestBatchId>r&&s.set(w.getKey(),w)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Mn((I,x)=>I-x);const d=this.overlays.getIterator();for(;d.hasNext();){const I=d.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let x=u.get(I.largestBatchId);null===x&&(x=K(),u=u.insert(I.largestBatchId,x)),x.set(I.getKey(),I)}}const m=K(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((I,x)=>m.set(I,x)),!(m.size()>=s)););return ne.resolve(m)}ce(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const d=this.ss.get(s.largestBatchId).delete(r.key);this.ss.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new uT(t,r));let u=this.ss.get(t);void 0===u&&(u=Le(),this.ss.set(t,u)),this.ss.set(t,u.add(r.key))}}class mT{constructor(){this.rs=new gn(hi.os),this.us=new gn(hi.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const r=new hi(e,t);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ls(new hi(e,t))}fs(e,t){e.forEach(r=>this.removeReference(r,t))}ds(e){const t=new ze(new en([])),r=new hi(t,e),s=new hi(t,e+1),u=[];return this.us.forEachInRange([r,s],d=>{this.ls(d),u.push(d.key)}),u}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new ze(new en([])),r=new hi(t,e),s=new hi(t,e+1);let u=Le();return this.us.forEachInRange([r,s],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new hi(e,0),r=this.rs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class hi{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return ze.comparator(e.key,t.key)||Nt(e.gs,t.gs)}static cs(e,t){return Nt(e.gs,t.gs)||ze.comparator(e.key,t.key)}}class gP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new gn(hi.os)}checkEmpty(e){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.ys;this.ys++;const d=new sT(u,t,r,s);this.mutationQueue.push(d);for(const m of s)this.ps=this.ps.add(new hi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(d)}lookupMutationBatch(e,t){return ne.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Ts(t+1),u=s<0?0:s;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hi(t,0),s=new hi(t,Number.POSITIVE_INFINITY),u=[];return this.ps.forEachInRange([r,s],d=>{const m=this.Is(d.gs);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gn(Nt);return t.forEach(s=>{const u=new hi(s,0),d=new hi(s,Number.POSITIVE_INFINITY);this.ps.forEachInRange([u,d],m=>{r=r.add(m.gs)})}),ne.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;ze.isDocumentKey(u)||(u=u.child(""));const d=new hi(new ze(u),0);let m=new gn(Nt);return this.ps.forEachWhile(w=>{const I=w.key.path;return!!r.isPrefixOf(I)&&(I.length===s&&(m=m.add(w.gs)),!0)},d),ne.resolve(this.Es(m))}Es(e){const t=[];return e.forEach(r=>{const s=this.Is(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){lt(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return ne.forEach(t.mutations,s=>{const u=new hi(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,t){const r=new hi(t,0),s=this.ps.firstAfterOrEqual(r);return ne.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return ne.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mP{constructor(e){this.Rs=e,this.docs=new Mn(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,d=this.Rs(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let r=T();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():On.newInvalidDocument(s))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=T();const d=t.path,m=new ze(d.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:I,value:{document:x}}=w.getNext();if(!d.isPrefixOf(I.path))break;I.path.length>d.length+1||xm(R0(x),r)<=0||(s.has(x.key)||Um(t,x))&&(u=u.insert(x.key,x.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,r,s){rt()}Ps(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _P(this)}getSize(e){return ne.resolve(this.size)}}class _P extends ZS{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Xn.addEntry(e,s)):this.Xn.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class yP{constructor(e){this.persistence=e,this.vs=new C(t=>oh(t),Fm),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.bs=0,this.Vs=new mT,this.targetCount=0,this.Ss=yp.Vn()}forEachTarget(e,t){return this.vs.forEach((r,s)=>t(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ne.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new yp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.xn(t),ne.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.vs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.vs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),ne.waitFor(u).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.vs.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.Vs.hs(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.Vs.fs(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(d=>{u.push(s.markPotentiallyOrphaned(e,d))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Vs.ws(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.Vs.containsKey(t))}}class YS{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new Hi(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new yP(this),this.indexManager=new rP,this.remoteDocumentCache=new mP(r=>this.referenceDelegate.ks(r)),this.Tt=new IS(t),this.$s=new fP(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ds[e.toKey()];return r||(r=new gP(t,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const s=new vP(this.Cs.next());return this.referenceDelegate.Ms(),r(s).next(u=>this.referenceDelegate.Os(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Fs(e,t){return ne.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,t)))}}class vP extends vb{constructor(e){super(),this.currentSequenceNumber=e}}class eE{constructor(e){this.persistence=e,this.Bs=new mT,this.Ls=null}static qs(e){return new eE(e)}get Us(){if(this.Ls)return this.Ls;throw rt()}addReference(e,t,r){return this.Bs.addReference(r,t),this.Us.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Bs.removeReference(r,t),this.Us.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(s=>this.Us.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Us.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ms(){this.Ls=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Us,r=>{const s=ze.fromPath(r);return this.Ks(e,s).next(u=>{u||t.removeEntry(s,wt.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(r=>{r?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return ne.or([()=>ne.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Fs(e,t)])}}class wP{constructor(e){this.Tt=e}F(e,t,r,s){const u=new k0("createOrUpgrade",t);var m;r<1&&s>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vS,{unique:!0}),m.createObjectStore("documentMutations"),QS(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ne.resolve();return r<3&&s>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),QS(e)),d=d.next(()=>function(m){const w=m.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wt.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",I)}(u))),r<4&&s>=4&&(0!==r&&(d=d.next(()=>function(m,w){return w.store("mutations").W().next(I=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vS,{unique:!0});const x=w.store("mutations"),P=I.map($=>x.put($));return ne.waitFor(P)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(d=d.next(()=>this.Gs(u))),r<6&&s>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(u)))),r<7&&s>=7&&(d=d.next(()=>this.js(u))),r<8&&s>=8&&(d=d.next(()=>this.zs(e,u))),r<9&&s>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(d=d.next(()=>this.Ws(u))),r<11&&s>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(d=d.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:ZO});w.createIndex("collectionPathOverlayIndex",zO,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",GO,{unique:!1})}(e)})),r<13&&s>=13&&(d=d.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:RO});w.createIndex("documentKeyIndex",kO),w.createIndex("collectionGroupIndex",NO)}(e)).next(()=>this.Hs(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(d=d.next(()=>this.Js(e,u))),r<15&&s>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:BO}).createIndex("sequenceNumberIndex",jO,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:$O}).createIndex("documentKeyIndex",HO,{unique:!1})}(e))),d}Qs(e){let t=0;return e.store("remoteDocuments").X((r,s)=>{t+=Qb(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Gs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(s=>ne.forEach(s,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(m=>ne.forEach(m,w=>{lt(w.userId===u.userId);const I=gp(this.Tt,w);return US(e,u.userId,I).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.X((d,m)=>{const w=new en(d),I=[0,ao(w)];u.push(t.get(I).next(x=>x?ne.resolve():t.put({targetId:0,path:ao(w),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>ne.waitFor(u))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:UO});const r=t.store("collectionParents"),s=new gT,u=d=>{if(s.add(d)){const m=d.lastSegment(),w=d.popLast();return r.put({collectionId:m,parent:ao(w)})}};return t.store("remoteDocuments").X({Z:!0},(d,m)=>{const w=new en(d);return u(w.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([d,m,w],I)=>{const x=cc(m);return u(x.popLast())}))}Ws(e){const t=e.store("targets");return t.X((r,s)=>{const u=sv(s),d=TS(this.Tt,u);return t.put(d)})}Hs(e,t){const r=t.store("remoteDocuments"),s=[];return r.X((u,d)=>{const m=t.store("remoteDocumentsV14"),w=(I=d,I.document?new ze(en.fromString(I.document.name).popFirst(5)):I.noDocument?ze.fromSegments(I.noDocument.path):I.unknownDocument?ze.fromSegments(I.unknownDocument.path):rt()).path.toArray();var I;const x={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};s.push(m.put(x))}).next(()=>ne.waitFor(s))}Js(e,t){const r=t.store("mutations"),s=zS(this.Tt),u=new YS(eE.qs,this.Tt.oe);return r.W().next(d=>{const m=new Map;return d.forEach(w=>{var I;let x=null!==(I=m.get(w.userId))&&void 0!==I?I:Le();gp(this.Tt,w).keys().forEach(P=>x=x.add(P)),m.set(w.userId,x)}),ne.forEach(m,(w,I)=>{const x=new on(I),P=qb.ue(this.Tt,x),$=u.getIndexManager(x),Q=Jb.ue(x,this.Tt,$,u.referenceDelegate);return new KS(s,Q,P,$).recalculateAndSaveOverlaysForDocumentKeys(new oT(t,Hi.at),w).next()})})}}function QS(n){n.createObjectStore("targetDocuments",{keyPath:LO}).createIndex("documentTargetsIndex",VO,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",FO,{unique:!0}),n.createObjectStore("targetGlobal")}const _T="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yT{constructor(e,t,r,s,u,d,m,w,I,x,P=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ys=u,this.window=d,this.document=m,this.Zs=I,this.Xs=x,this.ti=P,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=$=>Promise.resolve(),!yT.C())throw new xe(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cP(this,s),this.oi=t+"main",this.Tt=new IS(w),this.ui=new Qs(this.oi,this.ti,new wP(this.Tt)),this.Ns=new oP(this.referenceDelegate,this.Tt),this.remoteDocumentCache=zS(this.Tt),this.$s=new YO,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===x&&Jn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(ie.FAILED_PRECONDITION,_T);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new Hi(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var r=(0,pe.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(Dl(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return hv(e).get("owner").next(t=>ne.resolve(this.yi(t)))}pi(e){return tE(e).delete(this.clientId)}Ii(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=di(r,"clientMetadata");return s.W().next(u=>{const d=e.Ei(u,18e5),m=u.filter(w=>-1===d.indexOf(w));return ne.forEach(m,w=>s.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ci)for(const r of t)e.ci.removeItem(e.Ai(r.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?ne.resolve(!0):hv(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new xe(ie.FAILED_PRECONDITION,_T);return!1}}return!(!this.networkEnabled||!this.inForeground)||tE(e).W().next(r=>void 0===this.Ei(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.xs=!1,e.Pi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.bi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new oT(t,Hi.at);return e.mi(r).next(()=>e.pi(r))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(r=>this.Ti(r.updateTimeMs,t)&&!this.Ri(r.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>tE(e).W().next(t=>this.Ei(t,18e5).map(r=>r.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return Jb.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new iP(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return qb.ue(this.Tt,e)}getBundleCache(){return this.$s}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=15===(d=this.ti)?WO:14===d?ES:13===d?bS:12===d?qO:11===d?CS:void rt();var d;let m;return this.ui.runTransaction(e,s,u,w=>(m=new oT(w,this.Cs?this.Cs.next():Hi.at),"readwrite-primary"===t?this._i(m).next(I=>!!I||this.wi(m)).next(I=>{if(!I)throw Jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new xe(ie.FAILED_PRECONDITION,yb);return r(m)}).next(I=>this.gi(m).next(()=>I)):this.Di(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Di(e){return hv(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(ie.FAILED_PRECONDITION,_T)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hv(e).put("owner",t)}static C(){return Qs.C()}mi(e){const t=hv(e);return t.get("owner").next(r=>this.yi(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ne.resolve())}Ti(e,t){const r=Date.now();return!(e<r-t||e>r&&(Jn(`Detected an update time that is in the future: ${e} > ${r}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.Pi();const t=/(?:Version|Mobile)\/1[456]/;(0,nn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}bi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const r=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Jn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Pi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){Jn("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hv(n){return di(n,"owner")}function tE(n){return di(n,"clientMetadata")}function vT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class wT{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ci=r,this.xi=s}static Ni(e,t){let r=Le(),s=Le();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new wT(e,t.fromCache,r,s)}}class JS{constructor(){this.ki=!1}initialize(e,t){this.$i=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Mi(e,t).next(u=>u||this.Oi(e,t,s,r)).next(u=>u||this.Fi(e,t))}Mi(e,t){if(oc(t))return ne.resolve(null);let r=Xr(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Ol(t,null,"F"),r=Xr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=Le(...u);return this.$i.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const I=this.Bi(t,m);return this.Li(t,I,d,w.readTime)?this.Mi(e,Ol(t,null,"F")):this.qi(e,I,t,w)}))})))}Oi(e,t,r,s){return oc(t)||s.isEqual(wt.min())?this.Fi(e,t):this.$i.getDocuments(e,r).next(u=>{const d=this.Bi(t,u);return this.Li(t,d,r,s)?this.Fi(e,t):(S0()<=Ha.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vb(t)),this.qi(e,d,t,P0(s,-1)))})}Bi(e,t){let r=new gn(Ub(e));return t.forEach((s,u)=>{Um(e,u)&&(r=r.add(u))}),r}Li(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Fi(e,t){return S0()<=Ha.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Vb(t)),this.$i.getDocumentsMatchingQuery(e,t,$i.min())}qi(e,t,r,s){return this.$i.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class CP{constructor(e,t,r,s){this.persistence=e,this.Ui=t,this.Tt=s,this.Ki=new Mn(Nt),this.Gi=new C(u=>oh(u),Fm),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KS(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function XS(n,e,t,r){return new CP(n,e,t,r)}function eM(n,e){return CT.apply(this,arguments)}function CT(){return CT=(0,pe.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.zi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let w=Le();for(const I of s){d.push(I.batchId);for(const x of I.mutations)w=w.add(x.key)}for(const I of u){m.push(I.batchId);for(const x of I.mutations)w=w.add(x.key)}return t.localDocuments.getDocuments(r,w).next(I=>({Wi:I,removedBatchIds:d,addedBatchIds:m}))})})}),CT.apply(this,arguments)}function tM(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function nM(n,e,t){let r=Le(),s=Le();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=T();return t.forEach((m,w)=>{const I=u.get(m);w.isFoundDocument()!==I.isFoundDocument()&&(s=s.add(m)),w.isNoDocument()&&w.version.isEqual(wt.min())?(e.removeEntry(m,w.readTime),d=d.insert(m,w)):!I.isValidDocument()||w.version.compareTo(I.version)>0||0===w.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(w),d=d.insert(m,w)):Pe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",I.version," Watch version:",w.version)}),{Hi:d,Ji:s}})}function IP(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qm(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ns.getTargetData(r,e).next(u=>u?(s=u,ne.resolve(s)):t.Ns.allocateTargetId(r).next(d=>(s=new ch(e,d,0,r.currentSequenceNumber),t.Ns.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ki.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(r.targetId,r),t.Gi.set(e,r.targetId)),r})}function Wm(n,e,t){return bT.apply(this,arguments)}function bT(){return bT=(0,pe.Z)(function*(n,e,t){const r=qe(n),s=r.Ki.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!Dl(d))throw d;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(s.target)}),bT.apply(this,arguments)}function nE(n,e,t){const r=qe(n);let s=wt.min(),u=Le();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,w,I){const x=qe(m),P=x.Gi.get(I);return void 0!==P?ne.resolve(x.Ki.get(P)):x.Ns.getTargetData(w,I)}(r,d,Xr(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(d,m.targetId).next(w=>{u=w})}).next(()=>r.Ui.getDocumentsMatchingQuery(d,e,t?s:wt.min(),t?u:Le())).next(m=>(oM(r,J0(e),m),{documents:m,Yi:u})))}function rM(n,e){const t=qe(n),r=qe(t.Ns),s=t.Ki.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.ie(u,e).next(d=>d?d.target:null))}function iM(n,e){const t=qe(n),r=t.Qi.get(e)||wt.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.ji.getAllFromCollectionGroup(s,e,P0(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(oM(t,e,s),s))}function oM(n,e,t){let r=n.Qi.get(e)||wt.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Qi.set(e,r)}function ET(){return ET=(0,pe.Z)(function*(n,e,t,r){const s=qe(n);let u=Le(),d=T();for(const I of t){const x=e.Zi(I.metadata.name);I.document&&(u=u.add(x));const P=e.Xi(I);P.setReadTime(e.tr(I.metadata.readTime)),d=d.insert(x,P)}const m=s.ji.newChangeBuffer({trackRemovals:!0}),w=yield qm(s,(I=r,Xr(Sl(en.fromString(`__bundle__/docs/${I}`)))));var I;return s.persistence.runTransaction("Apply bundle documents","readwrite",I=>nM(I,m,d).next(x=>(m.apply(I),x)).next(x=>s.Ns.removeMatchingKeysForTargetId(I,w.targetId).next(()=>s.Ns.addMatchingKeys(I,u,w.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(I,x.Hi,x.Ji)).next(()=>x.Hi)))}),ET.apply(this,arguments)}function TP(n,e){return IT.apply(this,arguments)}function IT(){return IT=(0,pe.Z)(function*(n,e,t=Le()){const r=yield qm(n,Xr(cT(e.bundledQuery))),s=qe(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const d=Cr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return s.$s.saveNamedQuery(u,e);const m=r.withResumeToken(Rr.EMPTY_BYTE_STRING,d);return s.Ki=s.Ki.insert(m.targetId,m),s.Ns.updateTargetData(u,m).next(()=>s.Ns.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Ns.addMatchingKeys(u,t,r.targetId)).next(()=>s.$s.saveNamedQuery(u,e))})}),IT.apply(this,arguments)}function sM(n,e){return`firestore_clients_${n}_${e}`}function aM(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function DT(n,e){return`firestore_targets_${n}_${e}`}class rE{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static er(e,t,r){const s=JSON.parse(r);let u,d="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new xe(s.error.code,s.error.message))),d?new rE(e,t,s.state,u):(Jn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static er(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new xe(r.error.code,r.error.message))),u?new fv(e,r.state,s):(Jn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=Pt();for(let d=0;s&&d<r.activeTargetIds.length;++d)s=tp(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return s?new iE(e,u):(Jn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class TT{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new TT(t.clientId,t.onlineState):(Jn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class AT{constructor(){this.activeTargetIds=Pt()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xT{constructor(e,t,r,s,u){this.window=e,this.Ys=t,this.persistenceKey=r,this.rr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new Mn(Nt),this.started=!1,this.hr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.lr=sM(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new AT),this._r=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.Si();for(const s of t){if(s===e.rr)continue;const u=e.getItem(sM(e.persistenceKey,s));if(u){const d=iE.er(s,u);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.pr();const r=e.storage.getItem(e.gr);if(r){const s=e.Ir(r);s&&e.Tr(s)}for(const s of e.hr)e.cr(s);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,r){this.Ar(e,t,r),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(DT(this.persistenceKey,e));if(r){const s=fv.er(e,r);s&&(t=s.state)}}return this.Pr.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.Pr.ir(e),this.pr()}isLocalQueryTarget(e){return this.Pr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(DT(this.persistenceKey,e))}updateQueryState(e,t,r){this.vr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Rr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.lr)return void Jn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t._r.test(r.key)){if(null==r.newValue){const s=t.Sr(r.key);return t.Dr(s,null)}{const s=t.Cr(r.key,r.newValue);if(s)return t.Dr(s.clientId,s)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const s=t.Nr(r.key,r.newValue);if(s)return t.kr(s)}}else if(t.mr.test(r.key)){if(null!==r.newValue){const s=t.$r(r.key,r.newValue);if(s)return t.Mr(s)}}else if(r.key===t.gr){if(null!==r.newValue){const s=t.Ir(r.newValue);if(s)return t.Tr(s)}}else if(r.key===t.dr){const s=function(u){let d=Hi.at;if(null!=u)try{const m=JSON.parse(u);lt("number"==typeof m),d=m}catch(m){Jn("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);s!==Hi.at&&t.sequenceNumberHandler(s)}else if(r.key===t.yr){const s=t.Or(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Fr(u)))}}else t.hr.push(r)}))}}get Pr(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.Pr.nr())}Ar(e,t,r){const s=new rE(this.currentUser,e,t,r),u=aM(this.persistenceKey,this.currentUser,e);this.setItem(u,s.nr())}Rr(e){const t=aM(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,r){const s=DT(this.persistenceKey,e),u=new fv(e,t,r);this.setItem(s,u.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const r=this.Sr(e);return iE.er(r,t)}Nr(e,t){const r=this.wr.exec(e),s=Number(r[1]);return rE.er(new on(void 0!==r[2]?r[2]:null),s,t)}$r(e,t){const r=this.mr.exec(e),s=Number(r[1]);return fv.er(s,t)}Ir(e){return TT.er(e)}Or(e){return JSON.parse(e)}kr(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),s=this.Er(this.ar),u=this.Er(r),d=[],m=[];return u.forEach(w=>{s.has(w)||d.push(w)}),s.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.qr(d,m).then(()=>{this.ar=r})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=Pt();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class uM{constructor(){this.Ur=new AT,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,r){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new AT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AP{Gr(e){}shutdown(){}}class cM{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let oE=null;function ST(){return null===oE?oE=268435456+Math.round(2147483648*Math.random()):oE++,"0x"+oE.toString(16)}const xP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SP{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const Zi="WebChannelConnection";class MP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,r,s,u){const d=ST(),m=this.fo(e,t);Pe("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const w={};return this._o(w,s,u),this.wo(e,m,w,r).then(I=>(Pe("RestConnection",`Received RPC '${e}' ${d}: `,I),I),I=>{throw Xu("RestConnection",`RPC '${e}' ${d} failed with error: `,I,"url: ",m,"request:",r),I})}mo(e,t,r,s,u,d){return this.lo(e,t,r,s,u)}_o(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ds,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}fo(e,t){return`${this.co}/v1/${t}:${xP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,r,s){const u=ST();return new Promise((d,m)=>{const w=new hb;w.setWithCredentials(!0),w.listenOnce(lb.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case Cm.NO_ERROR:const x=w.getResponseJson();Pe(Zi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),d(x);break;case Cm.TIMEOUT:Pe(Zi,`RPC '${e}' ${u} timed out`),m(new xe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Cm.HTTP_ERROR:const P=w.getStatus();if(Pe(Zi,`RPC '${e}' ${u} failed with status:`,P,"response text:",w.getResponseText()),P>0){let $=w.getResponseJson();Array.isArray($)&&($=$[0]);const Q=$?.error;if(Q&&Q.status&&Q.message){const ae=function(Me){const Be=Me.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Be)>=0?Be:ie.UNKNOWN}(Q.status);m(new xe(ae,Q.message))}else m(new xe(ie.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new xe(ie.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Pe(Zi,`RPC '${e}' ${u} completed.`)}});const I=JSON.stringify(s);Pe(Zi,`RPC '${e}' ${u} sending request:`,s),w.send(t,"POST",I,r,15)})}yo(e,t,r){const s=ST(),u=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=cb(),m=TD(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(w.xmlHttpFactory=new db({})),this._o(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const I=u.join("");Pe(Zi,`Creating RPC '${e}' stream ${s}: ${I}`,w);const x=d.createWebChannel(I,w);let P=!1,$=!1;const Q=new SP({Yr:Me=>{$?Pe(Zi,`Not sending because RPC '${e}' stream ${s} is closed:`,Me):(P||(Pe(Zi,`Opening RPC '${e}' stream ${s} transport.`),x.open(),P=!0),Pe(Zi,`RPC '${e}' stream ${s} sending:`,Me),x.send(Me))},Zr:()=>x.close()}),ae=(Me,Be,Ht)=>{Me.listen(Be,Jt=>{try{Ht(Jt)}catch(Rt){setTimeout(()=>{throw Rt},0)}})};return ae(x,bm.EventType.OPEN,()=>{$||Pe(Zi,`RPC '${e}' stream ${s} transport opened.`)}),ae(x,bm.EventType.CLOSE,()=>{$||($=!0,Pe(Zi,`RPC '${e}' stream ${s} transport closed`),Q.oo())}),ae(x,bm.EventType.ERROR,Me=>{$||($=!0,Xu(Zi,`RPC '${e}' stream ${s} transport errored:`,Me),Q.oo(new xe(ie.UNAVAILABLE,"The operation could not be completed")))}),ae(x,bm.EventType.MESSAGE,Me=>{var Be;if(!$){const Ht=Me.data[0];lt(!!Ht);const Rt=Ht.error||(null===(Be=Ht[0])||void 0===Be?void 0:Be.error);if(Rt){Pe(Zi,`RPC '${e}' stream ${s} received error:`,Rt);const Zt=Rt.status;let Ut=function(fi){const yh=l[fi];if(void 0!==yh)return y(yh)}(Zt),Gt=Rt.message;void 0===Ut&&(Ut=ie.INTERNAL,Gt="Unknown error status: "+Zt+" with message "+Rt.message),$=!0,Q.oo(new xe(Ut,Gt)),x.close()}else Pe(Zi,`RPC '${e}' stream ${s} received:`,Ht),Q.uo(Ht)}}),ae(m,AD.STAT_EVENT,Me=>{Me.stat===x0.PROXY?Pe(Zi,`RPC '${e}' stream ${s} detected buffering proxy`):Me.stat===x0.NOPROXY&&Pe(Zi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{Q.ro()},0),Q}}function lM(){return typeof window<"u"?window:null}function sE(){return typeof document<"u"?document:null}function pv(n){return new CO(n,!0)}class MT{constructor(e,t,r=1e3,s=1.5,u=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=s,this.To=u,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),s=Math.max(0,t-r);s>0&&Pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,s,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class dM{constructor(e,t,r,s,u,d,m,w){this.Ys=e,this.So=r,this.Do=s,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new MT(e,t)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,pe.Z)(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,pe.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Jn(t.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),r.ko.Po()):t&&t.code===ie.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Co===t&&this.jo(r,s)},r=>{e(()=>{const s=new xe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(s)})})}jo(e,t){const r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(s=>{r(()=>this.zo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Oo(){var e=this;this.state=5,this.ko.vo((0,pe.Z)(function*(){e.state=0,e.start()}))}zo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OP extends dM{constructor(e,t,r,s,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,d),this.Tt=u}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function IO(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:rt(),s=e.targetChange.targetIds||[],u=function(w,I){return w.yt?(lt(void 0===I||"string"==typeof I),Rr.fromBase64String(I||"")):(lt(void 0===I||I instanceof Uint8Array),Rr.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(w){const I=void 0===w.code?ie.UNKNOWN:y(w.code);return new xe(I,w.message||"")}(d);t=new rS(r,s,u,m||null)}else if("documentChange"in e){const r=e.documentChange,s=uc(n,r.document.name),u=Cr(r.document.updateTime),d=r.document.createTime?Cr(r.document.createTime):wt.min(),m=new wr({mapValue:{fields:r.document.fields}}),w=On.newFoundDocument(s,u,d,m);t=new nv(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,s=uc(n,r.document),u=r.readTime?Cr(r.readTime):wt.min(),d=On.newNoDocument(s,u);t=new nv([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,s=uc(n,r.document);t=new nv([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return rt();{const r=e.filter,u=new a(r.count||0);t=new nS(r.targetId,u)}}var w;return t}(this.Tt,e),r=function(s){if(!("targetChange"in s))return wt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?wt.min():u.readTime?Cr(u.readTime):wt.min()}(e);return this.listener.Ho(t,r)}Jo(e){const t={};t.database=iv(this.Tt),t.addTarget=function(s,u){let d;const m=u.target;return d=Y0(m)?{documents:fS(s,m)}:{query:iT(s,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=aS(s,u.resumeToken):u.snapshotVersion.compareTo(wt.min())>0&&(d.readTime=Hm(s,u.snapshotVersion.toTimestamp())),d}(this.Tt,e);const r=function TO(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.qo(t)}Yo(e){const t={};t.database=iv(this.Tt),t.removeTarget=e,this.qo(t)}}class PP extends dM{constructor(e,t,r,s,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,d),this.Tt=u,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function DO(n,e){return n&&n.length>0?(lt(void 0!==e),n.map(t=>function(r,s){let u=Cr(r.updateTime?r.updateTime:s);return u.isEqual(wt.min())&&(u=Cr(s)),new WD(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.eu(r,t)}return lt(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=iv(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ov(this.Tt,r))};this.qo(t)}}class RP extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.Tt=s,this.iu=!1}ru(){if(this.iu)throw new xe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.lo(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(ie.UNKNOWN,s.toString())})}mo(e,t,r,s){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.mo(e,t,r,u,d,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(ie.UNKNOWN,u.toString())})}terminate(){this.iu=!0}}class NP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Jn(t),this.cu=!1):Pe("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class FP{constructor(e,t,r,s,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=u,this.yu.Gr(m=>{r.enqueueAndForget((0,pe.Z)(function*(){var w;Rl(d)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,pe.Z)(function*(I){const x=qe(I);x.mu.add(4),yield Km(x),x.pu.set("Unknown"),x.mu.delete(4),yield gv(x)}),function(I){return w.apply(this,arguments)})(d))}))}),this.pu=new NP(r,s)}}function gv(n){return PT.apply(this,arguments)}function PT(){return PT=(0,pe.Z)(function*(n){if(Rl(n))for(const e of n.gu)yield e(!0)}),PT.apply(this,arguments)}function Km(n){return RT.apply(this,arguments)}function RT(){return RT=(0,pe.Z)(function*(n){for(const e of n.gu)yield e(!1)}),RT.apply(this,arguments)}function aE(n,e){const t=qe(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),FT(t)?NT(t):Qm(t).Mo()&&kT(t,e))}function mv(n,e){const t=qe(n),r=Qm(t);t.wu.delete(e),r.Mo()&&hM(t,e),0===t.wu.size&&(r.Mo()?r.Bo():Rl(t)&&t.pu.set("Unknown"))}function kT(n,e){n.Iu.Ot(e.targetId),Qm(n).Jo(e)}function hM(n,e){n.Iu.Ot(e),Qm(n).Yo(e)}function NT(n){n.Iu=new _O({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),Qm(n).start(),n.pu.au()}function FT(n){return Rl(n)&&!Qm(n).$o()&&n.wu.size>0}function Rl(n){return 0===qe(n).mu.size}function fM(n){n.Iu=void 0}function LP(n){return LT.apply(this,arguments)}function LT(){return LT=(0,pe.Z)(function*(n){n.wu.forEach((e,t)=>{kT(n,e)})}),LT.apply(this,arguments)}function VP(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,pe.Z)(function*(n,e){fM(n),FT(n)?(n.pu.fu(e),NT(n)):n.pu.set("Unknown")}),VT.apply(this,arguments)}function UP(n,e,t){return UT.apply(this,arguments)}function UT(){return UT=(0,pe.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof rS&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(s,u){const d=u.cause;for(const m of u.targetIds)s.wu.has(m)&&(yield s.remoteSyncer.rejectListen(m,d),s.wu.delete(m),s.Iu.removeTarget(m))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uE(n,r)}else if(e instanceof nv?n.Iu.Qt(e):e instanceof nS?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(wt.min()))try{const r=yield tM(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const d=s.Iu.ee(u);return d.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const I=s.wu.get(w);I&&s.wu.set(w,I.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const w=s.wu.get(m);if(!w)return;s.wu.set(m,w.withResumeToken(Rr.EMPTY_BYTE_STRING,w.snapshotVersion)),hM(s,m);const I=new ch(w.target,m,1,w.sequenceNumber);kT(s,I)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield uE(n,r)}var r}),UT.apply(this,arguments)}function uE(n,e,t){return BT.apply(this,arguments)}function BT(){return BT=(0,pe.Z)(function*(n,e,t){if(!Dl(e))throw e;n.mu.add(1),yield Km(n),n.pu.set("Offline"),t||(t=()=>tM(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield gv(n)}))}),BT.apply(this,arguments)}function pM(n,e){return e().catch(t=>uE(n,t,e))}function Ym(n){return jT.apply(this,arguments)}function jT(){return jT=(0,pe.Z)(function*(n){const e=qe(n),t=fh(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;BP(e);)try{const s=yield IP(e.localStore,r);if(null===s){0===e._u.length&&t.Bo();break}r=s.batchId,jP(e,s)}catch(s){yield uE(e,s)}gM(e)&&mM(e)}),jT.apply(this,arguments)}function BP(n){return Rl(n)&&n._u.length<10}function jP(n,e){n._u.push(e);const t=fh(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function gM(n){return Rl(n)&&!fh(n).$o()&&n._u.length>0}function mM(n){fh(n).start()}function $P(n){return $T.apply(this,arguments)}function $T(){return $T=(0,pe.Z)(function*(n){fh(n).su()}),$T.apply(this,arguments)}function HP(n){return HT.apply(this,arguments)}function HT(){return HT=(0,pe.Z)(function*(n){const e=fh(n);for(const t of n._u)e.tu(t.mutations)}),HT.apply(this,arguments)}function ZP(n,e,t){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,pe.Z)(function*(n,e,t){const r=n._u.shift(),s=aT.from(r,e,t);yield pM(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Ym(n)}),ZT.apply(this,arguments)}function zP(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,pe.Z)(function*(n,e){var t;e&&fh(n).Xo&&(yield(t=(0,pe.Z)(function*(r,s){if(p(u=s.code)&&u!==ie.ABORTED){const d=r._u.shift();fh(r).Fo(),yield pM(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,s)),yield Ym(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),gM(n)&&mM(n)}),zT.apply(this,arguments)}function _M(n,e){return GT.apply(this,arguments)}function GT(){return GT=(0,pe.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Rl(t);t.mu.add(3),yield Km(t),r&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield gv(t)}),GT.apply(this,arguments)}function qT(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,pe.Z)(function*(n,e){const t=qe(n);e?(t.mu.delete(2),yield gv(t)):e||(t.mu.add(2),yield Km(t),t.pu.set("Unknown"))}),WT.apply(this,arguments)}function Qm(n){return n.Tu||(n.Tu=function(e,t,r){const s=qe(e);return s.ru(),new OP(t,s.connection,s.authCredentials,s.appCheckCredentials,s.Tt,r)}(n.datastore,n.asyncQueue,{Xr:LP.bind(null,n),no:VP.bind(null,n),Ho:UP.bind(null,n)}),n.gu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Tu.Fo(),FT(n)?NT(n):n.pu.set("Unknown")):(yield n.Tu.stop(),fM(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function fh(n){return n.Eu||(n.Eu=function(e,t,r){const s=qe(e);return s.ru(),new PP(t,s.connection,s.authCredentials,s.appCheckCredentials,s.Tt,r)}(n.datastore,n.asyncQueue,{Xr:$P.bind(null,n),no:zP.bind(null,n),nu:HP.bind(null,n),eu:ZP.bind(null,n)}),n.gu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Eu.Fo(),yield Ym(n)):(yield n.Eu.stop(),n._u.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class KT{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,s,u){const d=Date.now()+r,m=new KT(e,t,d,s,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(n,e){if(Jn("AsyncQueue",`${e}: ${n}`),Dl(n))return new xe(ie.UNAVAILABLE,`${e}: ${n}`);throw n}class Xm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=N(),this.sortedSet=new Mn(this.comparator)}static emptySet(e){return new Xm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Xm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class yM{constructor(){this.Au=new Mn(ze.comparator)}track(e){const t=e.doc.key,r=this.Au.get(t);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(t):1===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):rt():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,r)=>{e.push(r)}),e}}class e_{constructor(e,t,r,s,u,d,m,w,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=I}static fromInitialDocuments(e,t,r,s,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new e_(e,t,Xm.emptySet(t),d,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class GP{constructor(){this.Pu=void 0,this.listeners=[]}}class qP{constructor(){this.queries=new C(e=>$D(e),Vm),this.onlineState="Unknown",this.vu=new Set}}function YT(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,pe.Z)(function*(n,e){const t=qe(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new GP),s)try{u.Pu=yield t.onListen(r)}catch(d){const m=Jm(d,`Initialization of query '${Vb(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Pu&&e.Vu(u.Pu)&&eA(t)}),QT.apply(this,arguments)}function JT(n,e){return XT.apply(this,arguments)}function XT(){return XT=(0,pe.Z)(function*(n,e){const t=qe(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),XT.apply(this,arguments)}function WP(n,e){const t=qe(n);let r=!1;for(const s of e){const d=t.queries.get(s.query);if(d){for(const m of d.listeners)m.Vu(s)&&(r=!0);d.Pu=s}}r&&eA(t)}function KP(n,e,t){const r=qe(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function eA(n){n.vu.forEach(e=>{e.next()})}class tA{constructor(e,t,r){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new e_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.$u||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=e_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class YP{constructor(e,t){this.Mu=e,this.byteLength=t}Ou(){return"metadata"in this.Mu}}class vM{constructor(e){this.Tt=e}Zi(e){return uc(this.Tt,e)}Xi(e){return e.metadata.exists?hS(this.Tt,e.document,!1):On.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return Cr(e)}}class QP{constructor(e,t,r){this.Fu=e,this.localStore=t,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wM(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const r=en.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,r=new vM(this.Tt);for(const s of e)if(s.metadata.queries){const u=r.Zi(s.metadata.name);for(const d of s.metadata.queries){const m=(t.get(d)||Le()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function DP(n,e,t,r){return ET.apply(this,arguments)}(e.localStore,new vM(e.Tt),e.documents,e.Fu.id),r=e.Lu(e.documents);for(const s of e.queries)yield TP(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function wM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class CM{constructor(e){this.key=e}}class bM{constructor(e){this.key=e}}class EM{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Le(),this.mutatedKeys=Le(),this.ju=Ub(e),this.zu=new Xm(this.ju)}get Wu(){return this.Ku}Hu(e,t){const r=t?t.Ju:new yM,s=t?t.zu:this.zu;let u=t?t.mutatedKeys:this.mutatedKeys,d=s,m=!1;const w="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,I="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((x,P)=>{const $=s.get(x),Q=Um(this.query,P)?P:null,ae=!!$&&this.mutatedKeys.has($.key),Me=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Be=!1;$&&Q?$.data.isEqual(Q.data)?ae!==Me&&(r.track({type:3,doc:Q}),Be=!0):this.Yu($,Q)||(r.track({type:2,doc:Q}),Be=!0,(w&&this.ju(Q,w)>0||I&&this.ju(Q,I)<0)&&(m=!0)):!$&&Q?(r.track({type:0,doc:Q}),Be=!0):$&&!Q&&(r.track({type:1,doc:$}),Be=!0,(w||I)&&(m=!0)),Be&&(Q?(d=d.add(Q),u=Me?u.add(x):u.delete(x)):(d=d.delete(x),u=u.delete(x)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const x="F"===this.query.limitType?d.last():d.first();d=d.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{zu:d,Ju:r,Li:m,mutatedKeys:u}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const u=e.Ju.Ru();u.sort((I,x)=>function(P,$){const Q=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return Q(P)-Q($)}(I.type,x.type)||this.ju(I.doc,x.doc)),this.Zu(r);const d=t?this.Xu():[],m=0===this.Qu.size&&this.current?1:0,w=m!==this.Gu;return this.Gu=m,0!==u.length||w?{snapshot:new e_(this.query,e.zu,s,u,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:d}:{tc:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new yM,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Le(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const t=[];return e.forEach(r=>{this.Qu.has(r)||t.push(new bM(r))}),this.Qu.forEach(r=>{e.has(r)||t.push(new CM(r))}),t}nc(e){this.Ku=e.Yi,this.Qu=Le();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return e_.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class JP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class XP{constructor(e){this.key=e,this.ic=!1}}class eR{constructor(e,t,r,s,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.rc={},this.oc=new C(m=>$D(m),Vm),this.uc=new Map,this.cc=new Set,this.ac=new Mn(ze.comparator),this.hc=new Map,this.lc=new mT,this.fc={},this.dc=new Map,this._c=yp.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function tR(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,pe.Z)(function*(n,e){const t=DA(n);let r,s;const u=t.oc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.sc();else{const d=yield qm(t.localStore,Xr(e));t.isPrimaryClient&&aE(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,s=yield rA(t,e,r,"current"===m,d.resumeToken)}return s}),nA.apply(this,arguments)}function rA(n,e,t,r,s){return iA.apply(this,arguments)}function iA(){return iA=(0,pe.Z)(function*(n,e,t,r,s){n.mc=(P,$,Q)=>{return(ae=(0,pe.Z)(function*(Me,Be,Ht,Jt){let Rt=Be.view.Hu(Ht);Rt.Li&&(Rt=yield nE(Me.localStore,Be.query,!1).then(({documents:Gt})=>Be.view.Hu(Gt,Rt)));const Zt=Jt&&Jt.targetChanges.get(Be.targetId),Ut=Be.view.applyChanges(Rt,Me.isPrimaryClient,Zt);return pA(Me,Be.targetId,Ut.tc),Ut.snapshot}),function(Me,Be,Ht,Jt){return ae.apply(this,arguments)})(n,P,$,Q);var ae};const u=yield nE(n.localStore,e,!0),d=new EM(e,u.Yi),m=d.Hu(u.documents),w=Pn.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),I=d.applyChanges(m,n.isPrimaryClient,w);pA(n,t,I.tc);const x=new JP(e,t,d);return n.oc.set(e,x),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),I.snapshot}),iA.apply(this,arguments)}function nR(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,pe.Z)(function*(n,e){const t=qe(n),r=t.oc.get(e),s=t.uc.get(r.targetId);if(s.length>1)return t.uc.set(r.targetId,s.filter(u=>!Vm(u,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Wm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),mv(t.remoteStore,r.targetId),t_(t,r.targetId)}).catch(Il))):(t_(t,r.targetId),yield Wm(t.localStore,r.targetId,!0))}),oA.apply(this,arguments)}function sA(){return sA=(0,pe.Z)(function*(n,e,t){const r=TA(n);try{const s=yield function(u,d){const m=qe(u),w=Nn.now(),I=d.reduce(($,Q)=>$.add(Q.key),Le());let x,P;return m.persistence.runTransaction("Locally write mutations","readwrite",$=>{let Q=T(),ae=Le();return m.ji.getEntries($,I).next(Me=>{Q=Me,Q.forEach((Be,Ht)=>{Ht.isValidDocument()||(ae=ae.add(Be))})}).next(()=>m.localDocuments.getOverlayedDocuments($,Q)).next(Me=>{x=Me;const Be=[];for(const Ht of d){const Jt=YD(Ht,x.get(Ht.key).overlayedDocument);null!=Jt&&Be.push(new ac(Ht.key,Jt,kb(Jt.value.mapValue),Fn.exists(!0)))}return m.mutationQueue.addMutationBatch($,w,Be,d)}).next(Me=>{P=Me;const Be=Me.applyToLocalDocumentSet(x,ae);return m.documentOverlayCache.saveOverlays($,Me.batchId,Be)})}).then(()=>({batchId:P.batchId,changes:Z(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,m){let w=u.fc[u.currentUser.toKey()];w||(w=new Mn(Nt)),w=w.insert(d,m),u.fc[u.currentUser.toKey()]=w}(r,s.batchId,t),yield kl(r,s.changes),yield Ym(r.remoteStore)}catch(s){const u=Jm(s,"Failed to persist write");t.reject(u)}}),sA.apply(this,arguments)}function IM(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,pe.Z)(function*(n,e){const t=qe(n);try{const r=yield function EP(n,e){const t=qe(n),r=e.snapshotVersion;let s=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.ji.newChangeBuffer({trackRemovals:!0});s=t.Ki;const m=[];e.targetChanges.forEach((x,P)=>{const $=s.get(P);if(!$)return;m.push(t.Ns.removeMatchingKeys(u,x.removedDocuments,P).next(()=>t.Ns.addMatchingKeys(u,x.addedDocuments,P)));let Q=$.withSequenceNumber(u.currentSequenceNumber);var ae,Me,Be;e.targetMismatches.has(P)?Q=Q.withResumeToken(Rr.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):x.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(x.resumeToken,r)),s=s.insert(P,Q),Me=Q,Be=x,(0===(ae=$).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||Be.addedDocuments.size+Be.modifiedDocuments.size+Be.removedDocuments.size>0)&&m.push(t.Ns.updateTargetData(u,Q))});let w=T(),I=Le();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,x))}),m.push(nM(u,d,e.documentUpdates).next(x=>{w=x.Hi,I=x.Ji})),!r.isEqual(wt.min())){const x=t.Ns.getLastRemoteSnapshotVersion(u).next(P=>t.Ns.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(x)}return ne.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,I)).next(()=>w)}).then(u=>(t.Ki=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const d=t.hc.get(u);d&&(lt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.ic=!0:s.modifiedDocuments.size>0?lt(d.ic):s.removedDocuments.size>0&&(lt(d.ic),d.ic=!1))}),yield kl(t,r,e)}catch(r){yield Il(r)}}),aA.apply(this,arguments)}function DM(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.oc.forEach((u,d)=>{const m=d.view.bu(e);m.snapshot&&s.push(m.snapshot)}),function(u,d){const m=qe(u);m.onlineState=d;let w=!1;m.queries.forEach((I,x)=>{for(const P of x.listeners)P.bu(d)&&(w=!0)}),w&&eA(m)}(r.eventManager,e),s.length&&r.rc.Ho(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iR(n,e,t){return uA.apply(this,arguments)}function uA(){return uA=(0,pe.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.hc.get(e),u=s&&s.key;if(u){let d=new Mn(ze.comparator);d=d.insert(u,On.newNoDocument(u,wt.min()));const m=Le().add(u),w=new mn(wt.min(),new Map,new gn(Nt),d,m);yield IM(r,w),r.ac=r.ac.remove(u),r.hc.delete(e),gA(r)}else yield Wm(r.localStore,e,!1).then(()=>t_(r,e,t)).catch(Il)}),uA.apply(this,arguments)}function oR(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,pe.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const s=yield function bP(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.ji.newChangeBuffer({trackRemovals:!0});return function(d,m,w,I){const x=w.batch,P=x.keys();let $=ne.resolve();return P.forEach(Q=>{$=$.next(()=>I.getEntry(m,Q)).next(ae=>{const Me=w.docVersions.get(Q);lt(null!==Me),ae.version.compareTo(Me)<0&&(x.applyToRemoteDocument(ae,w),ae.isValidDocument()&&(ae.setReadTime(w.commitVersion),I.addEntry(ae)))})}),$.next(()=>d.mutationQueue.removeMutationBatch(m,x))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Le();for(let w=0;w<d.mutationResults.length;++w)d.mutationResults[w].transformResults.length>0&&(m=m.add(d.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);fA(t,r,null),hA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield kl(t,s)}catch(s){yield Il(s)}}),cA.apply(this,arguments)}function sR(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,pe.Z)(function*(n,e,t){const r=qe(n);try{const s=yield function(u,d){const m=qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let I;return m.mutationQueue.lookupMutationBatch(w,d).next(x=>(lt(null!==x),I=x.keys(),m.mutationQueue.removeMutationBatch(w,x))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,I,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,I)).next(()=>m.localDocuments.getDocuments(w,I))})}(r.localStore,e);fA(r,e,t),hA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield kl(r,s)}catch(s){yield Il(s)}}),lA.apply(this,arguments)}function dA(){return dA=(0,pe.Z)(function*(n,e){const t=qe(n);Rl(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=qe(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const s=t.dc.get(r)||[];s.push(e),t.dc.set(r,s)}catch(r){const s=Jm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),dA.apply(this,arguments)}function hA(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function fA(n,e,t){const r=qe(n);let s=r.fc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.fc[r.currentUser.toKey()]=s}}function t_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.uc.get(e))n.oc.delete(r),t&&n.rc.gc(r,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(r=>{n.lc.containsKey(r)||TM(n,r)})}function TM(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(mv(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),gA(n))}function pA(n,e,t){for(const r of t)r instanceof CM?(n.lc.addReference(r.key,e),uR(n,r)):r instanceof bM?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.lc.removeReference(r.key,e),n.lc.containsKey(r.key)||TM(n,r.key)):rt()}function uR(n,e){const t=e.key,r=t.path.canonicalString();n.ac.get(t)||n.cc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.cc.add(r),gA(n))}function gA(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new ze(en.fromString(e)),r=n._c.next();n.hc.set(r,new XP(t)),n.ac=n.ac.insert(t,r),aE(n.remoteStore,new ch(Xr(Sl(t.path)),r,2,Hi.at))}}function kl(n,e,t){return mA.apply(this,arguments)}function mA(){return mA=(0,pe.Z)(function*(n,e,t){const r=qe(n),s=[],u=[],d=[];var m;r.oc.isEmpty()||(r.oc.forEach((m,w)=>{d.push(r.mc(w,e,t).then(I=>{if((I||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,I?.fromCache?"not-current":"current"),I){s.push(I);const x=wT.Ni(w.targetId,I);u.push(x)}}))}),yield Promise.all(d),r.rc.Ho(s),yield(m=(0,pe.Z)(function*(w,I){const x=qe(w);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>ne.forEach(I,$=>ne.forEach($.Ci,Q=>x.persistence.referenceDelegate.addReference(P,$.targetId,Q)).next(()=>ne.forEach($.xi,Q=>x.persistence.referenceDelegate.removeReference(P,$.targetId,Q)))))}catch(P){if(!Dl(P))throw P;Pe("LocalStore","Failed to update sequence numbers: "+P)}for(const P of I){const $=P.targetId;if(!P.fromCache){const Q=x.Ki.get($),Me=Q.withLastLimboFreeSnapshotVersion(Q.snapshotVersion);x.Ki=x.Ki.insert($,Me)}}}),function(w,I){return m.apply(this,arguments)})(r.localStore,u))}),mA.apply(this,arguments)}function cR(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,pe.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield eM(t.localStore,e);t.currentUser=e,(s=t).dc.forEach(d=>{d.forEach(m=>{m.reject(new xe(ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.dc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield kl(t,r.Wi)}var s}),_A.apply(this,arguments)}function lR(n,e){const t=qe(n),r=t.hc.get(e);if(r&&r.ic)return Le().add(r.key);{let s=Le();const u=t.uc.get(e);if(!u)return s;for(const d of u){const m=t.oc.get(d);s=s.unionWith(m.view.Wu)}return s}}function dR(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,pe.Z)(function*(n,e){const t=qe(n),r=yield nE(t.localStore,e.query,!0),s=e.view.nc(r);return t.isPrimaryClient&&pA(t,e.targetId,s.tc),s}),yA.apply(this,arguments)}function hR(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,pe.Z)(function*(n,e){const t=qe(n);return iM(t.localStore,e).then(r=>kl(t,r))}),vA.apply(this,arguments)}function fR(n,e,t,r){return wA.apply(this,arguments)}function wA(){return wA=(0,pe.Z)(function*(n,e,t,r){const s=qe(n),u=yield function(d,m){const w=qe(d),I=qe(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",x=>I.An(x,m).next(P=>P?w.localDocuments.getDocuments(x,P):ne.resolve(null)))}(s.localStore,e);var m;null!==u?("pending"===t?yield Ym(s.remoteStore):"acknowledged"===t||"rejected"===t?(fA(s,e,r||null),hA(s,e),m=e,qe(qe(s.localStore).mutationQueue).Pn(m)):rt(),yield kl(s,u)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),wA.apply(this,arguments)}function CA(){return CA=(0,pe.Z)(function*(n,e){const t=qe(n);if(DA(t),TA(t),!0===e&&!0!==t.wc){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield AM(t,r.toArray());t.wc=!0,yield qT(t.remoteStore,!0);for(const u of s)aE(t.remoteStore,u)}else if(!1===e&&!1!==t.wc){const r=[];let s=Promise.resolve();t.uc.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):s=s.then(()=>(t_(t,d),Wm(t.localStore,d,!0))),mv(t.remoteStore,d)}),yield s,yield AM(t,r),function(u){const d=qe(u);d.hc.forEach((m,w)=>{mv(d.remoteStore,w)}),d.lc._s(),d.hc=new Map,d.ac=new Mn(ze.comparator)}(t),t.wc=!1,yield qT(t.remoteStore,!1)}}),CA.apply(this,arguments)}function AM(n,e,t){return bA.apply(this,arguments)}function bA(){return bA=(0,pe.Z)(function*(n,e,t){const r=qe(n),s=[],u=[];for(const d of e){let m;const w=r.uc.get(d);if(w&&0!==w.length){m=yield qm(r.localStore,Xr(w[0]));for(const I of w){const x=r.oc.get(I),P=yield dR(r,x);P.snapshot&&u.push(P.snapshot)}}else{const I=yield rM(r.localStore,d);m=yield qm(r.localStore,I),yield rA(r,xM(I),d,!1,m.resumeToken)}s.push(m)}return r.rc.Ho(u),s}),bA.apply(this,arguments)}function xM(n){return Lb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function gR(n){const e=qe(n);return qe(qe(e.localStore).persistence).Si()}function mR(n,e,t,r){return EA.apply(this,arguments)}function EA(){return EA=(0,pe.Z)(function*(n,e,t,r){const s=qe(n);if(s.wc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const u=s.uc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield iM(s.localStore,J0(u[0])),m=mn.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Rr.EMPTY_BYTE_STRING);yield kl(s,d,m);break}case"rejected":yield Wm(s.localStore,e,!0),t_(s,e,r);break;default:rt()}}),EA.apply(this,arguments)}function _R(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,pe.Z)(function*(n,e,t){const r=DA(n);if(r.wc){for(const s of e){if(r.uc.has(s)){Pe("SyncEngine","Adding an already active target "+s);continue}const u=yield rM(r.localStore,s),d=yield qm(r.localStore,u);yield rA(r,xM(u),d.targetId,!1,d.resumeToken),aE(r.remoteStore,d)}for(const s of t)r.uc.has(s)&&(yield Wm(r.localStore,s,!1).then(()=>{mv(r.remoteStore,s),t_(r,s)}).catch(Il))}}),IA.apply(this,arguments)}function DA(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=IM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iR.bind(null,e),e.rc.Ho=WP.bind(null,e.eventManager),e.rc.gc=KP.bind(null,e.eventManager),e}function TA(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sR.bind(null,e),e}class SM{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.Tt=pv(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return XS(this.persistence,new JS,e.initialUser,this.Tt)}Tc(e){return new YS(eE.qs,this.Tt)}Ic(e){return new uM}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class MM extends SM{constructor(e,t,r){super(),this.Pc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield r.Pc.initialize(r,e),yield TA(r.Pc.syncEngine),yield Ym(r.Pc.remoteStore),yield r.persistence.di(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return XS(this.persistence,new JS,e.initialUser,this.Tt)}Ac(e,t){return new aP(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const r=new Om(t,this.persistence);return new Cb(e.asyncQueue,r)}Tc(e){const t=vT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Po.withCacheSize(this.cacheSizeBytes):Po.DEFAULT;return new yT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,lM(),sE(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new uM}}class vR extends MM{constructor(e,t){super(e,t,!1),this.Pc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const s=r.Pc.syncEngine;r.sharedClientState instanceof xT&&(r.sharedClientState.syncEngine={Br:fR.bind(null,s),Lr:mR.bind(null,s),qr:_R.bind(null,s),Si:gR.bind(null,s),Fr:hR.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.di(function(){var u=(0,pe.Z)(function*(d){yield function pR(n,e){return CA.apply(this,arguments)}(r.Pc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}Ic(e){const t=lM();if(!xT.C(t))throw new xe(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=vT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class AA{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>DM(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=cR.bind(null,r.syncEngine),yield qT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qP}createDatastore(e){const t=pv(e.databaseInfo.databaseId),r=new MP(e.databaseInfo);return new RP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=m=>DM(this.syncEngine,m,0),d=cM.C()?new cM:new AP,new FP(t,r,s,u,d);var t,r,s,u,d}createSyncEngine(e,t){return function(r,s,u,d,m,w,I){const x=new eR(r,s,u,d,m,w);return I&&(x.wc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=qe(t);Pe("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield Km(r),r.yu.shutdown(),r.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function OM(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class cE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wR{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new vr,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Mu)}`))},r=>this.metadata.reject(r))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const r=e.Sc.decode(t),s=Number(r);isNaN(s)&&e.xc(`length string (${r}) is not valid number`);const u=yield e.Nc(s);return new YP(JSON.parse(u),t.length+s)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,pe.Z)(function*(){for(;e.kc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Nc(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.xc("Reached the end of bundle when more is expected.");const r=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class CR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,pe.Z)(function*(u,d){const m=qe(u),w=iv(m.Tt)+"/documents",I={documents:d.map(Q=>rv(m.Tt,Q))},x=yield m.mo("BatchGetDocuments",w,I,d.length),P=new Map;x.forEach(Q=>{const ae=function EO(n,e){return"found"in e?function(t,r){lt(!!r.found);const s=uc(t,r.found.name),u=Cr(r.found.updateTime),d=r.found.createTime?Cr(r.found.createTime):wt.min(),m=new wr({mapValue:{fields:r.found.fields}});return On.newFoundDocument(s,u,d,m)}(n,e):"missing"in e?function(t,r){lt(!!r.missing),lt(!!r.readTime);const s=uc(t,r.missing),u=Cr(r.readTime);return On.newNoDocument(s,u)}(n,e):rt()}(m.Tt,Q);P.set(ae.key.toString(),ae)});const $=[];return d.forEach(Q=>{const ae=P.get(Q.toString());lt(!!ae),$.push(ae)}),$}),function(u,d){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new i(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=ze.fromPath(s);e.mutations.push(new o(u,e.precondition(u)))}),yield(r=(0,pe.Z)(function*(s,u){const d=qe(s),m=iv(d.Tt)+"/documents",w={writes:u.map(I=>ov(d.Tt,I))};yield d.lo("Commit",m,w)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wt.min())?Fn.exists(!1):Fn.updateTime(t):Fn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wt.min()))throw new xe(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(t)}return Fn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class bR{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.Mc=r.maxAttempts,this.ko=new MT(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Oc()}Oc(){var e=this;this.ko.vo((0,pe.Z)(function*(){const t=new CR(e.datastore),r=e.Fc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Bc(u)}))}).catch(s=>{e.Bc(s)})}))}Fc(e){try{const t=this.updateFunction(e);return!Xf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!p(t)}return!1}}class ER{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=mb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,pe.Z)(function*(m){Pe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Pe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Jm(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function PM(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,pe.Z)(function*(u){r.isEqual(u)||(yield eM(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),xA.apply(this,arguments)}function RM(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield MA(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>_M(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>_M(e.remoteStore,u)),n.onlineComponents=e}),SA.apply(this,arguments)}function MA(n){return OA.apply(this,arguments)}function OA(){return OA=(0,pe.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield PM(n,new SM)),n.offlineComponents}),OA.apply(this,arguments)}function lE(n){return PA.apply(this,arguments)}function PA(){return PA=(0,pe.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield RM(n,new AA)),n.onlineComponents}),PA.apply(this,arguments)}function kM(n){return MA(n).then(e=>e.persistence)}function dE(n){return MA(n).then(e=>e.localStore)}function RA(n){return lE(n).then(e=>e.remoteStore)}function kA(n){return lE(n).then(e=>e.syncEngine)}function n_(n){return NA.apply(this,arguments)}function NA(){return NA=(0,pe.Z)(function*(n){const e=yield lE(n),t=e.eventManager;return t.onListen=tR.bind(null,e.syncEngine),t.onUnlisten=nR.bind(null,e.syncEngine),t}),NA.apply(this,arguments)}function FM(n,e,t={}){const r=new vr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(s,u,d,m,w){const I=new cE({next:P=>{u.enqueueAndForget(()=>JT(s,x));const $=P.docs.has(d);!$&&P.fromCache?w.reject(new xe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&P.fromCache&&m&&"server"===m.source?w.reject(new xe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(P)},error:P=>w.reject(P)}),x=new tA(Sl(d.path),I,{includeMetadataChanges:!0,$u:!0});return YT(s,x)}(yield n_(n),n.asyncQueue,e,t,r)})),r.promise}function LM(n,e,t={}){const r=new vr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(s,u,d,m,w){const I=new cE({next:P=>{u.enqueueAndForget(()=>JT(s,x)),P.fromCache&&"server"===m.source?w.reject(new xe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(P)},error:P=>w.reject(P)}),x=new tA(d,I,{includeMetadataChanges:!0,$u:!0});return YT(s,x)}(yield n_(n),n.asyncQueue,e,t,r)})),r.promise}const VM=new Map;function FA(n,e,t){if(!t)throw new xe(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function UM(n,e,t,r){if(!0===e&&!0===r)throw new xe(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function BM(n){if(!ze.isDocumentKey(n))throw new xe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jM(n){if(ze.isDocumentKey(n))throw new xe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hE(n);throw new xe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $M(n,e){if(e<=0)throw new xe(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class HM{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,UM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _v{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pb;switch(t.type){case"gapi":return new Kx(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=VM.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),VM.delete(e),t.terminate())}(this),Promise.resolve()}}class zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class Di{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Di(this.firestore,e,this._query)}}class lc extends Di{constructor(e,t,r){super(e,t,Sl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new ze(e))}withConverter(e){return new lc(this.firestore,e,this._path)}}function zM(n,e,...t){if(n=(0,nn.m9)(n),FA("collection","path",e),n instanceof _v){const r=en.fromString(e,...t);return jM(r),new lc(n,null,r)}{if(!(n instanceof zn||n instanceof lc))throw new xe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return jM(r),new lc(n.firestore,null,r)}}function fE(n,e,...t){if(n=(0,nn.m9)(n),1===arguments.length&&(e=mb.R()),FA("doc","path",e),n instanceof _v){const r=en.fromString(e,...t);return BM(r),new zn(n,null,new ze(r))}{if(!(n instanceof zn||n instanceof lc))throw new xe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return BM(r),new zn(n.firestore,n instanceof lc?n.converter:null,new ze(r))}}function GM(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),(n instanceof zn||n instanceof lc)&&(e instanceof zn||e instanceof lc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function LA(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),n instanceof Di&&e instanceof Di&&n.firestore===e.firestore&&Vm(n._query,e._query)&&n.converter===e.converter}class PR{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new MT(this,"async_queue_retry"),this.Hc=()=>{const t=sE();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=sE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=sE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new vr;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,pe.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!Dl(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,Jn("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const s=KT.createAndSchedule(this,e,t,r,u=>this.Xc(u));return this.Gc.push(s),s}Jc(){this.Qc&&rt()}verifyOperationInProgress(){}ta(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function VA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class RR{constructor(){this._progressObserver={},this._taskCompletionResolver=new vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Gn extends _v{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new PR,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qM(this),this._firestoreClient.terminate()}}function br(n){return n._firestoreClient||qM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function qM(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ib(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new ER(n._authCredentials,n._appCheckCredentials,n._queue,r)}function WM(n,e,t){const r=new vr;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield PM(n,t),yield RM(n,e),r.resolve()}catch(s){const u=s;if(!("FirebaseError"===(d=u).name?d.code===ie.FAILED_PRECONDITION||d.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;Xu("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function KM(n){if(n._initialized||n._terminated)throw new xe(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dc(Rr.fromBase64String(e))}catch(t){throw new xe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dc(Rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wp{constructor(e){this._methodName=e}}class pE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const ZR=/^__.*__$/;class zR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new hp(e,this.data,t,this.fieldTransforms)}}class YM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class gE{constructor(e,t,r,s,u,d){this.settings=e,this.databaseId=t,this.Tt=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ia(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new gE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.oa({path:r,ca:!1});return s.aa(e),s}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.oa({path:r,ca:!1});return s.ia(),s}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return yE(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(QM(this.ra)&&ZR.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class GR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=r||pv(e)}wa(e,t,r,s=!1){return new gE({ra:e,methodName:t,_a:r,path:Zn.emptyPath(),ca:!1,da:s},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function Cp(n){const e=n._freezeSettings(),t=pv(n._databaseId);return new GR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mE(n,e,t,r,s,u={}){const d=n.wa(u.merge||u.mergeFields?2:0,e,t,s);$A("Data must be an object, but it was:",d,r);const m=e1(r,d);let w,I;if(u.merge)w=new so(d.fieldMask),I=d.fieldTransforms;else if(u.mergeFields){const x=[];for(const P of u.mergeFields){const $=wv(e,P,t);if(!d.contains($))throw new xe(ie.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);n1(x,$)||x.push($)}w=new so(x),I=d.fieldTransforms.filter(P=>w.covers(P.field))}else w=null,I=d.fieldTransforms;return new zR(new wr(m),w,I)}class vv extends wp{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vv}}function JM(n,e,t){return new gE({ra:3,_a:e.settings._a,methodName:n._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class UA extends wp{_toFieldTransform(e){return new jm(e.path,new Pl)}isEqual(e){return e instanceof UA}}class qR extends wp{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=JM(this,e,!0),r=this.ma.map(u=>bp(u,t)),s=new Xa(r);return new jm(e.path,s)}isEqual(e){return this===e}}class WR extends wp{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=JM(this,e,!0),r=this.ma.map(u=>bp(u,t)),s=new sc(r);return new jm(e.path,s)}isEqual(e){return this===e}}class KR extends wp{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new ah(e.Tt,X0(e.Tt,this.ga));return new jm(e.path,t)}isEqual(e){return this===e}}function BA(n,e,t,r){const s=n.wa(1,e,t);$A("Data must be an object, but it was:",s,r);const u=[],d=wr.empty();rh(r,(w,I)=>{const x=_E(e,w,t);I=(0,nn.m9)(I);const P=s.ha(x);if(I instanceof vv)u.push(x);else{const $=bp(I,P);null!=$&&(u.push(x),d.set(x,$))}});const m=new so(u);return new YM(d,m,s.fieldTransforms)}function jA(n,e,t,r,s,u){const d=n.wa(1,e,t),m=[wv(e,r,t)],w=[s];if(u.length%2!=0)throw new xe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<u.length;$+=2)m.push(wv(e,u[$])),w.push(u[$+1]);const I=[],x=wr.empty();for(let $=m.length-1;$>=0;--$)if(!n1(I,m[$])){const Q=m[$];let ae=w[$];ae=(0,nn.m9)(ae);const Me=d.ha(Q);if(ae instanceof vv)I.push(Q);else{const Be=bp(ae,Me);null!=Be&&(I.push(Q),x.set(Q,Be))}}const P=new so(I);return new YM(x,P,d.fieldTransforms)}function XM(n,e,t,r=!1){return bp(t,n.wa(r?4:3,e))}function bp(n,e){if(t1(n=(0,nn.m9)(n)))return $A("Unsupported field value:",e,n),e1(n,e);if(n instanceof wp)return function(t,r){if(!QM(r.ra))throw r.fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const d of t){let m=bp(d,r.la(u));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,nn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return X0(r.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=Nn.fromDate(t);return{timestampValue:Hm(r.Tt,s)}}if(t instanceof Nn){const s=new Nn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hm(r.Tt,s)}}if(t instanceof pE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof dc)return{bytesValue:aS(r.Tt,t._byteString)};if(t instanceof zn){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r.fa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:tT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.fa(`Unsupported field value: ${hE(t)}`)}(n,e)}function e1(n,e){const t={};return kD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rh(n,(r,s)=>{const u=bp(s,e.ua(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function t1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nn||n instanceof pE||n instanceof dc||n instanceof zn||n instanceof wp)}function $A(n,e,t){if(!t1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=hE(t);throw e.fa("an object"===r?n+" a custom object":n+" "+r)}var r}function wv(n,e,t){if((e=(0,nn.m9)(e))instanceof Nl)return e._internalPath;if("string"==typeof e)return _E(n,e);throw yE("Field path arguments must be of type string or ",n,!1,void 0,t)}const YR=new RegExp("[~\\*/\\[\\]]");function _E(n,e,t){if(e.search(YR)>=0)throw yE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nl(...e.split("."))._internalPath}catch{throw yE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yE(n,e,t,r,s){const u=r&&!r.isEmpty(),d=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||d)&&(w+=" (found",u&&(w+=` in field ${r}`),d&&(w+=` in document ${s}`),w+=")"),new xe(ie.INVALID_ARGUMENT,m+n+w)}function n1(n,e){return n.some(t=>t.isEqual(e))}class Cv{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QR extends Cv{data(){return super.data()}}function vE(n,e){return"string"==typeof e?_E(n,e):e instanceof Nl?e._internalPath:e._delegate._internalPath}function r1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HA{}class bv extends HA{}function ph(n,e,...t){let r=[];e instanceof HA&&r.push(e),r=r.concat(t),function(s){const u=s.filter(m=>m instanceof r_).length,d=s.filter(m=>m instanceof Ev).length;if(u>1||u>0&&d>0)throw new xe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Ev extends bv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ev(e,t,r)}_apply(e){const t=this._parse(e);return a1(e._query,t),new Di(e.firestore,e.converter,lp(e._query,t))}_parse(e){const t=Cp(e.firestore);return function(s,u,d,m,w,I,x){let P;if(w.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new xe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){s1(x,I);const $=[];for(const Q of x)$.push(o1(m,s,Q));P={arrayValue:{values:$}}}else P=o1(m,s,x)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||s1(x,I),P=XM(d,"where",x,"in"===I||"not-in"===I);return $t.create(w,I,P)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class r_ extends HA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new r_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:ln.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const d=s.getFlattenedFilters();for(const m of d)a1(u,m),u=lp(u,m)}(e._query,t),new Di(e.firestore,e.converter,lp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ZA extends bv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ZA(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new xe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new xl(s,u);return function(m,w){if(null===Lm(m)){const I=sh(m);null!==I&&u1(0,I,w.field)}}(r,d),d}(e._query,this._field,this._direction);return new Di(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new Ja(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class wE extends bv{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new wE(e,t,r)}_apply(e){return new Di(e.firestore,e.converter,Ol(e._query,this._limit,this._limitType))}}class CE extends bv{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new CE(e,t,r)}_apply(e){const t=i1(e,this.type,this._docOrFields,this._inclusive);return new Di(e.firestore,e.converter,(s=t,new Ja((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class bE extends bv{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new bE(e,t,r)}_apply(e){const t=i1(e,this.type,this._docOrFields,this._inclusive);return new Di(e.firestore,e.converter,(s=t,new Ja((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function i1(n,e,t,r){if(t[0]=(0,nn.m9)(t[0]),t[0]instanceof Cv)return function(s,u,d,m,w){if(!m)throw new xe(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const I=[];for(const x of Ml(s))if(x.field.isKeyField())I.push(Ya(u,m.key));else{const P=m.data.field(x.field);if(Db(P))throw new xe(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const $=x.field.canonicalString();throw new xe(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}I.push(P)}return new Xs(I,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Cp(n.firestore);return function(u,d,m,w,I,x){const P=u.explicitOrderBy;if(I.length>P.length)throw new xe(ie.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $=[];for(let Q=0;Q<I.length;Q++){const ae=I[Q];if(P[Q].field.isKeyField()){if("string"!=typeof ae)throw new xe(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ae}`);if(!cp(u)&&-1!==ae.indexOf("/"))throw new xe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${ae}' contains a slash.`);const Me=u.path.child(en.fromString(ae));if(!ze.isDocumentKey(Me))throw new xe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const Be=new ze(Me);$.push(Ya(d,Be))}else{const Me=XM(m,w,ae);$.push(Me)}}return new Xs($,x)}(n._query,n.firestore._databaseId,s,e,t,r)}}function o1(n,e,t){if("string"==typeof(t=(0,nn.m9)(t))){if(""===t)throw new xe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cp(e)&&-1!==t.indexOf("/"))throw new xe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(en.fromString(t));if(!ze.isDocumentKey(r))throw new xe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ya(n,new ze(r))}if(t instanceof zn)return Ya(n,t._key);throw new xe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hE(t)}.`)}function s1(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function a1(n,e){if(e.isInequality()){const r=sh(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new xe(ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=Lm(n);null!==u&&u1(0,s,u)}const t=function(r,s){for(const u of r)for(const d of u.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new xe(ie.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function u1(n,e,t){if(!t.isEqual(e))throw new xe(ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class zA{convertValue(e,t="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return rh(e.fields,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new pE(Xn(e.latitude),Xn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Tb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const t=rc(e);return new Nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=en.fromString(e);lt(_S(r));const s=new nc(r.get(1),r.get(3)),u=new ze(r.popFirst(5));return s.isEqual(t)||Jn(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function EE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class sk extends zA{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,t)}}class Ep{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fl extends Cv{constructor(e,t,r,s,u,d){super(e,t,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Iv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Iv extends Fl{data(e={}){return super.data(e)}}class gh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ep(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Iv(this._firestore,this._userDataWriter,r.key,r,new Ep(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Iv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ep(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const m=new Iv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ep(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,I=-1;return 0!==d.type&&(w=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),I=u.indexOf(d.doc.key)),{type:uk(d.type),doc:m,oldIndex:w,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function l1(n,e){return n instanceof Fl&&e instanceof Fl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof gh&&e instanceof gh&&n._firestore===e._firestore&&LA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class mh extends zA{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,t)}}function d1(n,e,t){n=tn(n,zn);const r=tn(n.firestore,Gn),s=EE(n.converter,e,t);return i_(r,[mE(Cp(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Fn.none())])}function h1(n,e,t,...r){n=tn(n,zn);const s=tn(n.firestore,Gn),u=Cp(s);let d;return d="string"==typeof(e=(0,nn.m9)(e))||e instanceof Nl?jA(u,"updateDoc",n._key,e,t,r):BA(u,"updateDoc",n._key,e),i_(s,[d.toMutation(n._key,Fn.exists(!0))])}function f1(n,...e){var t,r,s;n=(0,nn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||VA(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(VA(e[d])){const P=e[d];e[d]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[d+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[d+2]=null===(s=P.complete)||void 0===s?void 0:s.bind(P)}let w,I,x;if(n instanceof zn)I=tn(n.firestore,Gn),x=Sl(n._key.path),w={next:P=>{e[d]&&e[d](GA(I,n,P))},error:e[d+1],complete:e[d+2]};else{const P=tn(n,Di);I=tn(P.firestore,Gn),x=P._query;const $=new mh(I);w={next:Q=>{e[d]&&e[d](new gh(I,$,P,Q))},error:e[d+1],complete:e[d+2]},r1(n._query)}return function(P,$,Q,ae){const Me=new cE(ae),Be=new tA($,Me,Q);return P.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return YT(yield n_(P),Be)})),()=>{Me.bc(),P.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return JT(yield n_(P),Be)}))}}(br(I),x,m,w)}function i_(n,e){return function(t,r){const s=new vr;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function rR(n,e,t){return sA.apply(this,arguments)}(yield kA(t),r,s)})),s.promise}(br(n),e)}function GA(n,e,t){const r=t.docs.get(e._key),s=new mh(n);return new Fl(n,s,e._key,r,new Ep(t.hasPendingWrites,t.fromCache),e.converter)}const vk={maxAttempts:5};class p1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cp(e)}set(e,t,r){this._verifyNotCommitted();const s=_h(e,this._firestore),u=EE(s.converter,t,r),d=mE(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(d.toMutation(s._key,Fn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=_h(e,this._firestore);let d;return d="string"==typeof(t=(0,nn.m9)(t))||t instanceof Nl?jA(this._dataReader,"WriteBatch.update",u._key,t,r,s):BA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,Fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_h(e,this._firestore);return this._mutations=this._mutations.concat(new i(t._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _h(n,e){if((n=(0,nn.m9)(n)).firestore!==e)throw new xe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class wk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cp(e)}get(e){const t=_h(e,this._firestore),r=new sk(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return rt();const u=s[0];if(u.isFoundDocument())return new Cv(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Cv(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const s=_h(e,this._firestore),u=EE(s.converter,t,r),d=mE(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,d),this}update(e,t,r,...s){const u=_h(e,this._firestore);let d;return d="string"==typeof(t=(0,nn.m9)(t))||t instanceof Nl?jA(this._dataReader,"Transaction.update",u._key,t,r,s):BA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=_h(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_h(e,this._firestore),r=new mh(this._firestore);return super.get(e).then(s=>new Fl(this._firestore,r,t._key,s._document,new Ep(!1,!1),t.converter))}}!function(n,e=!0){ds=Wu.SDK_VERSION,(0,Wu._registerComponent)(new Tf.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const u=t.getProvider("app").getImmediate(),d=new Gn(new Im(t.getProvider("auth-internal")),new SD(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(m.options.projectId,w)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),(0,Wu.registerVersion)(fb,"3.9.0",n),(0,Wu.registerVersion)(fb,"3.9.0","esm2017")}();function qA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function m1(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function _1(){if(!function Jx(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Dv{constructor(e){this._delegate=e}static fromBase64String(e){return _1(),new Dv(dc.fromBase64String(e))}static fromUint8Array(e){return m1(),new Dv(dc.fromUint8Array(e))}toBase64(){return _1(),this._delegate.toBase64()}toUint8Array(){return m1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function WA(n){return function Sk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Mk{enableIndexedDbPersistence(e,t){return function NR(n,e){KM(n=tn(n,Gn));const t=br(n),r=n._freezeSettings(),s=new AA;return WM(t,s,new MM(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function FR(n){KM(n=tn(n,Gn));const e=br(n),t=n._freezeSettings(),r=new AA;return WM(e,r,new vR(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function LR(n){if(n._initialized&&!n._terminated)throw new xe(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new vr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!Qs.C())return Promise.resolve();const s=r+"main";yield Qs.delete(s)}),function(r){return t.apply(this,arguments)})(vT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class y1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof nc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function ZM(n,e,t,r={}){var s;const u=(n=tn(n,_v))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Xu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=on.MOCK_USER;else{d=(0,nn.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new xe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new on(w)}n._authCredentials=new gb(new Em(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function UR(n){return function IR(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield kM(n),t=yield RA(n);return e.setNetworkEnabled(!0),function(r){const s=qe(r);return s.mu.delete(0),gv(s)}(t)}))}(br(n=tn(n,Gn)))}(this._delegate)}disableNetwork(){return function BR(n){return function DR(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield kM(n),t=yield RA(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(s){const u=qe(s);u.mu.add(0),yield Km(u),u.pu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(br(n=tn(n,Gn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,UM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function VR(n){return function(e){const t=new vr;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function aR(n,e){return dA.apply(this,arguments)}(yield kA(e),t)})),t.promise}(br(n=tn(n,Gn)))}(this._delegate)}onSnapshotsInSync(e){return function _k(n,e){return function xR(n,e){const t=new cE(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield n_(n),s=t,qe(r).vu.add(s),void s.next();var r,s})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield n_(n),s=t,void qe(r).vu.delete(s);var r,s}))}}(br(n=tn(n,Gn)),VA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new o_(this,zM(this._delegate,e))}catch(t){throw uo(t,"collection()","Firestore.collection()")}}doc(e){try{return new ea(this,fE(this._delegate,e))}catch(t){throw uo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new co(this,function OR(n,e){if(n=tn(n,_v),FA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Di(n,null,(t=e,new Ja(en.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw uo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Ck(n,e,t){n=tn(n,Gn);const r=Object.assign(Object.assign({},vk),t);return function(s){if(s.maxAttempts<1)throw new xe(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,d){const m=new vr;return s.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const w=yield function NM(n){return lE(n).then(e=>e.datastore)}(s);new bR(s.asyncQueue,w,d,u,m).run()})),m.promise}(br(n),s=>e(new wk(n,s)),r)}(this._delegate,t=>e(new v1(this,t)))}batch(){return br(this._delegate),new w1(new p1(this._delegate,e=>i_(this._delegate,e)))}loadBundle(e){return function jR(n,e){const t=br(n=tn(n,Gn)),r=new RR;return function SR(n,e,t,r){const s=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,I){if(w instanceof Uint8Array)return OM(w,I);if(w instanceof ArrayBuffer)return OM(new Uint8Array(w),I);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new wR(w,d);var w}(t,pv(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function yR(n,e,t){const r=qe(n);var s;(s=(0,pe.Z)(function*(u,d,m){try{const w=yield d.getMetadata();if(yield function($,Q){const ae=qe($),Me=Cr(Q.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",Be=>ae.$s.getBundleMetadata(Be,Q.id)).then(Be=>!!Be&&Be.createTime.compareTo(Me)>=0)}(u.localStore,w))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:($=w).totalDocuments,bytesLoaded:$.totalBytes,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}),Promise.resolve(new Set);m._updateProgress(wM(w));const I=new QP(w,u.localStore,d.Tt);let x=yield d.yc();for(;x;){const $=yield I.Bu(x);$&&m._updateProgress($),x=yield d.yc()}const P=yield I.complete();return yield kl(u,P.Uu,void 0),yield function($,Q){const ae=qe($);return ae.persistence.runTransaction("Save bundle","readwrite",Me=>ae.$s.saveBundleMetadata(Me,Q))}(u.localStore,w),m._completeWith(P.progress),Promise.resolve(P.qu)}catch(w){return Xu("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var $}),function(u,d,m){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield kA(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function $R(n,e){return function MR(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const s=qe(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.$s.getNamedQuery(u,r))}(yield dE(n),e)}))}(br(n=tn(n,Gn)),e).then(t=>t?new Di(n,null,t.query):null)}(this._delegate,e).then(t=>t?new co(this,t):null)}}class IE extends zA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dv(new dc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ea.forKey(t,this.firestore,null)}}class v1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new IE(e)}get(e){const t=Dp(e);return this._delegate.get(t).then(r=>new Tv(this._firestore,new Fl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=Dp(e);return r?(qA("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Dp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Dp(e);return this._delegate.delete(t),this}}class w1{constructor(e){this._delegate=e}set(e,t,r){const s=Dp(e);return r?(qA("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Dp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Dp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ip{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Iv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Av(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ip.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Ip(e,new IE(e),t),s.set(t,u)),u}}Ip.INSTANCES=new WeakMap;class ea{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new IE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ea(t,new zn(t._delegate,r,new ze(e)))}static forKey(e,t,r){return new ea(t,new zn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new o_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new o_(this.firestore,zM(this._delegate,e))}catch(t){throw uo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,nn.m9)(e))instanceof zn&&GM(this._delegate,e)}set(e,t){t=qA("DocumentReference.set",t);try{return t?d1(this._delegate,e,t):d1(this._delegate,e)}catch(r){throw uo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?h1(this._delegate,e):h1(this._delegate,e,t,...r)}catch(s){throw uo(s,"updateDoc()","DocumentReference.update()")}}delete(){return function gk(n){return i_(tn(n.firestore,Gn),[new i(n._key,Fn.none())])}(this._delegate)}onSnapshot(...e){const t=C1(e),r=b1(e,s=>new Tv(this.firestore,new Fl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return f1(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function lk(n){n=tn(n,zn);const e=tn(n.firestore,Gn),t=br(e),r=new mh(e);return function TR(n,e){const t=new vr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(s,u,d){try{const m=yield function(w,I){const x=qe(w);return x.persistence.runTransaction("read document","readonly",P=>x.localDocuments.getDocument(P,I))}(s,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new xe(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=Jm(m,`Failed to get document '${u} from cache`);d.reject(w)}}),function(s,u,d){return r.apply(this,arguments)})(yield dE(n),e,t);var r})),t.promise}(t,n._key).then(s=>new Fl(e,r,n._key,s,new Ep(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function dk(n){n=tn(n,zn);const e=tn(n.firestore,Gn);return FM(br(e),n._key,{source:"server"}).then(t=>GA(e,n,t))}(this._delegate):function ck(n){n=tn(n,zn);const e=tn(n.firestore,Gn);return FM(br(e),n._key).then(t=>GA(e,n,t))}(this._delegate),t.then(r=>new Tv(this.firestore,new Fl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ea(this.firestore,this._delegate.withConverter(e?Ip.getInstance(this.firestore,e):null))}}function uo(n,e,t){return n.message=n.message.replace(e,t),n}function C1(n){for(const e of n)if("object"==typeof e&&!WA(e))return e;return{}}function b1(n,e){var t,r;let s;return s=WA(n[0])?n[0]:WA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class Tv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return l1(this._delegate,e._delegate)}}class Av extends Tv{data(e){const t=this._delegate.data(e);return function xD(n,e){n||rt()}(void 0!==t),t}}class co{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new IE(e)}where(e,t,r){try{return new co(this.firestore,ph(this._delegate,function JR(n,e,t){const r=e,s=vE("where",n);return Ev._create(s,r,t)}(e,t,r)))}catch(s){throw uo(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new co(this.firestore,ph(this._delegate,function XR(n,e="asc"){const t=e,r=vE("orderBy",n);return ZA._create(r,t)}(e,t)))}catch(r){throw uo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new co(this.firestore,ph(this._delegate,function ek(n){return $M("limit",n),wE._create("limit",n,"F")}(e)))}catch(t){throw uo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new co(this.firestore,ph(this._delegate,function tk(n){return $M("limitToLast",n),wE._create("limitToLast",n,"L")}(e)))}catch(t){throw uo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new co(this.firestore,ph(this._delegate,function nk(...n){return CE._create("startAt",n,!0)}(...e)))}catch(t){throw uo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new co(this.firestore,ph(this._delegate,function rk(...n){return CE._create("startAfter",n,!1)}(...e)))}catch(t){throw uo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new co(this.firestore,ph(this._delegate,function ik(...n){return bE._create("endBefore",n,!1)}(...e)))}catch(t){throw uo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new co(this.firestore,ph(this._delegate,function ok(...n){return bE._create("endAt",n,!0)}(...e)))}catch(t){throw uo(t,"endAt()","Query.endAt()")}}isEqual(e){return LA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function fk(n){n=tn(n,Di);const e=tn(n.firestore,Gn),t=br(e),r=new mh(e);return function AR(n,e){const t=new vr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(s,u,d){try{const m=yield nE(s,u,!0),w=new EM(u,m.Yi),I=w.Hu(m.documents),x=w.applyChanges(I,!1);d.resolve(x.snapshot)}catch(m){const w=Jm(m,`Failed to execute query '${u} against cache`);d.reject(w)}}),function(s,u,d){return r.apply(this,arguments)})(yield dE(n),e,t);var r})),t.promise}(t,n._query).then(s=>new gh(e,r,n,s))}(this._delegate):"server"===e?.source?function pk(n){n=tn(n,Di);const e=tn(n.firestore,Gn),t=br(e),r=new mh(e);return LM(t,n._query,{source:"server"}).then(s=>new gh(e,r,n,s))}(this._delegate):function hk(n){n=tn(n,Di);const e=tn(n.firestore,Gn),t=br(e),r=new mh(e);return r1(n._query),LM(t,n._query).then(s=>new gh(e,r,n,s))}(this._delegate),t.then(r=>new KA(this.firestore,new gh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=C1(e),r=b1(e,s=>new KA(this.firestore,new gh(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return f1(this._delegate,t,r)}withConverter(e){return new co(this.firestore,this._delegate.withConverter(e?Ip.getInstance(this.firestore,e):null))}}class Pk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Av(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class KA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new co(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Av(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Pk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Av(this._firestore,r))})}isEqual(e){return l1(this._delegate,e._delegate)}}class o_ extends co{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ea(this.firestore,e):null}doc(e){try{return new ea(this.firestore,void 0===e?fE(this._delegate):fE(this._delegate,e))}catch(t){throw uo(t,"doc()","CollectionReference.doc()")}}add(e){return function mk(n,e){const t=tn(n.firestore,Gn),r=fE(n),s=EE(n.converter,e);return i_(t,[mE(Cp(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Fn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ea(this.firestore,t))}isEqual(e){return GM(this._delegate,e._delegate)}withConverter(e){return new o_(this.firestore,this._delegate.withConverter(e?Ip.getInstance(this.firestore,e):null))}}function Dp(n){return tn(n,zn)}class YA{constructor(...e){this._delegate=new Nl(...e)}static documentId(){return new YA(Zn.keyField().canonicalString())}isEqual(e){return(e=(0,nn.m9)(e))instanceof Nl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Tp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Ek(){return new UA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Tp(e)}static delete(){const e=function bk(){return new vv("deleteField")}();return e._methodName="FieldValue.delete",new Tp(e)}static arrayUnion(...e){const t=function Ik(...n){return new qR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Tp(t)}static arrayRemove(...e){const t=function Dk(...n){return new WR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Tp(t)}static increment(e){const t=function Tk(n){return new KR("increment",n)}(e);return t._methodName="FieldValue.increment",new Tp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Rk={Firestore:y1,GeoPoint:pE,Timestamp:Nn,Blob:Dv,Transaction:v1,WriteBatch:w1,DocumentReference:ea,DocumentSnapshot:Tv,Query:co,QueryDocumentSnapshot:Av,QuerySnapshot:KA,CollectionReference:o_,FieldPath:YA,FieldValue:Tp,setLogLevel:function Ok(n){!function Wx(n){Ju.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Nk(n){(function kk(n,e){n.INTERNAL.registerComponent(new Tf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},Rk)))})(n,(e,t)=>new y1(e,t,new Mk)),n.registerVersion("@firebase/firestore-compat","0.3.5")}(ky.Z);var Fk=k(6451),DE=k(5363),Lk=k(6063);class Vk extends ar.x{constructor(e=1/0,t=1/0,r=Lk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!s&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const d=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=d;w+=2)m=w;m&&r.splice(0,m+1)}}}var Uk=k(3099);function E1(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,Uk.B)({connector:()=>new Vk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function I1(n,e){return(0,Nh.m)(e)?Tn(()=>n,e):Tn(()=>n)}var QA=k(9468);k(259);const XA=new Map,T1={activated:!1,tokenObservers:[]},Zk={initialized:!1,enabled:!1};function Ti(n){return XA.get(n)||Object.assign({},T1)}function AE(){return Zk}const ex="https://content-firebaseappcheck.googleapis.com/v1",Wk="exchangeDebugToken",A1={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Yk{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new nn.BH,yield function Qk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new nn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const lo=new nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rx(){return rx=(0,pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const P=yield s.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch(P){throw lo.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==d.status)throw lo.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(P){throw lo.create("fetch-parse-error",{originalErrorMessage:P?.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw lo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const I=1e3*Number(w[1]),x=Date.now();return{token:m.token,expireTimeMillis:x+I,issuedAtTimeMillis:x}}),rx.apply(this,arguments)}const nN="firebase-app-check-database",rN=1,xv="firebase-app-check-store";let ME=null;function ix(){return ix=(0,pe.Z)(function*(n,e){const r=(yield function M1(){return ME||(ME=new Promise((n,e)=>{try{const t=indexedDB.open(nN,rN);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(lo.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xv,{keyPath:"compositeKey"})}}catch(t){e(lo.create("storage-open",{originalErrorMessage:t?.message}))}}),ME)}()).transaction(xv,"readwrite"),u=r.objectStore(xv).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=w=>{d()},r.onerror=w=>{var I;m(lo.create("storage-set",{originalErrorMessage:null===(I=w.target.error)||void 0===I?void 0:I.message}))}})}),ix.apply(this,arguments)}const Sv=new Ha.Yd("@firebase/app-check");function ax(n,e){return(0,nn.hl)()?function oN(n,e){return function O1(n,e){return ix.apply(this,arguments)}(function R1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Sv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function cx(){return cx=(0,pe.Z)(function*(){const n=AE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),cx.apply(this,arguments)}const dN={error:"UNKNOWN_ERROR"};function hN(n){return nn.US.encodeString(JSON.stringify(n),!1)}function OE(n){return lx.apply(this,arguments)}function lx(){return lx=(0,pe.Z)(function*(n,e=!1){const t=n.app;!function x1(n){if(!Ti(n).activated)throw lo.create("use-before-activation",{appName:n.name})}(t);const r=Ti(t);let u,s=r.token;if(s&&!s_(s)&&(r.token=void 0,s=void 0),!s){const w=yield r.cachedTokenPromise;w&&(s_(w)?s=w:yield ax(t,void 0))}if(!e&&s&&s_(s))return{token:s.token};let m,d=!1;if(function k1(){return AE().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function nx(n,e){return rx.apply(this,arguments)}(function tN(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${ex}/projects/${t}/apps/${r}:${Wk}?key=${s}`,body:{debug_token:e}}}(t,yield function N1(){return cx.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const w=yield r.exchangeTokenPromise;return yield ax(t,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),s=yield Ti(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Sv.warn(w.message):Sv.error(w),u=w}return s?u?m=s_(s)?{token:s.token,internalError:u}:V1(u):(m={token:s.token},r.token=s,yield ax(t,s)):m=V1(u),d&&function L1(n,e){const t=Ti(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),lx.apply(this,arguments)}function hx(n,e){const t=Ti(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function F1(n){const{app:e}=n,t=Ti(e);let r=t.tokenRefresher;r||(r=function fN(n){const{app:e}=n;return new Yk((0,pe.Z)(function*(){let r;if(r=Ti(e).token?yield OE(n,!0):yield OE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ti(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},A1.RETRIAL_MIN_WAIT,A1.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function s_(n){return n.expireTimeMillis-Date.now()>0}function V1(n){return{token:hN(dN),error:n}}class pN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ti(this.app);for(const t of e)hx(this.app,t.next);return Promise.resolve()}}const G1="app-check-internal";!function xN(){(0,Wu._registerComponent)(new Tf.wA("app-check",n=>function gN(n,e){return new pN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(G1).initialize()})),(0,Wu._registerComponent)(new Tf.wA(G1,n=>function mN(n){return{getToken:e=>OE(n,e),addTokenListener:e=>function dx(n,e,t,r){const{app:s}=n,u=Ti(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&s_(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),F1(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>F1(n))}(n,"INTERNAL",e),removeTokenListener:e=>hx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wu.registerVersion)("@firebase/app-check","0.6.4")}();class mx{constructor(){return(0,Pr.vb)("app-check")}}typeof window<"u"&&window;var RN=k(9260);const W1=new c.OlP("angularfire2.auth.use-emulator"),K1=new c.OlP("angularfire2.auth.settings"),Y1=new c.OlP("angularfire2.auth.tenant-id"),Q1=new c.OlP("angularfire2.auth.langugage-code"),J1=new c.OlP("angularfire2.auth.use-device-language"),X1=new c.OlP("angularfire.auth.persistence"),eO=(n,e,t,r,s,u,d,m)=>(0,Oo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=s,u&&w.useDeviceLanguage(),d)for(const[I,x]of Object.entries(d))w.settings[I]=x;return m&&w.setPersistence(m),w},[t,r,s,u,d,m]);let tO=(()=>{class n{constructor(t,r,s,u,d,m,w,I,x,P,$,Q){const ae=new ar.x,Me=ut(void 0).pipe((0,DE.Q)(d.outsideAngular),Tn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,8971)))),(0,H.U)(()=>(0,Oo.on)(t,u,r)),(0,H.U)(Be=>eO(Be,u,m,I,x,P,w,$)),E1({bufferSize:1,refCount:!1}));if(nu(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{Me.pipe(Ns()).subscribe();const Ht=Me.pipe(Tn(Zt=>Zt.getRedirectResult().then(Ut=>Ut,()=>null)),Pr.iC,E1({bufferSize:1,refCount:!1})),Jt=Me.pipe(Tn(Zt=>new Hr.y(Ut=>({unsubscribe:u.runOutsideAngular(()=>Zt.onAuthStateChanged(Gt=>Ut.next(Gt),Gt=>Ut.error(Gt),()=>Ut.complete()))})))),Rt=Me.pipe(Tn(Zt=>new Hr.y(Ut=>({unsubscribe:u.runOutsideAngular(()=>Zt.onIdTokenChanged(Gt=>Ut.next(Gt),Gt=>Ut.error(Gt),()=>Ut.complete()))}))));this.authState=Ht.pipe(I1(Jt),(0,QA.R)(d.outsideAngular),(0,DE.Q)(d.insideAngular)),this.user=Ht.pipe(I1(Rt),(0,QA.R)(d.outsideAngular),(0,DE.Q)(d.insideAngular)),this.idToken=this.user.pipe(Tn(Zt=>Zt?(0,cn.D)(Zt.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(Tn(Zt=>Zt?(0,cn.D)(Zt.getIdTokenResult()):ut(null))),this.credential=(0,Fk.T)(Ht,ae,this.authState.pipe(Ci(Zt=>!Zt))).pipe((0,H.U)(Zt=>Zt?.user?Zt:null),(0,QA.R)(d.outsideAngular),(0,DE.Q)(d.insideAngular))}return(0,Oo.pX)(this,Me,u,{spy:{apply:(Be,Ht,Jt)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&Jt.then(Rt=>ae.next(Rt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Oo.Dh),c.LFG(Oo.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Pr.HU),c.LFG(W1,8),c.LFG(K1,8),c.LFG(Y1,8),c.LFG(Q1,8),c.LFG(J1,8),c.LFG(X1,8),c.LFG(mx,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function nO(n,e){return function NN(n,e=tD.z){return new Hr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function yx(n,e){return nO(n,e).pipe((0,H.U)(t=>({payload:t,type:"query"})))}function RE(n,e){return yx(n,e).pipe(Lh(void 0),Bg(),(0,H.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const w=s.find(x=>x.doc.ref.isEqual(d.ref)),I=t?.payload.docs.find(x=>x.ref.isEqual(d.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(d.metadata)||!w&&I&&JSON.stringify(I.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function rO(n,e,t){return RE(n,t).pipe(Pu((r,s)=>function LN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function VN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return vx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return vx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return vx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function jg(n,e=W.y){return n=n??nD,(0,ai.e)((t,r)=>{let s,u=!0;t.subscribe((0,ht.x)(r,d=>{const m=e(d);(u||!n(s,m))&&(u=!1,s=m,r.next(d))}))})}(),(0,H.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function vx(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function iO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class oO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=RE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,H.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Lh(void 0),Bg(),Ci(([r,s])=>s.length>0||!r),(0,H.U)(([r,s])=>s),Pr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Pu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=iO(e);return rO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pr.iC)}valueChanges(e={}){return yx(this.query,this.afs.schedulers.outsideAngular).pipe((0,H.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Pr.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(Pr.iC)}add(e){return this.ref.add(e)}doc(e){return new sO(this.ref.doc(e),this.afs)}}class sO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=cO(r,t);return new oO(s,u,this.afs)}snapshotChanges(){return function FN(n,e){return nO(n,e).pipe(Lh(void 0),Bg(),(0,H.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Pr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,H.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,cn.D)(this.ref.get(e)).pipe(Pr.iC)}}class UN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?RE(this.query,this.afs.schedulers.outsideAngular).pipe((0,H.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ci(t=>t.length>0),Pr.iC):RE(this.query,this.afs.schedulers.outsideAngular).pipe(Pr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Pu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=iO(e);return rO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pr.iC)}valueChanges(e={}){return yx(this.query,this.afs.schedulers.outsideAngular).pipe((0,H.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Pr.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(Pr.iC)}}const aO=new c.OlP("angularfire2.enableFirestorePersistence"),uO=new c.OlP("angularfire2.firestore.persistenceSettings"),BN=new c.OlP("angularfire2.firestore.settings"),jN=new c.OlP("angularfire2.firestore.use-emulator");function cO(n,e=(t=>t)){return{query:e(n),ref:n}}let lO=(()=>{class n{constructor(t,r,s,u,d,m,w,I,x,P,$,Q,ae,Me,Be,Ht,Jt){this.schedulers=w;const Rt=(0,Oo.on)(t,m,r),Zt=x;P&&eO(Rt,m,$,ae,Me,Be,Q,Ht),[this.firestore,this.persistenceEnabled$]=(0,Oo.cc)(`${Rt.name}.firestore`,"AngularFirestore",Rt.name,()=>{const Ut=m.runOutsideAngular(()=>Rt.firestore());if(u&&Ut.settings(u),Zt&&Ut.useEmulator(...Zt),s&&!nu(d)){const Gt=()=>{try{return(0,cn.D)(Ut.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(fi){return typeof console<"u"&&console.warn(fi),ut(!1)}};return[Ut,m.runOutsideAngular(Gt)]}return[Ut,ut(!1)]},[u,Zt,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=cO(s,r),m=this.schedulers.ngZone.run(()=>u);return new oO(m,d,this)}collectionGroup(t,r){const s=r||(d=>d),u=this.firestore.collectionGroup(t);return new UN(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new sO(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Oo.Dh),c.LFG(Oo.xv,8),c.LFG(aO,8),c.LFG(BN,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Pr.HU),c.LFG(uO,8),c.LFG(jN,8),c.LFG(tO,8),c.LFG(W1,8),c.LFG(K1,8),c.LFG(Y1,8),c.LFG(Q1,8),c.LFG(J1,8),c.LFG(X1,8),c.LFG(mx,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$N=(()=>{class n{constructor(){RN.Z.registerVersion("angularfire",Pr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:aO,useValue:!0},{provide:uO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[lO]}),n})();class Ll{constructor(e){this.db=e}getCategories(){return this.db.collection("categories").valueChanges({idField:"id"})}getCategory(e){return this.db.collection("categories").doc(e).valueChanges({idField:"id"})}getProducts(){return this.db.collection("products").valueChanges({idField:"id"})}getProduct(e){return this.db.collection("products").doc(e).valueChanges({idField:"id"})}}function HN(n,e){if(1&n&&(c.TgZ(0,"option",30),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.s9C("value",t),c.xp6(1),c.Oqu(t)}}function ZN(n,e){if(1&n&&(c.TgZ(0,"option",30),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.s9C("value",t),c.xp6(1),c.Oqu(t)}}Ll.\u0275fac=function(e){return new(e||Ll)(c.LFG(lO))},Ll.\u0275prov=c.Yz7({token:Ll,factory:Ll.\u0275fac,providedIn:"root"});class Mv{constructor(e,t){this.route=e,this.databaseService=t}ngOnInit(){this.getRouteParams()}ngOnDestroy(){this.productSubscribe.unsubscribe()}getRouteParams(){this.route.queryParams.subscribe(e=>{e.id&&(this.productSubscribe=this.databaseService.getProduct(e.id).subscribe(t=>{this.product=t}))})}}Mv.\u0275fac=function(e){return new(e||Mv)(c.Y36(rr),c.Y36(Ll))},Mv.\u0275cmp=c.Xpm({type:Mv,selectors:[["app-product"]],decls:45,vars:7,consts:[[1,"product"],[1,"product_container"],[1,"product_position"],["routerLink","/products",1,"category_products"],[1,"category_product_name"],[1,"product_main"],[1,"product_main_upper"],[1,"product_img",3,"src"],[1,"product_options"],[1,"product_options_up"],[1,"product_options_name"],[1,"product_options_price"],[1,"product_main_lower"],[1,"product_main_description"],[1,"product_options_list"],[1,"product_options_list_option","option_first"],["for","atributes_size"],[1,"select-css"],[3,"value",4,"ngFor","ngForOf"],[1,"product_options_list_option","option_second"],["for","atributes_color"],[1,"product_options_list_option","option_third"],["for","atributes_amount"],["value","1"],["value","2"],["value","3"],[1,"product_options_buttons"],["type","submit","value","\u0414\u041e\u0411\u0410\u0412\u0418\u0422\u042c \u0412 \u041a\u041e\u0420\u0417\u0418\u041d\u0423",1,"buy_button"],["href","#",1,"like_button_trigger"],["src","assets/img/profile.png",1,"like_button"],[3,"value"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"p",2)(3,"span",3),c._uU(4,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),c.qZA(),c._uU(5," / "),c.TgZ(6,"span",4),c._uU(7),c.qZA()(),c.TgZ(8,"div",5)(9,"div",6),c._UZ(10,"img",7),c.TgZ(11,"div",8)(12,"div",9)(13,"p",10),c._uU(14),c.qZA()(),c.TgZ(15,"p",11),c._uU(16),c.qZA(),c.TgZ(17,"div",12)(18,"p",13),c._uU(19),c.qZA()(),c.TgZ(20,"div",14)(21,"div",15)(22,"label",16),c._uU(23,"\u0420\u0430\u0437\u043c\u0435\u0440: "),c.qZA(),c.TgZ(24,"select",17),c.YNc(25,HN,2,2,"option",18),c.qZA()(),c.TgZ(26,"div",19)(27,"label",20),c._uU(28,"\u0426\u0432\u0435\u0442: "),c.qZA(),c.TgZ(29,"select",17),c.YNc(30,ZN,2,2,"option",18),c.qZA()(),c.TgZ(31,"div",21)(32,"label",22),c._uU(33,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: "),c.qZA(),c.TgZ(34,"select",17)(35,"option",23),c._uU(36,"1"),c.qZA(),c.TgZ(37,"option",24),c._uU(38,"2"),c.qZA(),c.TgZ(39,"option",25),c._uU(40,"3"),c.qZA()()()(),c.TgZ(41,"div",26),c._UZ(42,"input",27),c.TgZ(43,"a",28),c._UZ(44,"img",29),c.qZA()()()()()()()),2&e&&(c.xp6(7),c.Oqu(null==t.product?null:t.product.name),c.xp6(3),c.s9C("src",null==t.product?null:t.product.image,c.LSH),c.xp6(4),c.Oqu(null==t.product?null:t.product.name),c.xp6(2),c.hij("",null==t.product?null:t.product.price," \u0440\u0443\u0431."),c.xp6(3),c.Oqu(null==t.product?null:t.product.description),c.xp6(6),c.Q6J("ngForOf",null==t.product?null:t.product.size),c.xp6(5),c.Q6J("ngForOf",null==t.product?null:t.product.color))},dependencies:[Fr,Lu,xy,nC],styles:['.category_product_name[_ngcontent-%COMP%]{color:#3f67cc}.left_indent[_ngcontent-%COMP%]{padding-left:2%}.product[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;background-color:#fff;width:100%;transition:.8s}.product_container[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:300;font-size:16px;line-height:20px;text-align:center;color:#a4a4a4;margin:0 auto;padding-top:15%;padding-bottom:5%}.product_main[_ngcontent-%COMP%]{position:relative;display:flex;margin:3% auto 0;width:95%;border:2px solid #333;border-radius:15px;transition:.6s}.product_main[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.product_main[_ngcontent-%COMP%]:hover{background-color:#3f67cc;border:2px solid rgb(63,103,204);outline:3px solid rgb(63,103,204)}.product_main[_ngcontent-%COMP%]:hover   .product_options[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .product_main[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{color:#fff}.product_main_upper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 auto;width:100%;height:100%;padding:2%;gap:2%}.product_img[_ngcontent-%COMP%]{width:535px;height:529px;border:1px solid #333;transition:.6s}.product_img[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.product_position[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:32px;padding-bottom:5%;color:#333;transition:.6s}.category_products[_ngcontent-%COMP%]{position:relative;cursor:pointer}.category_products[_ngcontent-%COMP%]:after{display:block;position:absolute;top:35px;left:0;width:0;height:2px;background-color:#3f67cc;content:"";transition:width .3s ease-out}.category_products[_ngcontent-%COMP%]:hover:after, .category_products[_ngcontent-%COMP%]:focus:after{width:100%}.category_products[_ngcontent-%COMP%]:hover{color:#3f67cc}.category_products_type_of_product[_ngcontent-%COMP%]{position:relative;cursor:pointer}.category_product_name[_ngcontent-%COMP%]{position:relative;cursor:pointer}.category_product_name[_ngcontent-%COMP%]:after{display:block;position:absolute;top:35px;left:0;width:0;height:2px;background-color:#3f67cc;content:"";transition:width .3s ease-out}.category_product_name[_ngcontent-%COMP%]:hover:after, .category_product_name[_ngcontent-%COMP%]:focus:after{width:100%}.category_products_type_of_product[_ngcontent-%COMP%]{position:relative}.category_products_type_of_product[_ngcontent-%COMP%]:after{display:block;position:absolute;top:35px;left:0;width:0;height:2px;background-color:#3f67cc;content:"";transition:width .3s ease-out}.category_products_type_of_product[_ngcontent-%COMP%]:hover:after, .category_products_type_of_product[_ngcontent-%COMP%]:focus:after{width:100%}.category_products_type_of_product[_ngcontent-%COMP%]:hover{color:#3f67cc}.product_options[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:flex-start;margin:0 auto}.product_options_up[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.product_options_name[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:64px;line-height:58px;text-align:left;color:#333}.product_options_type[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:24px;line-height:29px;color:#333;text-align:left}.product_options_list[_ngcontent-%COMP%]{display:flex;gap:5%;flex-wrap:wrap;width:100%}.product_options_list_option[_ngcontent-%COMP%]{display:flex;gap:4%;padding-top:1%;padding-bottom:1%}.product_options_price[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;position:relative;font-weight:600;font-size:28px;line-height:59px;text-align:center;color:#3f67cc}.product_options_price[_ngcontent-%COMP%]:after{display:block;position:absolute;top:45px;left:0;width:0;height:2px;background-color:#fff;content:"";transition:width .3s ease-out}.product_options_price[_ngcontent-%COMP%]:hover:after, .product_options_price[_ngcontent-%COMP%]:focus:after{width:100%}label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:20px;line-height:24px;text-align:center;white-space:nowrap;color:#333}.product_options_buttons[_ngcontent-%COMP%]{display:flex;gap:15%}.buy_button[_ngcontent-%COMP%]{display:block;font-family:Inter;position:relative;font-style:normal;font-weight:700;font-size:18px;line-height:22px;text-decoration:none;line-height:52px;color:#333;width:280px;height:60px;border:2px solid #333;transition:.5s}.buy_button[_ngcontent-%COMP%]:after{display:block;position:absolute;top:45px;left:50%;width:0;height:2px;background-color:#fff;content:"";transition:width .3s ease-out}.buy_button[_ngcontent-%COMP%]:hover:after, .buy_button[_ngcontent-%COMP%]:focus:after{width:100%}.buy_button[_ngcontent-%COMP%]:hover{background-color:#fff;border:2px solid #fff;color:#3f67cc}.like_button[_ngcontent-%COMP%]{width:50px;height:50px;align-self:center;transition:.6s}.like_button[_ngcontent-%COMP%]:hover{background-color:#fff;border-radius:25px}.like_button_trigger[_ngcontent-%COMP%]{display:flex}.product_main_lower[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:left;width:95%}.product_main_description_title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:36px;line-height:44px;color:#f0f0f0}.product_main_description[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:20px;line-height:29px;color:#333;width:100%}.select-css[_ngcontent-%COMP%]{display:block;font-size:16px;font-family:sans-serif;font-weight:700;color:#444;line-height:1.3;padding:.6em 1.4em .5em .8em;width:100px;max-width:100%;box-sizing:border-box;margin-top:-5px;border:1px solid #aaa;box-shadow:0 1px 0 1px #0000000a;border-radius:.5em;-webkit-appearance:none;appearance:none;background-color:#fff;background-image:url(data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E),linear-gradient(to bottom,#ffffff 0%,#e5e5e5 100%);background-repeat:no-repeat,repeat;background-position:right .7em top 50%,0 0;background-size:.65em auto,100%;transition:.6s}.select-css[_ngcontent-%COMP%]::-ms-expand{display:none}.select-css[_ngcontent-%COMP%]:hover{border-color:#333}.select-css[_ngcontent-%COMP%]:focus{border-color:#333;box-shadow:0 0 1px 3px #0000000a;box-shadow:0 0 0 3px -moz-mac-focusring;color:#333;outline:none}.select-css[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:400}*[dir=rtl][_ngcontent-%COMP%]   .select-css[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root:lang(ar)   .select-css[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root:lang(iw)   .select-css[_ngcontent-%COMP%]{background-position:left .7em top 50%,0 0;padding:.6em .8em .5em 1.4em}@media screen and (max-width: 960px){.product_container[_ngcontent-%COMP%]{margin-top:50px}.product_position[_ngcontent-%COMP%]{margin:0 auto}.product_img[_ngcontent-%COMP%]{align-self:center;width:97%;height:100%}.product_options_name[_ngcontent-%COMP%]{font-size:36px}.product_main_upper[_ngcontent-%COMP%]{flex-direction:column;gap:0}.product_options[_ngcontent-%COMP%]{width:95%;margin:0 auto}.product_options_list[_ngcontent-%COMP%]{padding-top:25px;padding-bottom:25px;flex-wrap:wrap;gap:25px}.product_options_buttons[_ngcontent-%COMP%]{padding-bottom:25px}option[_ngcontent-%COMP%]{height:20px;width:50px}}@media screen and (max-width: 570px){.product_container[_ngcontent-%COMP%]{margin-top:150px}.product_img[_ngcontent-%COMP%]{align-self:center}}']});const zN=function(){return["/products"]},GN=function(n){return{category:n}};function qN(n,e){if(1&n&&(c.TgZ(0,"li")(1,"span",20),c._uU(2),c.qZA()()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("routerLink",c.DdM(3,zN))("queryParams",c.VKq(4,GN,t.id)),c.xp6(1),c.Oqu(t.name)}}function WN(n,e){if(1&n&&(c.TgZ(0,"span",2),c._uU(1),c.ALo(2,"slice"),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(c.Dn7(2,1,null==t.category?null:t.category.name,0,1))}}function KN(n,e){1&n&&(c.TgZ(0,"p",8)(1,"span",2),c._uU(2,"\u0412\u0441\u0435"),c.qZA(),c._uU(3," \u0442\u043e\u0432\u0430\u0440\u044b"),c.qZA())}const YN=function(){return["/product"]},QN=function(n){return{id:n}};function JN(n,e){if(1&n&&(c.TgZ(0,"div",21)(1,"div",22),c._UZ(2,"span",23)(3,"img",24),c.TgZ(4,"span",25),c._uU(5,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043f\u0440\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442"),c.qZA()(),c.TgZ(6,"p",26),c._uU(7),c.qZA(),c.TgZ(8,"p",27),c._uU(9),c.qZA()()),2&n){const t=e.$implicit;c.xp6(3),c.s9C("src",t.image,c.LSH),c.xp6(1),c.Q6J("routerLink",c.DdM(5,YN))("queryParams",c.VKq(6,QN,t.id)),c.xp6(3),c.Oqu(t.name),c.xp6(2),c.hij("",t.price," \u0440\u0443\u0431.")}}class Ov{constructor(e,t){this.route=e,this.databaseService=t,this.categories=[],this.products=[]}ngOnInit(){this.getAllCategories(),this.getRouteParams()}ngOnDestroy(){this.categorySubscribe.unsubscribe(),this.productsSubscribe.unsubscribe()}getRouteParams(){this.route.queryParams.subscribe(e=>{e.category?this.categorySubscribe=this.databaseService.getCategory(e.category).subscribe(t=>{this.category=t,this.getProducts()}):this.getProducts()})}getProducts(){this.productsSubscribe=this.databaseService.getProducts().subscribe(e=>{this.category?.id?this.findCategory(e):this.products=e,this.findCategory(e)})}findCategory(e){this.products=e.reduce((t,r)=>(r.category===this.category.id&&t.push(r),t),[])}getAllCategories(){this.categorySubscribe=this.databaseService.getCategories().subscribe(e=>{this.categories=e})}}Ov.\u0275fac=function(e){return new(e||Ov)(c.Y36(rr),c.Y36(Ll))},Ov.\u0275cmp=c.Xpm({type:Ov,selectors:[["app-products"]],decls:28,vars:8,consts:[[1,"products"],[1,"sign_logo"],[1,"blue_text"],[1,"header_line"],[4,"ngFor","ngForOf"],[1,"products_catalog"],[1,"products_menu"],[1,"catalog_menu_text"],[1,"catalog_menu_upper_text"],["class","blue_text",4,"ngIf"],["class","catalog_menu_upper_text",4,"ngIf"],[1,"catalog_menu_lower_text"],[1,"catalog_sorted"],[1,"catalog_sorted_first"],[1,"block_search"],["href","#",1,"search_btn"],["src","assets/img/search_grey.png","alt","search"],["placeholder","\u041f\u043e\u0438\u0441\u043a","type","text","name","","id","",1,"search_txt"],[1,"products_goods"],["class","products_goods_example",4,"ngFor","ngForOf"],[3,"routerLink","queryParams"],[1,"products_goods_example"],[1,"products_img"],[1,"filter"],[1,"image",3,"src"],[1,"get_more_sign",3,"routerLink","queryParams"],[1,"products_goods_upper_text"],[1,"products_goods_lower_text"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h1"),c._uU(3,"\u041d\u0430\u0448 "),c.TgZ(4,"span",2),c._uU(5,"\u043c\u0430\u0433\u0430\u0437\u0438\u043d"),c.qZA(),c._uU(6," \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e \u043f\u043e\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f!"),c.qZA()(),c.TgZ(7,"div",3)(8,"ul"),c.YNc(9,qN,3,6,"li",4),c.qZA()(),c.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"p",8),c.YNc(14,WN,3,5,"span",9),c._uU(15),c.ALo(16,"slice"),c.qZA(),c.YNc(17,KN,4,0,"p",10),c.TgZ(18,"p",11),c._uU(19,"\u041b\u044e\u0431\u044b\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u044b \u0438 \u0444\u043e\u0440\u043c\u044b"),c.qZA()(),c.TgZ(20,"div",12),c._UZ(21,"div",13),c.TgZ(22,"div",14)(23,"a",15),c._UZ(24,"img",16),c.qZA(),c._UZ(25,"input",17),c.qZA()()(),c.TgZ(26,"div",18),c.YNc(27,JN,10,8,"div",19),c.qZA()()()),2&e&&(c.xp6(9),c.Q6J("ngForOf",t.categories),c.xp6(5),c.Q6J("ngIf",null==t.category?null:t.category.name),c.xp6(1),c.Oqu(c.xi3(16,5,null==t.category?null:t.category.name,1)),c.xp6(2),c.Q6J("ngIf",!(null!=t.category&&t.category.name)),c.xp6(10),c.Q6J("ngForOf",t.products))},dependencies:[Fr,xi,Lu,ii],styles:[".blue_text[_ngcontent-%COMP%]{color:#3f67cc}.products[_ngcontent-%COMP%]{position:relative;background-color:#fff;width:100%}.products_catalog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:95%;margin:0 auto}.products_menu[_ngcontent-%COMP%]{width:90%;margin:0 auto;display:flex}.catalog_menu[_ngcontent-%COMP%]{display:flex;flex-direction:column}.catalog_menu_text[_ngcontent-%COMP%]{width:80%;margin:0 auto}.catalog_menu_upper_text[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:48px;line-height:59px;color:#333}.catalog_menu_lower_text[_ngcontent-%COMP%]{font-family:Montserrat Alternates;white-space:nowrap;font-style:normal;font-weight:300;font-size:32px;line-height:39px;color:#333}.catalog_sorted[_ngcontent-%COMP%]{display:flex;gap:25px}.catalog_sorted_first[_ngcontent-%COMP%], .catalog_sorted_second[_ngcontent-%COMP%]{display:flex;gap:15px}label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:20px;line-height:24px;text-align:center;white-space:nowrap;color:#fff}.second_wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:50px;height:30px}.second_skew[_ngcontent-%COMP%]{width:63.5px;height:30px}.image[_ngcontent-%COMP%]{width:280px;height:341px}.products_goods[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-top:100px;justify-content:center;margin:0 auto;width:90%}.products_goods_example[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:25%;max-width:25%;padding-bottom:10%}.products_goods_upper_text[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;text-align:left;font-weight:300;font-size:20px;line-height:24px;color:#333}.products_goods_lower_text[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;text-align:left;font-weight:700;font-size:24px;line-height:29px;color:#333}.products_list[_ngcontent-%COMP%]{display:flex;margin:0 auto;align-items:center;justify-content:center;padding-bottom:50px;gap:25px}.arrow_list_left[_ngcontent-%COMP%]{background-image:url(/assets/img/arrow_list_left.png);background-repeat:no-repeat;width:13px;height:24px;align-self:center}.arrow_list_right[_ngcontent-%COMP%]{background-image:url(/assets/img/arrow_list_right.png);background-repeat:no-repeat;width:13px;height:24px;align-self:center}.header_line[_ngcontent-%COMP%]{width:100%;padding-bottom:20px;display:flex;align-items:center;justify-content:center}ul[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:97%}li[_ngcontent-%COMP%]{list-style:none;width:15%;height:50px;display:flex;align-items:center;justify-content:center;transition:.6s}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;width:120px;text-align:center;line-height:1;cursor:pointer;text-decoration:none;color:#333;transition:.6s}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{display:block;position:absolute;top:25px;left:0;width:0;height:2px;background-color:rgb(18,37,146) rgb(63,103,204);transition:width .3s ease-out}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover:after, li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:focus:after{width:100%}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#3f67cc}.sign_logo[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(255,255,255,.384),rgba(255,255,255,.384)),url(/assets/img/casual_clothes_row.jpg);background-repeat:no-repeat;background-position:center center;background-size:100%;height:750px;width:100%;margin:50px auto 5%;transition:.6s;display:flex;flex-direction:column;align-items:center;gap:40px;padding-top:10%}.sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:542px;height:234px;font-family:Montserrat;font-style:normal;font-weight:800;font-size:82px;line-height:95%;text-transform:uppercase;color:#333}.products_img[_ngcontent-%COMP%]{position:relative;cursor:pointer;display:inline-block;transition:.6s}.filter[_ngcontent-%COMP%]{visibility:hidden;background-color:transparent;transition:.6s}.products_img[_ngcontent-%COMP%]:hover   .filter[_ngcontent-%COMP%]{visibility:visible;top:0;left:0;z-index:1;width:280px;height:341px;position:absolute;background-color:#2e2cb84a}.products_img[_ngcontent-%COMP%]:hover   .get_more_sign[_ngcontent-%COMP%]{opacity:1;color:#fff}.get_more_sign[_ngcontent-%COMP%]{opacity:0;position:absolute;font-family:Montserrat;font-style:normal;font-weight:400;font-size:15px;border:1px solid rgb(255,255,255);border-radius:25px;background-color:transparent;width:200px;height:50px;text-align:center;padding-top:15px;z-index:2;bottom:40px;left:40px;transition:.6s}.get_more_sign[_ngcontent-%COMP%]:hover{background-color:#3f67cc;border:1px solid rgb(63,103,204)}.block_search[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-content:center;align-items:center;border:1px solid #333;border-radius:15px;width:225px;height:30px;margin:5%}.block_search[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.search_btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.search_txt[_ngcontent-%COMP%]{border:none;outline:none;background:none;color:#3f67cc;font-family:Inter;font-style:normal;font-weight:400;font-size:12px;line-height:15px}input[type=text][_ngcontent-%COMP%]::-webkit-input-placeholder{color:#3f67cc;font-weight:700}@media screen and (max-width: 960px){.sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}.sign_logo[_ngcontent-%COMP%]{height:auto;padding-top:15%}.products_goods_example[_ngcontent-%COMP%]{flex:50%;max-width:50%;align-items:center}.products_goods_upper_text[_ngcontent-%COMP%]{text-align:center}}@media screen and (max-width: 570px){.sign_logo[_ngcontent-%COMP%]{background-size:cover;padding-top:200px}.sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;height:auto;width:auto;text-align:center;padding-bottom:150px}.sign_text[_ngcontent-%COMP%]{text-align:center;font-family:Montserrat;font-style:normal;font-weight:400;font-size:24px;line-height:29px;color:#333;width:auto;margin-bottom:25px}.header_line[_ngcontent-%COMP%]{width:95%;margin:0 auto}.header_line[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{gap:25px;flex-wrap:wrap;flex:33%}.header_line[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){margin-left:20px;margin-right:15px}.catalog_menu_text[_ngcontent-%COMP%]{width:100%;text-align:center}.catalog_sorted[_ngcontent-%COMP%]{justify-content:center}.products_menu[_ngcontent-%COMP%]{width:95%;flex-direction:column}.products_goods_example[_ngcontent-%COMP%]{flex:100%;max-width:100%}}"]});class Pv{}function XN(n,e){if(1&n&&(c.TgZ(0,"div",34),c._uU(1," *\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0438\u043c\u044f "),c.qZA()),2&n){c.oxw();const t=c.MAs(14);c.Q6J("hidden",t.valid||t.untouched)}}function e4(n,e){if(1&n&&(c.TgZ(0,"div",34),c._uU(1," *\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email "),c.qZA()),2&n){c.oxw();const t=c.MAs(18);c.Q6J("hidden",t.valid||t.untouched)}}function t4(n,e){if(1&n&&(c.TgZ(0,"div",34),c._uU(1," *\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0432 12-\u0437\u043d\u0430\u0447\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435 "),c.qZA()),2&n){c.oxw();const t=c.MAs(22);c.Q6J("hidden",t.valid||t.untouched)}}Pv.\u0275fac=function(e){return new(e||Pv)},Pv.\u0275cmp=c.Xpm({type:Pv,selectors:[["app-profile"]],decls:77,vars:0,consts:[[1,"profile"],[1,"profile_roof"],[1,"profile_sign"],["href","#","routerLink","/enter",1,"profile_exit"],[1,"profile_main"],[1,"profile_history"],[1,"profile_title_history"],[1,"profile_title_sign"],[1,"history_items"],[1,"history_item"],["src","assets/img/black_la_hat.jpg",1,"item_img"],[1,"item_info"],[1,"item_name"],[1,"item_price"],[1,"position_cancel"],["href","#"],["src","assets/img/cross.png"],[1,"profile_title_favors"],[1,"profile_title_sign_centralised"],[1,"profile_items"],[1,"profile_item"],["src","assets/img/black_stylish_sunglasses.jpg",1,"item_img"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"p",2),c._uU(3,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),c.qZA(),c.TgZ(4,"a",3),c._uU(5,"\u0412\u044b\u0439\u0442\u0438"),c.qZA()(),c.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"p",7),c._uU(10,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"),c.qZA()(),c.TgZ(11,"div",8)(12,"div",9),c._UZ(13,"img",10),c.TgZ(14,"div",11)(15,"p",12),c._uU(16,"\u0411\u0435\u0439\u0441\u0431\u043e\u043b\u043a\u0430 LA"),c.qZA(),c.TgZ(17,"p",13),c._uU(18,"61 \u0440\u0443\u0431."),c.qZA(),c.TgZ(19,"div",14)(20,"a",15),c._UZ(21,"img",16),c.qZA()()()(),c.TgZ(22,"div",9),c._UZ(23,"img",10),c.TgZ(24,"div",11)(25,"p",12),c._uU(26,"\u0411\u0435\u0439\u0441\u0431\u043e\u043b\u043a\u0430 LA"),c.qZA(),c.TgZ(27,"p",13),c._uU(28,"61 \u0440\u0443\u0431."),c.qZA(),c.TgZ(29,"div",14)(30,"a",15),c._UZ(31,"img",16),c.qZA()()()(),c.TgZ(32,"div",9),c._UZ(33,"img",10),c.TgZ(34,"div",11)(35,"p",12),c._uU(36,"\u0411\u0435\u0439\u0441\u0431\u043e\u043b\u043a\u0430 LA"),c.qZA(),c.TgZ(37,"p",13),c._uU(38,"61 \u0440\u0443\u0431."),c.qZA(),c.TgZ(39,"div",14)(40,"a",15),c._UZ(41,"img",16),c.qZA()()()()()(),c.TgZ(42,"div",5)(43,"div",17)(44,"p",18),c._uU(45,"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),c.qZA()(),c.TgZ(46,"div",19)(47,"div",20),c._UZ(48,"img",21),c.TgZ(49,"div",11)(50,"p",12),c._uU(51,"\u0421\u043e\u043b\u043d\u0446\u0435\u0437\u0430\u0449\u0438\u0442\u043d\u044b\u0435 \u043e\u0447\u043a\u0438 \u043c\u0443\u0436\u0441\u043a\u0438\u0435"),c.qZA(),c.TgZ(52,"p",13),c._uU(53,"40 \u0440\u0443\u0431."),c.qZA(),c.TgZ(54,"div",14)(55,"a",15),c._UZ(56,"img",16),c.qZA()()()(),c.TgZ(57,"div",20),c._UZ(58,"img",21),c.TgZ(59,"div",11)(60,"p",12),c._uU(61,"\u0421\u043e\u043b\u043d\u0446\u0435\u0437\u0430\u0449\u0438\u0442\u043d\u044b\u0435 \u043e\u0447\u043a\u0438 \u043c\u0443\u0436\u0441\u043a\u0438\u0435"),c.qZA(),c.TgZ(62,"p",13),c._uU(63,"40 \u0440\u0443\u0431."),c.qZA(),c.TgZ(64,"div",14)(65,"a",15),c._UZ(66,"img",16),c.qZA()()()(),c.TgZ(67,"div",20),c._UZ(68,"img",21),c.TgZ(69,"div",11)(70,"p",12),c._uU(71,"\u0421\u043e\u043b\u043d\u0446\u0435\u0437\u0430\u0449\u0438\u0442\u043d\u044b\u0435 \u043e\u0447\u043a\u0438 \u043c\u0443\u0436\u0441\u043a\u0438\u0435"),c.qZA(),c.TgZ(72,"p",13),c._uU(73,"40 \u0440\u0443\u0431."),c.qZA(),c.TgZ(74,"div",14)(75,"a",15),c._UZ(76,"img",16),c.qZA()()()()()()()())},styles:['.profile[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;width:100%}.profile_roof[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto}.profile_sign[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:36px;line-height:44px;color:#333;padding-top:15%;padding-bottom:15%}.profile_exit[_ngcontent-%COMP%]{font-family:Montserrat Alternates;font-style:normal;position:relative;font-weight:400;font-size:24px;line-height:29px;color:#333;margin:0 auto;text-decoration:none;transition:.5s}.profile_exit[_ngcontent-%COMP%]:after{display:block;position:absolute;top:35px;left:0;width:0;height:2px;background-color:#3f67cc;content:"";transition:width .3s ease-out}.profile_exit[_ngcontent-%COMP%]:hover:after, .profile_exit[_ngcontent-%COMP%]:focus:after{width:100%}.profile_exit[_ngcontent-%COMP%]:hover{color:#3f67cc}.profile_main[_ngcontent-%COMP%]{display:flex;width:90%;margin:0 auto;padding-top:5%}.profile_history[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:80%}.profile_title_history[_ngcontent-%COMP%], .profile_title_favors[_ngcontent-%COMP%]{width:365px;height:63px;background:#fff;box-shadow:0 4px 4px #00000040;border-radius:25px;justify-content:center;margin:0 auto;transition:.6s}.profile_title_sign[_ngcontent-%COMP%]{font-family:Montserrat Alternates;font-style:normal;font-weight:500;font-size:24px;line-height:29px;padding-left:25%;padding-top:4%;color:#333;transition:.6s}.profile_title_sign_centralised[_ngcontent-%COMP%]{font-family:Montserrat Alternates;font-style:normal;font-weight:500;font-size:24px;line-height:29px;padding-left:35%;padding-top:4%;color:#333;transition:.6s}.history_item[_ngcontent-%COMP%], .profile_item[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;transition:.5s;width:500px;height:100%;padding:5px}.history_items[_ngcontent-%COMP%], .profile_items[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto;transition:.5s;padding-top:10%;padding-bottom:15%;gap:80px;opacity:.5}.position_cancel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14.5px;height:14.5px;transform:rotate(90deg)}.position_cancel[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;background:rgb(63,103,204);border-radius:20px;right:-10px;margin-top:60px;padding-top:12.8px;padding-left:13px;visibility:hidden;transition:.5s}.item_img[_ngcontent-%COMP%]{width:164px;height:163px}.item_info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.item_name[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:32px;line-height:39px;color:#333;padding-top:5%}.item_type[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:20px;line-height:24px;color:#333;text-align:left;white-space:nowrap}.item_price[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:32px;line-height:39px;color:#3f67cc;padding-top:6%;text-align:center}.profile_title_history[_ngcontent-%COMP%]:hover{background-color:#3f67cc}.profile_title_history[_ngcontent-%COMP%]:hover   .profile_title_sign[_ngcontent-%COMP%]{color:#fff}.history_items[_ngcontent-%COMP%]:hover{opacity:1}.profile_title_favors[_ngcontent-%COMP%]:hover{background-color:#3f67cc}.profile_title_favors[_ngcontent-%COMP%]:hover   .profile_title_sign_centralised[_ngcontent-%COMP%]{color:#fff}.profile_items[_ngcontent-%COMP%]:hover{opacity:1}.history_item[_ngcontent-%COMP%]:hover{background-color:#3f67cc;box-shadow:0 4px 4px #00000040}.history_item[_ngcontent-%COMP%]:hover   .item_name[_ngcontent-%COMP%], .history_item[_ngcontent-%COMP%]:hover   .item_type[_ngcontent-%COMP%]{color:#fff}.history_item[_ngcontent-%COMP%]:hover   .item_price[_ngcontent-%COMP%]{color:#000}.history_item[_ngcontent-%COMP%]:hover   .position_cancel[_ngcontent-%COMP%]{visibility:visible}.profile_item[_ngcontent-%COMP%]:hover{background-color:#3f67cc;box-shadow:0 4px 4px #00000040}.profile_item[_ngcontent-%COMP%]:hover   .item_name[_ngcontent-%COMP%], .profile_item[_ngcontent-%COMP%]:hover   .item_type[_ngcontent-%COMP%]{color:#fff}.profile_item[_ngcontent-%COMP%]:hover   .item_price[_ngcontent-%COMP%]{color:#000}.profile_item[_ngcontent-%COMP%]:hover   .position_cancel[_ngcontent-%COMP%]{visibility:visible}@media screen and (max-width: 960px){.profile_main[_ngcontent-%COMP%]{display:flex;flex-direction:column}.profile_history[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 570px){.history_item[_ngcontent-%COMP%], .profile_item[_ngcontent-%COMP%]{justify-content:left;width:100%;padding:10px}.history_items[_ngcontent-%COMP%]{width:100%}.item_name[_ngcontent-%COMP%]{font-size:20px}.profile_items[_ngcontent-%COMP%]{width:100%}}']});const n4=function(n,e){return{"status-success":n,"status-error":e}};function r4(n,e){if(1&n&&(c.TgZ(0,"div",35)(1,"p",36),c._uU(2),c.qZA()()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngClass",c.WLB(2,n4,!0===t.messageStatus,!1===t.messageStatus)),c.xp6(1),c.hij(" ",t.messageSubmit," ")}}class Rv{constructor(){this.messageSubmit="",this.messageStatus=!1,this.contactForm={name:"",email:"",phone:"",message:""},this.visibility=!1}onSubmit(){this.contactForm.name&&this.contactForm.email&&this.contactForm.phone?(this.messageStatus=!0,this.visibility=!0,this.messageSubmit="\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e!",Object.keys(this.contactForm).forEach(e=>this.contactForm[e]="")):(this.messageSubmit="\u041f\u043e\u043b\u044f \u0444\u043e\u0440\u043c\u044b \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e!",this.visibility=!0,this.messageStatus=!1)}}Rv.\u0275fac=function(e){return new(e||Rv)},Rv.\u0275cmp=c.Xpm({type:Rv,selectors:[["app-contacts"]],decls:57,vars:8,consts:[[1,"contacts"],[1,"sign_logo"],[1,"blue_text"],[1,"sign_text"],["id","contacts",1,"contacts_field"],[1,"contacts_field_left_part"],[1,"contacts_field_inputs"],[1,"contacts__input"],["name","name","required","","type","text","placeholder","\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert",3,"hidden",4,"ngIf"],["type","email","name","Email","placeholder","Email","required","","pattern","^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,6}$",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["type","phone","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","name","phone","required","","pattern","[0-9]{12}",1,"form-control",3,"ngModel","ngModelChange"],["phone","ngModel"],["type","text","placeholder","\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","name","message","placeholder","\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","max","200",1,"form-control",3,"ngModel","ngModelChange"],["message","ngModel"],["class","alert alert-success","role","alert",4,"ngIf"],["type","submit","value","\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u043d\u0430\u043c\u0438",1,"sign_catalog","submit_button",3,"click"],[1,"social_network_home"],["href","https://www.instagram.com/artukhovskiy/"],["src","assets/img/instagram_new.png","alt","social"],["href","https://vk.com/id84353596"],["src","assets/img/vk.png","alt","social"],[1,"contacts_field_right_part"],[1,"contacts_field_block"],["src","assets/img/location_new.png","alt","social"],[1,"contacts_field_text"],[1,"contacts_field_upper_text"],[1,"contacts_field_lower_text"],["src","assets/img/telephone.png","alt","social"],[1,"contacts_field_lower_text_blue"],["src","assets/img/mail.png","alt","social"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2003.9220045591112!2d37.41079786002719!3d55.68331233629306!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x46b54e0d45323bd5%3A0xda6c23026165b2da!2z0JfQsNGA0LXRh9GM0LUsINCc0L7RgdC60L7QstGB0LrQsNGPINC-0LHQuy4!5e0!3m2!1sru!2sru!4v1594646576788!5m2!1sru!2sru","frameborder","0","allowfullscreen","","aria-hidden","false","tabindex","0",1,"map"],[1,"alert",3,"hidden"],["role","alert",1,"alert","alert-success"],[3,"ngClass"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h1"),c._uU(3,"\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 "),c.TgZ(4,"span",2),c._uU(5,"\u043d\u0430\u043c\u0438"),c.qZA(),c._uU(6," -"),c.qZA(),c.TgZ(7,"p",3),c._uU(8,"\u043b\u0435\u0433\u043a\u043e \u0438 \u043f\u0440\u043e\u0441\u0442\u043e. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435!"),c.qZA()(),c.TgZ(9,"div",4)(10,"div",5)(11,"div",6)(12,"div",7)(13,"input",8,9),c.NdJ("ngModelChange",function(s){return t.contactForm.name=s}),c.qZA(),c.YNc(15,XN,2,1,"div",10),c.qZA(),c.TgZ(16,"div",7)(17,"input",11,12),c.NdJ("ngModelChange",function(s){return t.contactForm.email=s}),c.qZA(),c.YNc(19,e4,2,1,"div",10),c.qZA(),c.TgZ(20,"div",7)(21,"input",13,14),c.NdJ("ngModelChange",function(s){return t.contactForm.phone=s}),c.qZA(),c.YNc(23,t4,2,1,"div",10),c.qZA(),c.TgZ(24,"div",7)(25,"input",15,16),c.NdJ("ngModelChange",function(s){return t.contactForm.message=s}),c.qZA()(),c.YNc(27,r4,3,5,"div",17),c.TgZ(28,"input",18),c.NdJ("click",function(){return t.onSubmit()}),c.qZA(),c.TgZ(29,"div",19)(30,"a",20),c._UZ(31,"img",21),c.qZA(),c.TgZ(32,"a",22),c._UZ(33,"img",23),c.qZA()()()(),c.TgZ(34,"div",24)(35,"div",25),c._UZ(36,"img",26),c.TgZ(37,"div",27)(38,"p",28),c._uU(39,"Address"),c.qZA(),c.TgZ(40,"p",29),c._uU(41,"Coza Store Center 8th floor, 379 Hudson St, New York, NY 10018 US"),c.qZA()()(),c.TgZ(42,"div",25),c._UZ(43,"img",30),c.TgZ(44,"div",27)(45,"p",28),c._uU(46,"Lets Talk"),c.qZA(),c.TgZ(47,"p",31),c._uU(48,"+1 800 1236879"),c.qZA()()(),c.TgZ(49,"div",25),c._UZ(50,"img",32),c.TgZ(51,"div",27)(52,"p",28),c._uU(53,"Sale Support"),c.qZA(),c.TgZ(54,"p",31),c._uU(55,"contact@example.com"),c.qZA()()()()(),c._UZ(56,"iframe",33),c.qZA()),2&e&&(c.xp6(13),c.Q6J("ngModel",t.contactForm.name),c.xp6(2),c.Q6J("ngIf",!t.visibility),c.xp6(2),c.Q6J("ngModel",t.contactForm.email),c.xp6(2),c.Q6J("ngIf",!t.visibility),c.xp6(2),c.Q6J("ngModel",t.contactForm.phone),c.xp6(2),c.Q6J("ngIf",!t.visibility),c.xp6(2),c.Q6J("ngModel",t.contactForm.message),c.xp6(2),c.Q6J("ngIf",t.visibility))},dependencies:[Ot,xi,ul,hf,gl,Ud,Gu],styles:[".blue_text[_ngcontent-%COMP%]{color:#3f67cc}.contacts[_ngcontent-%COMP%]{width:100%}.contacts_sign[_ngcontent-%COMP%]{margin-bottom:15%}.contacts[_ngcontent-%COMP%]   .sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{height:150px}.contacts_field[_ngcontent-%COMP%]{display:flex;margin:0 auto;width:90%;gap:5%}.contacts_field_inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.contacts_field_img[_ngcontent-%COMP%]{width:535px;height:500px}.contacts__input[_ngcontent-%COMP%]{position:relative}.contacts__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #333;border-radius:10px;width:400px;height:60px;font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:20px;padding-left:15px;padding-right:15px;color:#333;background:#fff}.contacts__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:20px;color:#333}.submit_button[_ngcontent-%COMP%]{width:400px}.social_network_home[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding-top:10px}.social_network_home[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:6px;display:flex;justify-content:center;align-items:center;margin-right:30px;transition:.5s}.social_network_home[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.social_network_home[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:rgb(63,103,204)}.social_network_home[_ngcontent-%COMP%]:nth-child(2) a:hover{background:rgb(63,103,204);border-radius:20px}.contacts_field_left_part[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:120px;margin:0 auto}.contacts_field_right_part[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.contacts_field_block[_ngcontent-%COMP%]{display:flex;padding-bottom:15%}.contacts_field_text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.contacts_field_block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}.contacts_field_upper_text[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:20px;padding-left:15px;color:#000}.contacts_field_lower_text[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:20px;padding-left:15px;color:#333}.contacts_field_lower_text_blue[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:20px;padding-left:15px;color:#3f67cc}.map[_ngcontent-%COMP%]{padding-top:5%;border:0;height:600px;width:100%}.sign_logo[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(255,255,255,.384),rgba(255,255,255,.384)),url(/assets/img/phone_call.jpg);background-repeat:no-repeat;background-position:center center;background-size:100%;height:750px;width:100%;margin:50px auto 5%;transition:.6s;display:flex;flex-direction:column;align-items:center;gap:40px;padding-top:10%}.sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:542px;height:234px;font-family:Montserrat;font-style:normal;font-weight:800;font-size:82px;line-height:95%;text-transform:uppercase;color:#333}.sign_text[_ngcontent-%COMP%]{width:500px;height:60px;font-family:Montserrat;font-style:normal;font-weight:400;font-size:24px;line-height:29px;color:#333}.sign_catalog[_ngcontent-%COMP%]{width:400px;height:60px;font-family:Montserrat;font-style:normal;font-weight:800;font-size:20px;line-height:100%;text-transform:uppercase;text-align:center;text-decoration:none;border:2px solid #333;color:#333;line-height:60px;transition:.5s}.sign_catalog[_ngcontent-%COMP%]:hover{background-color:#3f67cc;color:#fff;border:2px solid rgb(63,103,204)}.alert[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-size:16px;padding:1%;transition:.6s}@media screen and (max-width: 570px){.sign_logo[_ngcontent-%COMP%]{background-size:cover;padding-top:200px}.sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;height:auto;width:auto;text-align:center;padding-bottom:150px}.sign_text[_ngcontent-%COMP%]{text-align:center;font-family:Montserrat;font-style:normal;font-weight:400;font-size:24px;line-height:29px;color:#333;width:auto;margin-bottom:25px}.contacts_field[_ngcontent-%COMP%]{flex-direction:column;margin:0 auto;width:auto}.contacts__input[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:0 auto}.contacts__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .submit_button[_ngcontent-%COMP%]{width:350px}.social_network_home[_ngcontent-%COMP%]{justify-content:center;gap:15px;margin-bottom:15px}.social_network_home[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:0}.contacts_field_right_part[_ngcontent-%COMP%]{width:90%;margin:0 auto}}"]});class kv{}kv.\u0275fac=function(e){return new(e||kv)},kv.\u0275cmp=c.Xpm({type:kv,selectors:[["app-about"]],decls:49,vars:0,consts:[[1,"about"],[1,"sign_logo"],[1,"blue_text"],[1,"sign_text"],[1,"about_me_main"],[1,"about_me_main_row1","about_me_gap"],["src","assets/img/group_photo.png",1,"about_me_photo","name_margin"],[1,"block_column"],[1,"text_center"],[1,"about_me_main_text","name_margin"],[1,"about_me_main_row2","about_me_gap"],["src","assets/img/people_looking_for.jpg",1,"about_me_photo","photo_row2","name_margin"],[1,"about_me_main_row3","about_me_gap"],["src","assets/img/wardrobe.webp",1,"about_me_photo","photo_row3","name_margin"],[1,"about_me_main_row4","about_me_gap"],["width","100%","height","315","src","https://www.youtube.com/embed/XhMgln9-DoQ","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","allowfullscreen",""]],template:function(e,t){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h1"),c._uU(3,"\u0412\u0441\u0451 \u043f\u0440\u043e \u043d\u0430\u0448\u0443 "),c.TgZ(4,"span",2),c._uU(5,"\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"),c.qZA()(),c.TgZ(6,"p",3),c._uU(7,"\u041e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0438\u0435 \u0412\u0430\u0441 \u0432\u043e\u043f\u0440\u043e\u0441\u044b"),c.qZA()(),c.TgZ(8,"div",4)(9,"div",5),c._UZ(10,"img",6),c.TgZ(11,"div",7)(12,"h2",8),c._uU(13,"\u041a\u0442\u043e "),c.TgZ(14,"span",2),c._uU(15,"\u043c\u044b?"),c.qZA()(),c.TgZ(16,"p",9),c._uU(17,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nunc justo, venenatis sit amet egestas ac, convallis non nisi. Duis id fermentum justo, et tincidunt sapien. Morbi dictum, nulla nec vehicula pellentesque, purus felis tempus mauris, sed mollis sem risus ac lorem. Sed lobortis vitae velit a lobortis. Phasellus hendrerit ultricies nulla, in mattis ligula laoreet eu. Integer dapibus enim nec ipsum facilisis gravida. In hac habitasse platea dictumst. Vivamus volutpat metus odio."),c.qZA()()(),c._UZ(18,"hr"),c.TgZ(19,"div",10)(20,"div",7)(21,"h2",8),c._uU(22,"\u0427\u0435\u043c "),c.TgZ(23,"span",2),c._uU(24,"\u043c\u044b"),c.qZA(),c._uU(25," \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u043c\u0441\u044f?"),c.qZA(),c.TgZ(26,"p",9),c._uU(27,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nunc justo, venenatis sit amet egestas ac, convallis non nisi. Duis id fermentum justo, et tincidunt sapien. Morbi dictum, nulla nec vehicula pellentesque, purus felis tempus mauris, sed mollis sem risus ac lorem. Sed lobortis vitae velit a lobortis. Phasellus hendrerit ultricies nulla, in mattis ligula laoreet eu. Integer dapibus enim nec ipsum facilisis gravida. In hac habitasse platea dictumst. Vivamus volutpat metus odio."),c.qZA()(),c._UZ(28,"img",11),c.qZA(),c._UZ(29,"hr"),c.TgZ(30,"div",12),c._UZ(31,"img",13),c.TgZ(32,"div",7)(33,"h2",8),c._uU(34,"\u0427\u0442\u043e \u0435\u0441\u0442\u044c \u043d\u0430 \u044d\u0442\u043e\u043c "),c.TgZ(35,"span",2),c._uU(36,"\u0441\u0430\u0439\u0442\u0435?"),c.qZA()(),c.TgZ(37,"p",9),c._uU(38,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nunc justo, venenatis sit amet egestas ac, convallis non nisi. Duis id fermentum justo, et tincidunt sapien. Morbi dictum, nulla nec vehicula pellentesque, purus felis tempus mauris, sed mollis sem risus ac lorem. Sed lobortis vitae velit a lobortis. Phasellus hendrerit ultricies nulla, in mattis ligula laoreet eu. Integer dapibus enim nec ipsum facilisis gravida. In hac habitasse platea dictumst. Vivamus volutpat metus odio."),c.qZA()()(),c._UZ(39,"hr"),c.TgZ(40,"div",14)(41,"div",7)(42,"h2",8),c._uU(43,"\u041d\u0430\u0448\u0438 "),c.TgZ(44,"span",2),c._uU(45,"\u043f\u0435\u0440\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u044b"),c.qZA()(),c.TgZ(46,"p",9),c._uU(47,"\u041c\u044b \u0434\u0435\u0440\u0436\u0438\u043c \u0440\u0443\u043a\u0443 \u043d\u0430 \u043f\u0443\u043b\u044c\u0441\u0435 \u043c\u043e\u0434\u044b. \u041d\u0430\u0448 \u0430\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442 \u043f\u043e\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u043f\u0438\u0441\u043a\u043e\u0432 \u043c\u043e\u0434\u044b!"),c.qZA()(),c._UZ(48,"iframe",15),c.qZA()()())},styles:[".about[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.blue_text[_ngcontent-%COMP%]{color:#3f67cc}.sign_logo[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(255,255,255,.384),rgba(255,255,255,.384)),url(/assets/img/casual_men_row.jpg);background-repeat:no-repeat;background-position:center center;background-size:100%;height:750px;width:100%;margin:50px auto 5%;transition:.6s;display:flex;flex-direction:column;align-items:center;gap:40px;padding-top:10%}.sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:542px;height:234px;font-family:Montserrat;font-style:normal;font-weight:800;font-size:82px;line-height:95%;text-transform:uppercase;color:#333}.sign_text[_ngcontent-%COMP%]{width:500px;height:60px;font-family:Montserrat;font-style:normal;font-weight:400;font-size:24px;line-height:29px;color:#333;transition:.6s}.about_me_main[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto;width:90%}.about_me_photo[_ngcontent-%COMP%]{width:450px;height:480px;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.photo_row2[_ngcontent-%COMP%]{width:550px;height:480px}.photo_row3[_ngcontent-%COMP%]{width:550px;height:500px}.about_me_main_row1[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;opacity:.2;gap:5%;transition:.5s;margin-top:5%;margin-bottom:5%}.about_me_main_row1[_ngcontent-%COMP%]:hover{opacity:1}.block_column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5%}.text_center[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:800;font-size:40px;line-height:95%;text-transform:uppercase;color:#333}.about_me_main_text[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:20px}.about_me_main_row2[_ngcontent-%COMP%]{display:flex;flex-direction:row;text-align:right;justify-content:space-between;gap:5%;opacity:.2;transition:.5s;margin-top:5%;margin-bottom:5%}.about_me_main_row2[_ngcontent-%COMP%]:hover{opacity:1}.about_me_main_row3[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:5%;opacity:.2;transition:.5s;margin-top:5%;margin-bottom:5%}.about_me_main_row3[_ngcontent-%COMP%]:hover{opacity:1}.about_me_main_row4[_ngcontent-%COMP%]{display:flex;flex-direction:row;text-align:right;justify-content:right;gap:5%;opacity:.2;transition:.5s;margin-top:5%;margin-bottom:5%}.about_me_main_row4[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:660px}.about_me_main_row4[_ngcontent-%COMP%]:hover{opacity:1}@media screen and (max-width: 960px){.sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{height:auto;font-size:60px}.sign_logo[_ngcontent-%COMP%]{height:auto;padding-top:15%}.sign_text[_ngcontent-%COMP%]{padding-bottom:10%}.photo_row2[_ngcontent-%COMP%]{width:300px;height:330px}.about_me_main_row2[_ngcontent-%COMP%]{gap:2%}.photo_row3[_ngcontent-%COMP%]{width:350px;height:300px}.about_me_main_row4[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:auto}}@media screen and (max-width: 570px){.sign_logo[_ngcontent-%COMP%]{background-size:cover;padding-top:200px}.sign_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;height:auto;width:auto;text-align:center;padding-bottom:150px}.sign_text[_ngcontent-%COMP%]{text-align:center;font-family:Montserrat;font-style:normal;font-weight:400;font-size:24px;line-height:29px;color:#333;width:auto;margin-bottom:25px}.about_me_main[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-direction:column}.about_me_gap[_ngcontent-%COMP%], .block_column[_ngcontent-%COMP%]{gap:25px}.about_me_photo[_ngcontent-%COMP%]{width:100%;height:300px}}"]});const i4=[{path:"",component:Bd},{path:"products",component:Ov},{path:"product",component:Mv},{path:"basket",component:al},{path:"enter",component:If},{path:"profile",component:Pv},{path:"contacts",component:Rv},{path:"about",component:kv}];class a_{}a_.\u0275fac=function(e){return new(e||a_)},a_.\u0275mod=c.oAB({type:a_}),a_.\u0275inj=c.cJS({imports:[Iw.forRoot(i4),Iw]});const o4=function(){return["/"]};class Nv{constructor(e){this.databaseService=e,this.categories=[]}ngOnInit(){this.getAllCategories()}ngOnDestroy(){this.categorySubscribe.unsubscribe()}getAllCategories(){this.categorySubscribe=this.databaseService.getCategories().subscribe(e=>{this.categories=e})}}Nv.\u0275fac=function(e){return new(e||Nv)(c.Y36(Ll))},Nv.\u0275cmp=c.Xpm({type:Nv,selectors:[["app-header"]],decls:50,vars:2,consts:[[1,"wrapper"],[1,"header_logo"],[1,"header_leftside"],[1,"logo_img"],["src","assets/img/logo_new.jpg","alt","logo",3,"routerLink"],[1,"header_line","full_size"],["routerLink","/"],["routerLink","/products"],["routerLink","/about"],["routerLink","/enter"],["routerLink","/contacts"],[1,"header_rightside"],[1,"block_search"],["href","#",1,"search_btn"],["src","assets/img/search_grey.png","alt","search"],["placeholder","\u041f\u043e\u0438\u0441\u043a","type","text","name","","id","",1,"search_txt"],[1,"block_main"],[1,"block_basket"],["routerLink","/basket","href","#"],["src","assets/img/shopping_cart.png","alt",""],[1,"block_basket","position_lower"],["routerLink","/profile","href","#"],["src","assets/img/profile.png","alt",""],[1,"hamburger_menu","mere_size"],["id","menu__toggle","type","checkbox"],["for","menu__toggle",1,"menu__btn"],[1,"menu__box"],[1,"menu__item"]],template:function(e,t){1&e&&(c.TgZ(0,"header")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),c._UZ(5,"img",4),c.qZA(),c.TgZ(6,"div",5)(7,"ul")(8,"li",6),c._uU(9,"\u0414\u043e\u043c\u0430\u0448\u043d\u0430\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),c.qZA(),c.TgZ(10,"li",7),c._uU(11,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),c.qZA(),c.TgZ(12,"li",8),c._uU(13,"\u041e \u043d\u0430\u0441"),c.qZA(),c.TgZ(14,"li",9),c._uU(15,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.qZA(),c.TgZ(16,"li",10),c._uU(17,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),c.qZA()()()(),c.TgZ(18,"div",11)(19,"div",12)(20,"a",13),c._UZ(21,"img",14),c.qZA(),c._UZ(22,"input",15),c.qZA(),c.TgZ(23,"div",16)(24,"div",17)(25,"a",18),c._UZ(26,"img",19),c.qZA()(),c.TgZ(27,"div",20)(28,"a",21),c._UZ(29,"img",22),c.qZA()(),c.TgZ(30,"div",23),c._UZ(31,"input",24),c.TgZ(32,"label",25),c._UZ(33,"span"),c.qZA(),c.TgZ(34,"ul",26)(35,"li",6)(36,"a",27),c._uU(37,"\u0414\u043e\u043c\u0430\u0448\u043d\u0430\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),c.qZA()(),c.TgZ(38,"li",7)(39,"a",27),c._uU(40,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),c.qZA()(),c.TgZ(41,"li",8)(42,"a",27),c._uU(43,"\u041e \u043d\u0430\u0441"),c.qZA()(),c.TgZ(44,"li",9)(45,"a",27),c._uU(46,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.qZA()(),c.TgZ(47,"li",10)(48,"a",27),c._uU(49,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),c.qZA()()()()()()()()()),2&e&&(c.xp6(5),c.Q6J("routerLink",c.DdM(1,o4)))},dependencies:[Lu],styles:['header[_ngcontent-%COMP%]{background-color:#fff;overflow:hidden;top:0;width:100%;position:fixed}.position_lower[_ngcontent-%COMP%]{padding-top:5px}.wrapper[_ngcontent-%COMP%]{width:100%;margin:0 auto}.header_logo[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 40px}.block_search[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:space-evenly;align-content:center;align-items:center;border:1px solid #333;border-radius:15px;width:225px;height:30px;margin:5%}.block_search[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.search_btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-left:5px}.search_txt[_ngcontent-%COMP%]{border:none;outline:none;background:none;color:#3f67cc;font-family:Inter;font-style:normal;font-weight:400;font-size:12px;line-height:15px;padding-left:10px;padding-right:10px}input[type=text][_ngcontent-%COMP%]::-webkit-input-placeholder{color:#3f67cc;font-weight:700}.block_main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:5px}.block_lang[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}p[_ngcontent-%COMP%]{color:#fff;padding-left:10px;padding-right:10px;-webkit-user-select:none;user-select:none}.block_basket[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;transition:.6s}.block_basket[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.header_line[_ngcontent-%COMP%]{width:100%;padding-bottom:20px;color:#333;display:flex;align-items:center;justify-content:center}ul[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:25px}li[_ngcontent-%COMP%]{position:relative;font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;list-style:none;white-space:nowrap;width:100%;height:100%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:.6s;line-height:1}li[_ngcontent-%COMP%]:after{display:block;position:absolute;top:25px;left:0;width:0;height:2px;background-color:#3f67cc;content:"";transition:width .3s ease-out}li[_ngcontent-%COMP%]:hover:after, li[_ngcontent-%COMP%]:focus:after{width:100%}li[_ngcontent-%COMP%]:hover{color:#3f67cc}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;list-style:none;white-space:nowrap;width:100%;height:100%;display:flex;align-items:center;justify-content:center;text-decoration:none;color:#333;cursor:pointer;transition:.6s;line-height:1}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{display:block;position:absolute;top:25px;left:0;width:0;height:2px;background-color:#3f67cc;content:"";transition:width .3s ease-out}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after, li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:after{width:100%}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3f67cc}.logo_img[_ngcontent-%COMP%]{cursor:pointer}.logo_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.header_leftside[_ngcontent-%COMP%]{display:flex;gap:10%}.header_rightside[_ngcontent-%COMP%]{display:flex;padding-bottom:2%}.mere_size[_ngcontent-%COMP%]{display:none;width:50px;height:50px}#menu__toggle[_ngcontent-%COMP%]{display:none;opacity:0}#menu__toggle[_ngcontent-%COMP%]:checked ~ .menu__btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{transform:rotate(45deg)}#menu__toggle[_ngcontent-%COMP%]:checked ~ .menu__btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before{top:0;transform:rotate(0)}#menu__toggle[_ngcontent-%COMP%]:checked ~ .menu__btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{top:0;transform:rotate(90deg)}#menu__toggle[_ngcontent-%COMP%]:checked ~ .menu__box[_ngcontent-%COMP%]{visibility:visible;right:0;transform:translate(0)}.menu__btn[_ngcontent-%COMP%]{display:flex;align-items:center;position:fixed;top:35px;right:auto;width:26px;height:26px;cursor:pointer;z-index:1;padding:10px}.menu__btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .menu__btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before, .menu__btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{display:block;position:absolute;width:100%;height:2px;background-color:#616161;transition:.25s}.menu__btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before{content:"";top:-8px}.menu__btn[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{content:"";top:8px}.menu__box[_ngcontent-%COMP%]{display:flex;position:absolute;visibility:hidden;top:0;width:100%;height:40px;margin-top:90px;list-style:none;background-color:#eceff1;transition:.25s;padding-left:20px;padding-right:20px;padding-top:10px;transform:translate(100px)}.menu__item[_ngcontent-%COMP%]{display:block;justify-content:space-around;color:#333;font-family:Montserrat,sans-serif;padding-bottom:10px;font-size:10px;font-weight:600;text-decoration:none;transition:.25s}@media screen and (max-width: 960px){.wrapper[_ngcontent-%COMP%]{height:130px}.header_logo[_ngcontent-%COMP%]{justify-content:space-between;padding:20px}.logo_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px}.full_size[_ngcontent-%COMP%]{display:none}.mere_size[_ngcontent-%COMP%]{display:flex}.block_search[_ngcontent-%COMP%]{justify-content:unset;width:150px}.search_txt[_ngcontent-%COMP%]{width:100px;padding-left:10px}}@media screen and (max-width: 570px){.wrapper[_ngcontent-%COMP%]{height:140px}.menu__box[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex:50%;height:10px;padding:5px;justify-content:center;background-color:transparent}.menu__box[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:auto}.menu__item[_ngcontent-%COMP%]{height:100%}li[_ngcontent-%COMP%]:after{top:10px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{display:none}}']});const s4=function(){return["/products"]},a4=function(n){return{category:n}};function u4(n,e){if(1&n&&(c.TgZ(0,"li")(1,"span",21),c._uU(2),c.qZA()()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("routerLink",c.DdM(3,s4))("queryParams",c.VKq(4,a4,t.id)),c.xp6(1),c.Oqu(t.name)}}class Fv{constructor(e,t){this.route=e,this.databaseService=t,this.categories=[],this.products=[]}ngOnInit(){this.getAllCategories(),this.getRouteParams()}ngOnDestroy(){this.categorySubscribe.unsubscribe(),this.productsSubscribe.unsubscribe()}getRouteParams(){this.route.queryParams.subscribe(e=>{e.category?this.categorySubscribe=this.databaseService.getCategory(e.category).subscribe(t=>{this.category=t,this.getProducts()}):this.getProducts()})}getProducts(){this.productsSubscribe=this.databaseService.getProducts().subscribe(e=>{this.category?.id?this.findCategory(e):this.products=e,this.findCategory(e)})}findCategory(e){this.products=e.reduce((t,r)=>(r.category===this.category?.id&&t.push(r),t),[])}getAllCategories(){this.categorySubscribe=this.databaseService.getCategories().subscribe(e=>{this.categories=e})}}Fv.\u0275fac=function(e){return new(e||Fv)(c.Y36(rr),c.Y36(Ll))},Fv.\u0275cmp=c.Xpm({type:Fv,selectors:[["app-footer"]],decls:39,vars:1,consts:[[1,"wrapper"],[1,"block_footer"],[1,"block_social"],["src","assets/img/logo_new.jpg","alt","logo",1,"logo"],[1,"social_network"],["href","https://www.instagram.com/artukhovskiy/"],["src","assets/img/instagram_new.png","alt","social"],["href","https://vk.com/id84353596"],["src","assets/img/vk.png","alt","social"],[1,"block_info"],[4,"ngFor","ngForOf"],["routerLink","/"],["routerLink","/products"],["routerLink","/about"],["routerLink","/enter"],["routerLink","/contacts"],[1,"block_email"],["action","#"],["type","email","placeholder","Email","name","","id",""],["type","submit","value","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"],[1,"rights_reserved_sign"],[3,"routerLink","queryParams"]],template:function(e,t){1&e&&(c.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2),c._UZ(4,"img",3),c.TgZ(5,"div",4)(6,"a",5),c._UZ(7,"img",6),c.qZA(),c.TgZ(8,"a",7),c._UZ(9,"img",8),c.qZA()()(),c.TgZ(10,"div",9)(11,"p"),c._uU(12,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),c.qZA(),c.TgZ(13,"ul"),c.YNc(14,u4,3,6,"li",10),c.qZA()(),c.TgZ(15,"div",9)(16,"p"),c._uU(17,"\u0427\u0442\u043e \u0435\u0441\u0442\u044c \u043d\u0430 \u0441\u0430\u0439\u0442\u0435?"),c.qZA(),c.TgZ(18,"ul")(19,"li",11),c._uU(20,"\u0414\u043e\u043c\u0430\u0448\u043d\u0430\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),c.qZA(),c.TgZ(21,"li",12),c._uU(22,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),c.qZA(),c.TgZ(23,"li",13),c._uU(24,"\u041e \u043d\u0430\u0441"),c.qZA(),c.TgZ(25,"li",14),c._uU(26,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.qZA(),c.TgZ(27,"li",15),c._uU(28,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),c.qZA()()(),c.TgZ(29,"div",16)(30,"p"),c._uU(31,"\u0423\u0437\u043d\u0430\u0432\u0430\u0439 \u043e \u043d\u043e\u0432\u0438\u043d\u043a\u0430\u0445 \u043f\u0435\u0440\u0432\u044b\u043c"),c.qZA(),c.TgZ(32,"p"),c._uU(33,"\u041f\u043e\u043b\u0443\u0447\u0430\u0439 \u043e\u0442 \u043d\u0430\u0441 \u0441\u043c\u0441 \u0441 \u0441\u044e\u0440\u043f\u0440\u0438\u0437\u0430\u043c\u0438"),c.qZA(),c.TgZ(34,"form",17),c._UZ(35,"input",18)(36,"input",19),c.qZA()()(),c.TgZ(37,"p",20),c._uU(38,"Copyright \xa92023 All rights reserved"),c.qZA()()()),2&e&&(c.xp6(14),c.Q6J("ngForOf",t.categories))},dependencies:[Fr,Lu,bf,bg,Vd],styles:["footer[_ngcontent-%COMP%]{background-color:#fff}.wrapper[_ngcontent-%COMP%]{width:85%;margin:0 auto;overflow:hidden}.block_footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:45px;padding-bottom:65px}.social_network[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding-top:10px}.social_network[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;justify-content:center;align-items:center;transition:.5s}.social_network[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{border:1px solid rgb(63,103,204);background:rgb(63,103,204)}.block_info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:24px;line-height:29px;color:#333;padding-bottom:15px;-webkit-user-select:none;user-select:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;list-style:none;padding-top:8px;text-decoration:none;font-family:Montserrat;font-style:normal;font-weight:400;font-size:16px;line-height:20px;cursor:pointer;color:#333;transition:.6s;line-height:1}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transition:.4s;color:#3f67cc}.block_email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){font-family:Montserrat;font-style:normal;font-weight:600;font-size:20px;line-height:24px;color:#333}.block_email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-family:Montserrat;font-style:normal;font-weight:400;font-size:14px;line-height:17px;color:#333;padding-bottom:10px}form[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(1){border:none;outline:none;background:#363636;font-family:Montserrat;font-style:normal;font-weight:300;font-size:12px;line-height:15px;color:#fff;width:190px;height:30px;padding-left:14px}input[type=email][_ngcontent-%COMP%]::-webkit-input-placeholder{color:#fff}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(2){width:100px;height:30px;background:#333;font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:.5s}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(2):hover{background:rgb(63,103,204)}.logo[_ngcontent-%COMP%]{width:100px;height:100px}.rights_reserved_sign[_ngcontent-%COMP%]{margin:o auto;text-align:center;font-family:Montserrat;font-style:normal;padding-bottom:1%}@media screen and (max-width: 960px){.wrapper[_ngcontent-%COMP%]{width:95%}.block_footer[_ngcontent-%COMP%]{justify-content:space-around;flex-wrap:wrap}.block_email[_ngcontent-%COMP%]{padding-top:30px;display:flex;align-items:center}}@media screen and (max-width: 570px){.block_footer[_ngcontent-%COMP%]{flex-wrap:wrap;margin-bottom:5px;align-items:center}.block_footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:5px;align-items:center}.block_social[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:100%}.social_network[_ngcontent-%COMP%]{justify-content:center}.block_info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:normal;padding-top:50px}.block_email[_ngcontent-%COMP%]{flex-direction:column}}"]});class Lv{constructor(){}}Lv.\u0275fac=function(e){return new(e||Lv)},Lv.\u0275cmp=c.Xpm({type:Lv,selectors:[["app-root"]],decls:3,vars:0,template:function(e,t){1&e&&c._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[tg,Nv,Fv],styles:["app-header[_ngcontent-%COMP%]{z-index:9;position:fixed;width:100%;top:0;background-color:#fff}@media screen and (max-width: 960px){app-header[_ngcontent-%COMP%]{height:130px}}"]});class u_{}u_.\u0275fac=function(e){return new(e||u_)},u_.\u0275mod=c.oAB({type:u_,bootstrap:[Lv]}),u_.\u0275inj=c.cJS({imports:[Ta,a_,Oo.hO.initializeApp({apiKey:"AIzaSyDGXqF5gDakdTMS9prEZh24c4naV-oVK_Y",authDomain:"branding-wordshop-7451c.firebaseapp.com",projectId:"branding-wordshop-7451c",storageBucket:"branding-wordshop-7451c.appspot.com",messagingSenderId:"653807171565",appId:"1:653807171565:web:244310b19dd584d7c959e4",measurementId:"G-0JG1B517LV"}),$N,Ks,ss,tu]}),rd().bootstrapModule(u_).catch(n=>console.error(n))},9751:(pt,Ie,k)=>{k.d(Ie,{y:()=>ue});var c=k(2961),Y=k(727),R=k(8822),X=k(9635),ee=k(2416),te=k(576),le=k(2806);let ue=(()=>{class q{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const Ze=new q;return Ze.source=this,Ze.operator=Ce,Ze}subscribe(Ce,Ze,it){const he=function j(q){return q&&q instanceof c.Lv||function B(q){return q&&(0,te.m)(q.next)&&(0,te.m)(q.error)&&(0,te.m)(q.complete)}(q)&&(0,Y.Nn)(q)}(Ce)?Ce:new c.Hp(Ce,Ze,it);return(0,le.x)(()=>{const{operator:be,source:Ee}=this;he.add(be?be.call(he,Ee):Ee?this._subscribe(he):this._trySubscribe(he))}),he}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Ze){Ce.error(Ze)}}forEach(Ce,Ze){return new(Ze=oe(Ze))((it,he)=>{const be=new c.Hp({next:Ee=>{try{Ce(Ee)}catch(Fe){he(Fe),be.unsubscribe()}},error:he,complete:it});this.subscribe(be)})}_subscribe(Ce){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Ce)}[R.L](){return this}pipe(...Ce){return(0,X.U)(Ce)(this)}toPromise(Ce){return new(Ce=oe(Ce))((Ze,it)=>{let he;this.subscribe(be=>he=be,be=>it(be),()=>Ze(he))})}}return q.create=je=>new q(je),q})();function oe(q){var je;return null!==(je=q??ee.v.Promise)&&void 0!==je?je:Promise}},7579:(pt,Ie,k)=>{k.d(Ie,{x:()=>le});var c=k(9751),Y=k(727);const X=(0,k(3888).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=k(8737),te=k(2806);let le=(()=>{class oe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const q=new ue(this,this);return q.operator=j,q}_throwIfClosed(){if(this.closed)throw new X}next(j){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(j)}})}error(j){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:q}=this;for(;q.length;)q.shift().error(j)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:q,isStopped:je,observers:Ce}=this;return q||je?Y.Lc:(this.currentObservers=null,Ce.push(j),new Y.w0(()=>{this.currentObservers=null,(0,ee.P)(Ce,j)}))}_checkFinalizedStatuses(j){const{hasError:q,thrownError:je,isStopped:Ce}=this;q?j.error(je):Ce&&j.complete()}asObservable(){const j=new c.y;return j.source=this,j}}return oe.create=(B,j)=>new ue(B,j),oe})();class ue extends le{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===q||q.call(j,B)}error(B){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===q||q.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,q;return null!==(q=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==q?q:Y.Lc}}},2961:(pt,Ie,k)=>{k.d(Ie,{Hp:()=>it,Lv:()=>q});var c=k(576),Y=k(727),R=k(2416),X=k(7849);function ee(){}const te=oe("C",void 0,void 0);function oe(we,ye,De){return{kind:we,value:ye,error:De}}var B=k(3410),j=k(2806);class q extends Y.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,Y.Nn)(ye)&&ye.add(this)):this.destination=Fe}static create(ye,De,Ve){return new it(ye,De,Ve)}next(ye){this.isStopped?Ee(function ue(we){return oe("N",we,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Ee(function le(we){return oe("E",void 0,we)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Ee(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Ce(we,ye){return je.call(we,ye)}class Ze{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:De}=this;if(De.next)try{De.next(ye)}catch(Ve){he(Ve)}}error(ye){const{partialObserver:De}=this;if(De.error)try{De.error(ye)}catch(Ve){he(Ve)}else he(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(De){he(De)}}}class it extends q{constructor(ye,De,Ve){let Oe;if(super(),(0,c.m)(ye)||!ye)Oe={next:ye??void 0,error:De??void 0,complete:Ve??void 0};else{let V;this&&R.v.useDeprecatedNextContext?(V=Object.create(ye),V.unsubscribe=()=>this.unsubscribe(),Oe={next:ye.next&&Ce(ye.next,V),error:ye.error&&Ce(ye.error,V),complete:ye.complete&&Ce(ye.complete,V)}):Oe=ye}this.destination=new Ze(Oe)}}function he(we){R.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(we):(0,X.h)(we)}function Ee(we,ye){const{onStoppedNotification:De}=R.v;De&&B.z.setTimeout(()=>De(we,ye))}const Fe={closed:!0,next:ee,error:function be(we){throw we},complete:ee}},727:(pt,Ie,k)=>{k.d(Ie,{Lc:()=>te,w0:()=>ee,Nn:()=>le});var c=k(576);const R=(0,k(3888).d)(oe=>function(j){oe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((q,je)=>`${je+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var X=k(8737);class ee{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ce of j)Ce.remove(this);else j.remove(this);const{initialTeardown:q}=this;if((0,c.m)(q))try{q()}catch(Ce){B=Ce instanceof R?Ce.errors:[Ce]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Ce of je)try{ue(Ce)}catch(Ze){B=B??[],Ze instanceof R?B=[...B,...Ze.errors]:B.push(Ze)}}if(B)throw new R(B)}}add(B){var j;if(B&&B!==this)if(this.closed)ue(B);else{if(B instanceof ee){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,X.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,X.P)(j,B),B instanceof ee&&B._removeParent(this)}}ee.EMPTY=(()=>{const oe=new ee;return oe.closed=!0,oe})();const te=ee.EMPTY;function le(oe){return oe instanceof ee||oe&&"closed"in oe&&(0,c.m)(oe.remove)&&(0,c.m)(oe.add)&&(0,c.m)(oe.unsubscribe)}function ue(oe){(0,c.m)(oe)?oe():oe.unsubscribe()}},2416:(pt,Ie,k)=>{k.d(Ie,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Ie,k)=>{k.d(Ie,{E:()=>Y});const Y=new(k(9751).y)(ee=>ee.complete())},8996:(pt,Ie,k)=>{k.d(Ie,{D:()=>ye});var c=k(8421),Y=k(5363),R=k(9468),te=k(9751),ue=k(2202),oe=k(576),B=k(9672);function q(De,Ve){if(!De)throw new Error("Iterable cannot be null");return new te.y(Oe=>{(0,B.f)(Oe,Ve,()=>{const V=De[Symbol.asyncIterator]();(0,B.f)(Oe,Ve,()=>{V.next().then(me=>{me.done?Oe.complete():Oe.next(me.value)})},0,!0)})})}var je=k(3670),Ce=k(8239),Ze=k(1144),it=k(6495),he=k(2206),be=k(4532),Ee=k(3260);function ye(De,Ve){return Ve?function we(De,Ve){if(null!=De){if((0,je.c)(De))return function X(De,Ve){return(0,c.Xf)(De).pipe((0,R.R)(Ve),(0,Y.Q)(Ve))}(De,Ve);if((0,Ze.z)(De))return function le(De,Ve){return new te.y(Oe=>{let V=0;return Ve.schedule(function(){V===De.length?Oe.complete():(Oe.next(De[V++]),Oe.closed||this.schedule())})})}(De,Ve);if((0,Ce.t)(De))return function ee(De,Ve){return(0,c.Xf)(De).pipe((0,R.R)(Ve),(0,Y.Q)(Ve))}(De,Ve);if((0,he.D)(De))return q(De,Ve);if((0,it.T)(De))return function j(De,Ve){return new te.y(Oe=>{let V;return(0,B.f)(Oe,Ve,()=>{V=De[ue.h](),(0,B.f)(Oe,Ve,()=>{let me,Ue;try{({value:me,done:Ue}=V.next())}catch(Ge){return void Oe.error(Ge)}Ue?Oe.complete():Oe.next(me)},0,!0)}),()=>(0,oe.m)(V?.return)&&V.return()})}(De,Ve);if((0,Ee.L)(De))return function Fe(De,Ve){return q((0,Ee.Q)(De),Ve)}(De,Ve)}throw(0,be.z)(De)}(De,Ve):(0,c.Xf)(De)}},8421:(pt,Ie,k)=>{k.d(Ie,{Xf:()=>je});var c=k(655),Y=k(1144),R=k(8239),X=k(9751),ee=k(3670),te=k(2206),le=k(4532),ue=k(6495),oe=k(3260),B=k(576),j=k(7849),q=k(8822);function je(we){if(we instanceof X.y)return we;if(null!=we){if((0,ee.c)(we))return function Ce(we){return new X.y(ye=>{const De=we[q.L]();if((0,B.m)(De.subscribe))return De.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,Y.z)(we))return function Ze(we){return new X.y(ye=>{for(let De=0;De<we.length&&!ye.closed;De++)ye.next(we[De]);ye.complete()})}(we);if((0,R.t)(we))return function it(we){return new X.y(ye=>{we.then(De=>{ye.closed||(ye.next(De),ye.complete())},De=>ye.error(De)).then(null,j.h)})}(we);if((0,te.D)(we))return be(we);if((0,ue.T)(we))return function he(we){return new X.y(ye=>{for(const De of we)if(ye.next(De),ye.closed)return;ye.complete()})}(we);if((0,oe.L)(we))return function Ee(we){return be((0,oe.Q)(we))}(we)}throw(0,le.z)(we)}function be(we){return new X.y(ye=>{(function Fe(we,ye){var De,Ve,Oe,V;return(0,c.mG)(this,void 0,void 0,function*(){try{for(De=(0,c.KL)(we);!(Ve=yield De.next()).done;)if(ye.next(Ve.value),ye.closed)return}catch(me){Oe={error:me}}finally{try{Ve&&!Ve.done&&(V=De.return)&&(yield V.call(De))}finally{if(Oe)throw Oe.error}}ye.complete()})})(we,ye).catch(De=>ye.error(De))})}},6451:(pt,Ie,k)=>{k.d(Ie,{T:()=>te});var c=k(8189),Y=k(8421),R=k(515),X=k(7669),ee=k(8996);function te(...le){const ue=(0,X.yG)(le),oe=(0,X._6)(le,1/0),B=le;return B.length?1===B.length?(0,Y.Xf)(B[0]):(0,c.J)(oe)((0,ee.D)(B,ue)):R.E}},5403:(pt,Ie,k)=>{k.d(Ie,{x:()=>Y});var c=k(2961);function Y(X,ee,te,le,ue){return new R(X,ee,te,le,ue)}class R extends c.Lv{constructor(ee,te,le,ue,oe,B){super(ee),this.onFinalize=oe,this.shouldUnsubscribe=B,this._next=te?function(j){try{te(j)}catch(q){ee.error(q)}}:super._next,this._error=ue?function(j){try{ue(j)}catch(q){ee.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(j){ee.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},4004:(pt,Ie,k)=>{k.d(Ie,{U:()=>R});var c=k(4482),Y=k(5403);function R(X,ee){return(0,c.e)((te,le)=>{let ue=0;te.subscribe((0,Y.x)(le,oe=>{le.next(X.call(ee,oe,ue++))}))})}},8189:(pt,Ie,k)=>{k.d(Ie,{J:()=>R});var c=k(5577),Y=k(4671);function R(X=1/0){return(0,c.z)(Y.y,X)}},5577:(pt,Ie,k)=>{k.d(Ie,{z:()=>ue});var c=k(4004),Y=k(8421),R=k(4482),X=k(9672),ee=k(5403),le=k(576);function ue(oe,B,j=1/0){return(0,le.m)(B)?ue((q,je)=>(0,c.U)((Ce,Ze)=>B(q,Ce,je,Ze))((0,Y.Xf)(oe(q,je))),j):("number"==typeof B&&(j=B),(0,R.e)((q,je)=>function te(oe,B,j,q,je,Ce,Ze,it){const he=[];let be=0,Ee=0,Fe=!1;const we=()=>{Fe&&!he.length&&!be&&B.complete()},ye=Ve=>be<q?De(Ve):he.push(Ve),De=Ve=>{Ce&&B.next(Ve),be++;let Oe=!1;(0,Y.Xf)(j(Ve,Ee++)).subscribe((0,ee.x)(B,V=>{je?.(V),Ce?ye(V):B.next(V)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(be--;he.length&&be<q;){const V=he.shift();Ze?(0,X.f)(B,Ze,()=>De(V)):De(V)}we()}catch(V){B.error(V)}}))};return oe.subscribe((0,ee.x)(B,ye,()=>{Fe=!0,we()})),()=>{it?.()}}(q,je,oe,j)))}},5363:(pt,Ie,k)=>{k.d(Ie,{Q:()=>X});var c=k(9672),Y=k(4482),R=k(5403);function X(ee,te=0){return(0,Y.e)((le,ue)=>{le.subscribe((0,R.x)(ue,oe=>(0,c.f)(ue,ee,()=>ue.next(oe),te),()=>(0,c.f)(ue,ee,()=>ue.complete(),te),oe=>(0,c.f)(ue,ee,()=>ue.error(oe),te)))})}},3099:(pt,Ie,k)=>{k.d(Ie,{B:()=>ee});var c=k(8421),Y=k(7579),R=k(2961),X=k(4482);function ee(le={}){const{connector:ue=(()=>new Y.x),resetOnError:oe=!0,resetOnComplete:B=!0,resetOnRefCountZero:j=!0}=le;return q=>{let je,Ce,Ze,it=0,he=!1,be=!1;const Ee=()=>{Ce?.unsubscribe(),Ce=void 0},Fe=()=>{Ee(),je=Ze=void 0,he=be=!1},we=()=>{const ye=je;Fe(),ye?.unsubscribe()};return(0,X.e)((ye,De)=>{it++,!be&&!he&&Ee();const Ve=Ze=Ze??ue();De.add(()=>{it--,0===it&&!be&&!he&&(Ce=te(we,j))}),Ve.subscribe(De),!je&&it>0&&(je=new R.Hp({next:Oe=>Ve.next(Oe),error:Oe=>{be=!0,Ee(),Ce=te(Fe,oe,Oe),Ve.error(Oe)},complete:()=>{he=!0,Ee(),Ce=te(Fe,B),Ve.complete()}}),(0,c.Xf)(ye).subscribe(je))})(q)}}function te(le,ue,...oe){if(!0===ue)return void le();if(!1===ue)return;const B=new R.Hp({next:()=>{B.unsubscribe(),le()}});return(0,c.Xf)(ue(...oe)).subscribe(B)}},9468:(pt,Ie,k)=>{k.d(Ie,{R:()=>Y});var c=k(4482);function Y(R,X=0){return(0,c.e)((ee,te)=>{te.add(R.schedule(()=>ee.subscribe(te),X))})}},8505:(pt,Ie,k)=>{k.d(Ie,{b:()=>ee});var c=k(576),Y=k(4482),R=k(5403),X=k(4671);function ee(te,le,ue){const oe=(0,c.m)(te)||le||ue?{next:te,error:le,complete:ue}:te;return oe?(0,Y.e)((B,j)=>{var q;null===(q=oe.subscribe)||void 0===q||q.call(oe);let je=!0;B.subscribe((0,R.x)(j,Ce=>{var Ze;null===(Ze=oe.next)||void 0===Ze||Ze.call(oe,Ce),j.next(Ce)},()=>{var Ce;je=!1,null===(Ce=oe.complete)||void 0===Ce||Ce.call(oe),j.complete()},Ce=>{var Ze;je=!1,null===(Ze=oe.error)||void 0===Ze||Ze.call(oe,Ce),j.error(Ce)},()=>{var Ce,Ze;je&&(null===(Ce=oe.unsubscribe)||void 0===Ce||Ce.call(oe)),null===(Ze=oe.finalize)||void 0===Ze||Ze.call(oe)}))}):X.y}},4408:(pt,Ie,k)=>{k.d(Ie,{o:()=>ee});var c=k(727);class Y extends c.w0{constructor(le,ue){super()}schedule(le,ue=0){return this}}const R={setInterval(te,le,...ue){const{delegate:oe}=R;return oe?.setInterval?oe.setInterval(te,le,...ue):setInterval(te,le,...ue)},clearInterval(te){const{delegate:le}=R;return(le?.clearInterval||clearInterval)(te)},delegate:void 0};var X=k(8737);class ee extends Y{constructor(le,ue){super(le,ue),this.scheduler=le,this.work=ue,this.pending=!1}schedule(le,ue=0){var oe;if(this.closed)return this;this.state=le;const B=this.id,j=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(j,B,ue)),this.pending=!0,this.delay=ue,this.id=null!==(oe=this.id)&&void 0!==oe?oe:this.requestAsyncId(j,this.id,ue),this}requestAsyncId(le,ue,oe=0){return R.setInterval(le.flush.bind(le,this),oe)}recycleAsyncId(le,ue,oe=0){if(null!=oe&&this.delay===oe&&!1===this.pending)return ue;null!=ue&&R.clearInterval(ue)}execute(le,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(le,ue);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,ue){let B,oe=!1;try{this.work(le)}catch(j){oe=!0,B=j||new Error("Scheduled action threw falsy error")}if(oe)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:le,scheduler:ue}=this,{actions:oe}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(oe,this),null!=le&&(this.id=this.recycleAsyncId(ue,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,Ie,k)=>{k.d(Ie,{v:()=>R});var c=k(6063);class Y{constructor(ee,te=Y.now){this.schedulerActionCtor=ee,this.now=te}schedule(ee,te=0,le){return new this.schedulerActionCtor(this,ee).schedule(le,te)}}Y.now=c.l.now;class R extends Y{constructor(ee,te=Y.now){super(ee,te),this.actions=[],this._active=!1}flush(ee){const{actions:te}=this;if(this._active)return void te.push(ee);let le;this._active=!0;do{if(le=ee.execute(ee.state,ee.delay))break}while(ee=te.shift());if(this._active=!1,le){for(;ee=te.shift();)ee.unsubscribe();throw le}}}},4986:(pt,Ie,k)=>{k.d(Ie,{z:()=>R});var c=k(4408);const R=new(k(7565).v)(c.o)},6063:(pt,Ie,k)=>{k.d(Ie,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(pt,Ie,k)=>{k.d(Ie,{z:()=>c});const c={setTimeout(Y,R,...X){const{delegate:ee}=c;return ee?.setTimeout?ee.setTimeout(Y,R,...X):setTimeout(Y,R,...X)},clearTimeout(Y){const{delegate:R}=c;return(R?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},2202:(pt,Ie,k)=>{k.d(Ie,{h:()=>Y});const Y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Ie,k)=>{k.d(Ie,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(pt,Ie,k)=>{k.d(Ie,{_6:()=>te,jO:()=>X,yG:()=>ee});var c=k(576);function R(le){return le[le.length-1]}function X(le){return(0,c.m)(R(le))?le.pop():void 0}function ee(le){return function Y(le){return le&&(0,c.m)(le.schedule)}(R(le))?le.pop():void 0}function te(le,ue){return"number"==typeof R(le)?le.pop():ue}},8737:(pt,Ie,k)=>{function c(Y,R){if(Y){const X=Y.indexOf(R);0<=X&&Y.splice(X,1)}}k.d(Ie,{P:()=>c})},3888:(pt,Ie,k)=>{function c(Y){const X=Y(ee=>{Error.call(ee),ee.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}k.d(Ie,{d:()=>c})},2806:(pt,Ie,k)=>{k.d(Ie,{O:()=>X,x:()=>R});var c=k(2416);let Y=null;function R(ee){if(c.v.useDeprecatedSynchronousErrorHandling){const te=!Y;if(te&&(Y={errorThrown:!1,error:null}),ee(),te){const{errorThrown:le,error:ue}=Y;if(Y=null,le)throw ue}}else ee()}function X(ee){c.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=ee)}},9672:(pt,Ie,k)=>{function c(Y,R,X,ee=0,te=!1){const le=R.schedule(function(){X(),te?Y.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(Y.add(le),!te)return le}k.d(Ie,{f:()=>c})},4671:(pt,Ie,k)=>{function c(Y){return Y}k.d(Ie,{y:()=>c})},1144:(pt,Ie,k)=>{k.d(Ie,{z:()=>c});const c=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(pt,Ie,k)=>{k.d(Ie,{D:()=>Y});var c=k(576);function Y(R){return Symbol.asyncIterator&&(0,c.m)(R?.[Symbol.asyncIterator])}},576:(pt,Ie,k)=>{function c(Y){return"function"==typeof Y}k.d(Ie,{m:()=>c})},3670:(pt,Ie,k)=>{k.d(Ie,{c:()=>R});var c=k(8822),Y=k(576);function R(X){return(0,Y.m)(X[c.L])}},6495:(pt,Ie,k)=>{k.d(Ie,{T:()=>R});var c=k(2202),Y=k(576);function R(X){return(0,Y.m)(X?.[c.h])}},8239:(pt,Ie,k)=>{k.d(Ie,{t:()=>Y});var c=k(576);function Y(R){return(0,c.m)(R?.then)}},3260:(pt,Ie,k)=>{k.d(Ie,{L:()=>X,Q:()=>R});var c=k(655),Y=k(576);function R(ee){return(0,c.FC)(this,arguments,function*(){const le=ee.getReader();try{for(;;){const{value:ue,done:oe}=yield(0,c.qq)(le.read());if(oe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ue)}}finally{le.releaseLock()}})}function X(ee){return(0,Y.m)(ee?.getReader)}},4482:(pt,Ie,k)=>{k.d(Ie,{A:()=>Y,e:()=>R});var c=k(576);function Y(X){return(0,c.m)(X?.lift)}function R(X){return ee=>{if(Y(ee))return ee.lift(function(te){try{return X(te,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(pt,Ie,k)=>{k.d(Ie,{U:()=>R,z:()=>Y});var c=k(4671);function Y(...X){return R(X)}function R(X){return 0===X.length?c.y:1===X.length?X[0]:function(te){return X.reduce((le,ue)=>ue(le),te)}}},7849:(pt,Ie,k)=>{k.d(Ie,{h:()=>R});var c=k(2416),Y=k(3410);function R(X){Y.z.setTimeout(()=>{const{onUnhandledError:ee}=c.v;if(!ee)throw X;ee(X)})}},4532:(pt,Ie,k)=>{function c(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ie,{z:()=>c})},655:(pt,Ie,k)=>{function X(re,ce){var _e={};for(var Ae in re)Object.prototype.hasOwnProperty.call(re,Ae)&&ce.indexOf(Ae)<0&&(_e[Ae]=re[Ae]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(Ae=Object.getOwnPropertySymbols(re);Ne<Ae.length;Ne++)ce.indexOf(Ae[Ne])<0&&Object.prototype.propertyIsEnumerable.call(re,Ae[Ne])&&(_e[Ae[Ne]]=re[Ae[Ne]])}return _e}function q(re,ce,_e,Ae){return new(_e||(_e=Promise))(function($e,Ye){function We(Yt){try{yt(Ae.next(Yt))}catch(et){Ye(et)}}function Xt(Yt){try{yt(Ae.throw(Yt))}catch(et){Ye(et)}}function yt(Yt){Yt.done?$e(Yt.value):function Ne($e){return $e instanceof _e?$e:new _e(function(Ye){Ye($e)})}(Yt.value).then(We,Xt)}yt((Ae=Ae.apply(re,ce||[])).next())})}function we(re){return this instanceof we?(this.v=re,this):new we(re)}function ye(re,ce,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Ae=_e.apply(re,ce||[]),$e=[];return Ne={},Ye("next"),Ye("throw"),Ye("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function Ye(xt){Ae[xt]&&(Ne[xt]=function(Ln){return new Promise(function(an,_n){$e.push([xt,Ln,an,_n])>1||We(xt,Ln)})})}function We(xt,Ln){try{!function Xt(xt){xt.value instanceof we?Promise.resolve(xt.value.v).then(yt,Yt):et($e[0][2],xt)}(Ae[xt](Ln))}catch(an){et($e[0][3],an)}}function yt(xt){We("next",xt)}function Yt(xt){We("throw",xt)}function et(xt,Ln){xt(Ln),$e.shift(),$e.length&&We($e[0][0],$e[0][1])}}function Ve(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ce=re[Symbol.asyncIterator];return ce?ce.call(re):(re=function it(re){var ce="function"==typeof Symbol&&Symbol.iterator,_e=ce&&re[ce],Ae=0;if(_e)return _e.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Ae>=re.length&&(re=void 0),{value:re&&re[Ae++],done:!re}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),_e={},Ae("next"),Ae("throw"),Ae("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function Ae($e){_e[$e]=re[$e]&&function(Ye){return new Promise(function(We,Xt){!function Ne($e,Ye,We,Xt){Promise.resolve(Xt).then(function(yt){$e({value:yt,done:We})},Ye)}(We,Xt,(Ye=re[$e](Ye)).done,Ye.value)})}}}k.d(Ie,{FC:()=>ye,KL:()=>Ve,_T:()=>X,mG:()=>q,qq:()=>we})},4650:(pt,Ie,k)=>{k.d(Ie,{$8M:()=>Eu,$WT:()=>Bn,$Z:()=>ty,AFp:()=>Hi,ALo:()=>tb,AaK:()=>ue,CRH:()=>lb,CZH:()=>Om,CqO:()=>Yw,D6c:()=>Fn,DdM:()=>hm,Dn7:()=>w0,EJc:()=>ND,F4k:()=>Cy,FYo:()=>rf,FiY:()=>Mu,GfV:()=>U_,Gpc:()=>j,JOm:()=>Fi,LFG:()=>He,LSH:()=>Zv,Lbi:()=>nc,Lck:()=>lm,MAs:()=>LI,MMx:()=>d0,NdJ:()=>Pg,OlP:()=>sn,Oqu:()=>ky,P3R:()=>ro,PXZ:()=>z0,Q6J:()=>yy,QGY:()=>wy,Qsj:()=>ag,R0b:()=>Qr,RDi:()=>rs,Rgc:()=>Xd,SBq:()=>Sd,Sil:()=>Xn,Suo:()=>Cm,TTD:()=>ru,TgZ:()=>Cf,VKq:()=>KC,WLB:()=>YC,X6Q:()=>gn,XFs:()=>gt,Xpm:()=>na,Xts:()=>S_,Y36:()=>uf,YKP:()=>Sn,YNc:()=>FI,Yjl:()=>ia,Yz7:()=>et,Z0I:()=>_n,ZZ4:()=>Xa,_Bn:()=>zf,_UZ:()=>bf,_Vd:()=>nf,_c5:()=>qD,_uU:()=>rD,aQg:()=>Bm,c2e:()=>Xf,cJS:()=>Ln,cg1:()=>Mf,dDg:()=>LD,dqk:()=>St,eFA:()=>W0,ekj:()=>uC,eoX:()=>$0,f3M:()=>tt,g9A:()=>Ib,h0i:()=>Cl,hGG:()=>WD,hij:()=>pe,iGM:()=>cb,ifc:()=>vt,ip1:()=>Cb,jDz:()=>HC,kL8:()=>Wg,lG2:()=>ra,lqb:()=>il,lri:()=>j0,n5z:()=>nd,oAB:()=>bn,oxw:()=>Jw,q4F:()=>tw,qLn:()=>Md,qOj:()=>ll,qZA:()=>Gu,rWj:()=>Ab,s9C:()=>Ng,sBO:()=>kb,s_b:()=>Kf,soG:()=>tp,tb:()=>F0,tp0:()=>D,uIk:()=>zw,vHH:()=>he,vpe:()=>ls,wAp:()=>bt,xi3:()=>Wf,xp6:()=>dw,z2F:()=>Nm,zSh:()=>Kv,zs3:()=>sl});var c=k(7579),Y=k(727),R=k(9751),X=k(6451),ee=k(3099);function te(i){for(let o in i)if(i[o]===te)return o;throw Error("Could not find renamed property on target object.")}function le(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function ue(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ue).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function oe(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const B=te({__forward_ref__:te});function j(i){return i.__forward_ref__=j,i.toString=function(){return ue(this())},i}function q(i){return je(i)?i():i}function je(i){return"function"==typeof i&&i.hasOwnProperty(B)&&i.__forward_ref__===j}function Ce(i){return i&&!!i.\u0275providers}const it="https://g.co/ng/security#xss";class he extends Error{constructor(o,a){super(be(o,a)),this.code=o}}function be(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}function Ee(i){return"string"==typeof i?i:null==i?"":String(i)}function Ve(i,o){throw new he(-201,!1)}function Ye(i,o){null==i&&function We(i,o,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function et(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ln(i){return{providers:i.providers||[],imports:i.imports||[]}}function an(i){return vn(i,kr)||vn(i,yn)}function _n(i){return null!==an(i)}function vn(i,o){return i.hasOwnProperty(o)?i[o]:null}function ti(i){return i&&(i.hasOwnProperty(ho)||i.hasOwnProperty(Nr))?i[ho]:null}const kr=te({\u0275prov:te}),ho=te({\u0275inj:te}),yn=te({ngInjectableDef:te}),Nr=te({ngInjectorDef:te});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let fo;function wn(i){const o=fo;return fo=i,o}function ur(i,o,a){const l=an(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&gt.Optional?null:void 0!==o?o:void Ve(ue(i))}const St=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),dn={},Vn="__NG_DI_FLAG__",Er="ngTempTokenPath",cr="ngTokenPath",ta=/\n/gm,rn="\u0275",zi="__source";let qt;function Ir(i){const o=qt;return qt=i,o}function Ai(i,o=gt.Default){if(void 0===qt)throw new he(-203,!1);return null===qt?ur(i,void 0,o):qt.get(i,o&gt.Optional?null:void 0,o)}function He(i,o=gt.Default){return(function pi(){return fo}()||Ai)(q(i),o)}function tt(i,o=gt.Default){return He(i,Et(o))}function Et(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Mt(i){const o=[];for(let a=0;a<i.length;a++){const l=q(i[a]);if(Array.isArray(l)){if(0===l.length)throw new he(900,!1);let h,p=gt.Default;for(let y=0;y<l.length;y++){const C=l[y],b=lr(C);"number"==typeof b?-1===b?h=C.token:p|=b:h=C}o.push(He(h,p))}else o.push(He(l))}return o}function Ft(i,o){return i[Vn]=o,i.prototype[Vn]=o,i}function lr(i){return i[Vn]}function z(i){return{toString:i}.toString()}var fe=(()=>((fe=fe||{})[fe.OnPush=0]="OnPush",fe[fe.Default=1]="Default",fe))(),vt=(()=>{return(i=vt||(vt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",vt;var i})();const Qt={},Ct=[],Cn=te({\u0275cmp:te}),Un=te({\u0275dir:te}),zt=te({\u0275pipe:te}),gi=te({\u0275mod:te}),qn=te({\u0275fac:te}),Fo=te({__NG_ELEMENT_ID__:te});let vh=0;function na(i){return z(()=>{const a=!0===i.standalone,l={},h={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===fe.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Ct,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||vt.Emulated,id:"c"+vh++,styles:i.styles||Ct,_:null,setInput:null,schemas:i.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=i.dependencies,y=i.features;return h.inputs=fc(i.inputs,l),h.outputs=fc(i.outputs),y&&y.forEach(C=>C(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(hc).filter(Vl):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(Rn).filter(Vl):null,h})}function hc(i){return Wt(i)||Wn(i)}function Vl(i){return null!==i}function bn(i){return z(()=>({type:i.type,bootstrap:i.bootstrap||Ct,declarations:i.declarations||Ct,imports:i.imports||Ct,exports:i.exports||Ct,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function fc(i,o){if(null==i)return Qt;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,o&&(o[h]=p)}return a}const ra=na;function ia(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Wt(i){return i[Cn]||null}function Wn(i){return i[Un]||null}function Rn(i){return i[zt]||null}function Bn(i){const o=Wt(i)||Wn(i)||Rn(i);return null!==o&&o.standalone}function dr(i,o){const a=i[gi]||null;if(!a&&!0===o)throw new Error(`Type ${ue(i)} does not have '\u0275mod' property.`);return a}const ni=0,Qe=1,Ot=2,hn=3,Dr=4,Gi=5,jn=6,Fr=7,En=8,hs=9,xi=10,Lt=11,pc=12,po=13,gc=14,mi=15,hr=16,fs=17,Lo=18,_i=19,go=20,qi=21,un=22,ri=1,Bl=2,ps=7,Vo=8,Tr=9,fr=10;function Lr(i){return Array.isArray(i)&&"object"==typeof i[ri]}function yi(i){return Array.isArray(i)&&!0===i[ri]}function oa(i){return 0!=(4&i.flags)}function vi(i){return i.componentOffset>-1}function mc(i){return 1==(1&i.flags)}function Vr(i){return null!==i.template}function sa(i){return 0!=(256&i[Ot])}function Bo(i,o){return i.hasOwnProperty(qn)?i[qn]:null}class jo{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function ru(){return _s}function _s(i){return i.type.prototype.ngOnChanges&&(i.setInput=ys),iu}function iu(){const i=ua(this),o=i?.current;if(o){const a=i.previous;if(a===Qt)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function ys(i,o,a,l){const h=this.declaredInputs[a],p=ua(i)||function Hl(i,o){return i[$o]=o}(i,{previous:Qt,current:null}),y=p.current||(p.current={}),C=p.previous,b=C[h];y[h]=new jo(b&&b.currentValue,o,C===Qt),i[l]=o}ru.ngInherit=!0;const $o="__ngSimpleChanges__";function ua(i){return i[$o]||null}const Ur=function(i,o,a){};function kn(i){for(;Array.isArray(i);)i=i[ni];return i}function Ho(i,o){return kn(o[i])}function $n(i,o){return kn(o[i.index])}function bs(i,o){return i.data[o]}function Zo(i,o){return i[o]}function er(i,o){const a=o[i];return Lr(a)?a:a[ni]}function Es(i){return 64==(64&i[Ot])}function Ki(i,o){return null==o?null:i[o]}function la(i){i[Lo]=0}function da(i,o){i[Gi]+=o;let a=i,l=i[hn];for(;null!==l&&(1===o&&1===a[Gi]||-1===o&&0===a[Gi]);)l[Gi]+=o,a=l,l=l[hn]}const Tt={lFrame:c_(null),bindingsEnabled:!0};function cu(){return Tt.bindingsEnabled}function de(){return Tt.lFrame.lView}function Kt(){return Tt.lFrame.tView}function or(){let i=ha();for(;null!==i&&64===i.type;)i=i.parent;return i}function ha(){return Tt.lFrame.currentTNode}function Br(i,o){const a=Tt.lFrame;a.currentTNode=i,a.isParent=o}function du(){return Tt.lFrame.isParent}function Kn(){const i=Tt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function zo(){return Tt.lFrame.bindingIndex++}function Wl(i,o){const a=Tt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ac(o)}function Ac(i){Tt.lFrame.currentDirectiveIndex=i}function Kl(){return Tt.lFrame.currentQueryIndex}function xc(i){Tt.lFrame.currentQueryIndex=i}function Yl(i){const o=i[Qe];return 2===o.type?o.declTNode:1===o.type?i[jn]:null}function Th(i,o,a){if(a&gt.SkipSelf){let h=o,p=i;for(;!(h=h.parent,null!==h||a&gt.Host||(h=Yl(p),null===h||(p=p[mi],10&h.type))););if(null===h)return!1;o=h,i=p}const l=Tt.lFrame=Ah();return l.currentTNode=o,l.lView=i,!0}function pu(i){const o=Ah(),a=i[Qe];Tt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ah(){const i=Tt.lFrame,o=null===i?null:i.child;return null===o?c_(i):o}function c_(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Sp(){const i=Tt.lFrame;return Tt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Sc=Sp;function Mp(){const i=Sp();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function xr(){return Tt.lFrame.selectedIndex}function Is(i){Tt.lFrame.selectedIndex=i}function fn(){const i=Tt.lFrame;return bs(i.tView,i.selectedIndex)}function pa(i,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:M}=p;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),C&&((i.contentHooks||(i.contentHooks=[])).push(a,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,C)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function Go(i,o,a){ga(i,o,3,a)}function Oc(i,o,a,l){(3&i[Ot])===a&&ga(i,o,a,l)}function _o(i,o){let a=i[Ot];(3&a)===o&&(a&=2047,a+=1,i[Ot]=a)}function ga(i,o,a,l){const p=l??-1,y=o.length-1;let C=0;for(let b=void 0!==l?65535&i[Lo]:0;b<y;b++)if("number"==typeof o[b+1]){if(C=o[b],null!=l&&C>=l)break}else o[b]<0&&(i[Lo]+=65536),(C<p||-1==p)&&(ma(i,a,o,b),i[Lo]=(4294901760&i[Lo])+b+2),b++}function ma(i,o,a,l){const h=a[l]<0,p=a[l+1],C=i[h?-a[l]:a[l]];if(h){if(i[Ot]>>11<i[Lo]>>16&&(3&i[Ot])===o){i[Ot]+=2048,Ur(4,C,p);try{p.call(C)}finally{Ur(5,C,p)}}}else{Ur(4,C,p);try{p.call(C)}finally{Ur(5,C,p)}}}const Ts=-1;class yo{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function In(i,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const p=a[l++],y=a[l++],C=a[l++];i.setAttribute(o,y,C,p)}else{const p=h,y=a[++l];Qi(p)?i.setProperty(o,p,y):i.setAttribute(o,p,y),l++}}return l}function ya(i){return 3===i||4===i||6===i}function Qi(i){return 64===i.charCodeAt(0)}function Ji(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||As(i,a,h,null,-1===a||2===a?o[++l]:null)}}return i}function As(i,o,a,l,h){let p=0,y=i.length;if(-1===o)y=-1;else for(;p<i.length;){const C=i[p++];if("number"==typeof C){if(C===o){y=-1;break}if(C>o){y=p-1;break}}}for(;p<i.length;){const C=i[p];if("number"==typeof C)break;if(C===a){if(null===l)return void(null!==h&&(i[p+1]=h));if(l===i[p+1])return void(i[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==y&&(i.splice(y,0,o),p=y+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==h&&i.splice(p++,0,h)}function Pc(i){return i!==Ts}function va(i){return 32767&i}function _u(i,o){let a=function mu(i){return i>>16}(i),l=o;for(;a>0;)l=l[mi],a--;return l}let vo=!0;function xs(i){const o=vo;return vo=i,o}const wa=255,Ca=5;let yu=0;const pr={};function Ms(i,o){const a=Ea(i,o);if(-1!==a)return a;const l=o[Qe];l.firstCreatePass&&(i.injectorIndex=o.length,wo(l.data,i),wo(o,null),wo(l.blueprint,null));const h=vu(i,o),p=i.injectorIndex;if(Pc(h)){const y=va(h),C=_u(h,o),b=C[Qe].data;for(let T=0;T<8;T++)o[p+T]=C[y+T]|b[y+T]}return o[p+8]=h,p}function wo(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Ea(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function vu(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=kc(h),null===l)return Ts;if(a++,h=h[mi],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Ts}function Ia(i,o,a){!function ba(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Fo)&&(l=a[Fo]),null==l&&(l=a[Fo]=yu++);const h=l&wa;o.data[i+(h>>Ca)]|=1<<h}(i,o,a)}function Ko(i,o,a){if(a&gt.Optional||void 0!==i)return i;Ve()}function Da(i,o,a,l){if(a&gt.Optional&&void 0===l&&(l=null),!(a&(gt.Self|gt.Host))){const h=i[hs],p=wn(void 0);try{return h?h.get(o,l,a&gt.Optional):ur(o,l,a&gt.Optional)}finally{wn(p)}}return Ko(l,0,a)}function ed(i,o,a,l=gt.Default,h){if(null!==i){if(1024&o[Ot]){const y=function rd(i,o,a,l,h){let p=i,y=o;for(;null!==p&&null!==y&&1024&y[Ot]&&!(256&y[Ot]);){const C=Oi(p,y,a,l|gt.Self,pr);if(C!==pr)return C;let b=p.parent;if(!b){const T=y[qi];if(T){const M=T.get(a,pr,l);if(M!==pr)return M}b=kc(y),y=y[mi]}p=b}return h}(i,o,a,l,pr);if(y!==pr)return y}const p=Oi(i,o,a,l,pr);if(p!==pr)return p}return Da(o,a,l,h)}function Oi(i,o,a,l,h){const p=function td(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Fo)?i[Fo]:void 0;return"number"==typeof o?o>=0?o&wa:Rp:o}(a);if("function"==typeof p){if(!Th(o,i,l))return l&gt.Host?Ko(h,0,l):Da(o,a,l,h);try{const y=p(l);if(null!=y||l&gt.Optional)return y;Ve()}finally{Sc()}}else if("number"==typeof p){let y=null,C=Ea(i,o),b=Ts,T=l&gt.Host?o[hr][jn]:null;for((-1===C||l&gt.SkipSelf)&&(b=-1===C?vu(i,o):o[C+8],b!==Ts&&Xi(l,!1)?(y=o[Qe],C=va(b),o=_u(b,o)):C=-1);-1!==C;){const M=o[Qe];if(Cu(p,C,M.data)){const N=wu(C,o,a,y,l,T);if(N!==pr)return N}b=o[C+8],b!==Ts&&Xi(l,o[Qe].data[C+8]===T)&&Cu(p,C,o)?(y=M,C=va(b),o=_u(b,o)):C=-1}}return h}function wu(i,o,a,l,h,p){const y=o[Qe],C=y.data[i+8],M=Yo(C,y,a,null==l?vi(C)&&vo:l!=y&&0!=(3&C.type),h&gt.Host&&p===C);return null!==M?Pi(o,y,M,C):pr}function Yo(i,o,a,l,h){const p=i.providerIndexes,y=o.data,C=1048575&p,b=i.directiveStart,M=p>>20,Z=h?C+M:i.directiveEnd;for(let K=l?C:C+M;K<Z;K++){const ge=y[K];if(K<b&&a===ge||K>=b&&ge.type===a)return K}if(h){const K=y[b];if(K&&Vr(K)&&K.type===a)return b}return null}function Pi(i,o,a,l){let h=i[a];const p=o.data;if(function oi(i){return i instanceof yo}(h)){const y=h;y.resolving&&function we(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new he(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Fe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ee(i)}(p[a]));const C=xs(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?wn(y.injectImpl):null;Th(i,l,gt.Default);try{h=i[a]=y.factory(void 0,p,i,l),o.firstCreatePass&&a>=l.directiveStart&&function Pp(i,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const y=_s(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],o)}finally{null!==b&&wn(b),xs(C),y.resolving=!1,Sc()}}return h}function Cu(i,o,a){return!!(a[o+(i>>Ca)]&1<<i)}function Xi(i,o){return!(i&gt.Self||i&gt.Host&&o)}class wi{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return ed(this._tNode,this._lView,o,Et(l),a)}}function Rp(){return new wi(or(),de())}function nd(i){return z(()=>{const o=i.prototype.constructor,a=o[qn]||bu(o),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const p=h[qn]||bu(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function bu(i){return je(i)?()=>{const o=bu(q(i));return o&&o()}:Bo(i)}function kc(i){const o=i[Qe],a=o.type;return 2===a?o.declTNode:1===a?i[jn]:null}function Eu(i){return function Rc(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(ya(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(or(),i)}const Ta="__parameters__";function Aa(i,o,a){return z(()=>{const l=function Mh(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const y=new h(...p);return C.annotation=y,C;function C(b,T,M){const N=b.hasOwnProperty(Ta)?b[Ta]:Object.defineProperty(b,Ta,{value:[]})[Ta];for(;N.length<=M;)N.push(null);return(N[M]=N[M]||[]).push(y),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class sn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=et({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ri(i,o){i.forEach(a=>Array.isArray(a)?Ri(a,o):o(a))}function Au(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function Os(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Sr(i,o,a){let l=ki(i,o);return l>=0?i[1|l]=a:(l=~l,function Rh(i,o,a,l){let h=i.length;if(h==o)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function Su(i,o){const a=ki(i,o);if(a>=0)return i[1|a]}function ki(i,o){return function kh(i,o,a){let l=0,h=i.length>>a;for(;h!==l;){const p=l+(h-l>>1),y=i[p<<a];if(o===y)return p<<a;y>o?h=p:l=p+1}return~(h<<a)}(i,o,1)}const Mu=Ft(Aa("Optional"),8),D=Ft(Aa("SkipSelf"),4);var Fi=(()=>((Fi=Fi||{})[Fi.Important=1]="Important",Fi[Fi.DashCase=2]="DashCase",Fi))();const ts=new Map;let g_=0;const tr="__ngContext__";function An(i,o){Lr(o)?(i[tr]=o[go],function m_(i){ts.set(i[go],i)}(o)):i[tr]=o}let Bt;function Oa(i,o){return Bt(i,o)}function bi(i){const o=i[hn];return yi(o)?o[hn]:o}function Pa(i){return jc(i[po])}function Zh(i){return jc(i[Dr])}function jc(i){for(;null!==i&&!yi(i);)i=i[Dr];return i}function Do(i,o,a,l,h){if(null!=l){let p,y=!1;yi(l)?p=l:Lr(l)&&(y=!0,l=l[ni]);const C=kn(l);0===i&&null!==a?null==h?Li(o,a,C):ka(o,a,C,h||null,!0):1===i&&null!==a?ka(o,a,C,h||null,!0):2===i?function js(i,o,a){const l=Zc(i,o);l&&function E_(i,o,a,l){i.removeChild(o,a,l)}(i,l,o,a)}(o,C,y):3===i&&o.destroyNode(C),null!=p&&function Wh(i,o,a,l,h){const p=a[ps];p!==kn(a)&&Do(o,i,l,p,h);for(let C=fr;C<a.length;C++){const b=a[C];Fa(b[Qe],b,i,o,l,p)}}(o,i,p,a,h)}}function Ra(i,o,a){return i.createElement(o,a)}function Bs(i,o){const a=i[Tr],l=a.indexOf(o),h=o[hn];512&o[Ot]&&(o[Ot]&=-513,da(h,-1)),a.splice(l,1)}function Gh(i,o){if(i.length<=fr)return;const a=fr+o,l=i[a];if(l){const h=l[fs];null!==h&&h!==i&&Bs(h,l),o>0&&(i[a-1][Dr]=l[Dr]);const p=Os(i,fr+o);!function gd(i,o){Fa(i,o,o[Lt],2,null,null),o[ni]=null,o[jn]=null}(l[Qe],l);const y=p[_i];null!==y&&y.detachView(p[Qe]),l[hn]=null,l[Dr]=null,l[Ot]&=-65}return l}function Hp(i,o){if(!(128&o[Ot])){const a=o[Lt];a.destroyNode&&Fa(i,o,a,3,null,null),function zh(i){let o=i[po];if(!o)return qh(i[Qe],i);for(;o;){let a=null;if(Lr(o))a=o[po];else{const l=o[fr];l&&(a=l)}if(!a){for(;o&&!o[Dr]&&o!==i;)Lr(o)&&qh(o[Qe],o),o=o[hn];null===o&&(o=i),Lr(o)&&qh(o[Qe],o),a=o&&o[Dr]}o=a}}(o)}}function qh(i,o){if(!(128&o[Ot])){o[Ot]&=-65,o[Ot]|=128,function b_(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof yo)){const p=a[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const C=h[p[y]],b=p[y+1];Ur(4,C,b);try{b.call(C)}finally{Ur(5,C,b)}}else{Ur(4,h,p);try{p.call(h)}finally{Ur(5,h,p)}}}}}(i,o),function Zp(i,o){const a=i.cleanup,l=o[Fr];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?l[h=y]():l[h=-y].unsubscribe(),p+=2}else{const y=l[h=a[p+1]];a[p].call(y)}if(null!==l){for(let p=h+1;p<l.length;p++)(0,l[p])();o[Fr]=null}}(i,o),1===o[Qe].type&&o[Lt].destroy();const a=o[fs];if(null!==a&&yi(o[hn])){a!==o[hn]&&Bs(a,o);const l=o[_i];null!==l&&l.detachView(i)}!function Io(i){ts.delete(i[go])}(o)}}function _d(i,o,a){return function Hc(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[ni];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:p}=i.data[l.directiveStart+h];if(p===vt.None||p===vt.Emulated)return null}return $n(l,a)}}(i,o.parent,a)}function ka(i,o,a,l,h){i.insertBefore(o,a,l,h)}function Li(i,o,a){i.appendChild(o,a)}function yd(i,o,a,l,h){null!==l?ka(i,o,a,l,h):Li(i,o,a)}function Zc(i,o){return i.parentNode(o)}let Nu,Yh,Wc,ns=function Na(i,o,a){return 40&i.type?$n(i,a):null};function zc(i,o,a,l){const h=_d(i,l,o),p=o[Lt],C=function ku(i,o,a){return ns(i,o,a)}(l.parent||o[jn],l,o);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)yd(p,h,a[b],C,!1);else yd(p,h,a,C,!1);void 0!==Nu&&Nu(p,l,o,a,h)}function to(i,o){if(null!==o){const a=o.type;if(3&a)return $n(o,i);if(4&a)return Gr(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return to(i,l);{const h=i[o.index];return yi(h)?Gr(-1,h):kn(h)}}if(32&a)return Oa(o,i)()||kn(i[o.index]);{const l=zp(i,o);return null!==l?Array.isArray(l)?l[0]:to(bi(i[hr]),l):to(i,o.next)}}return null}function zp(i,o){return null!==o?i[hr][jn].projection[o.projection]:null}function Gr(i,o){const a=fr+i+1;if(a<o.length){const l=o[a],h=l[Qe].firstChild;if(null!==h)return to(l,h)}return o[ps]}function wd(i,o,a,l,h,p,y){for(;null!=a;){const C=l[a.index],b=a.type;if(y&&0===o&&(C&&An(kn(C),l),a.flags|=2),32!=(32&a.flags))if(8&b)wd(i,o,a.child,l,h,p,!1),Do(o,i,h,C,p);else if(32&b){const T=Oa(a,l);let M;for(;M=T();)Do(o,i,h,M,p);Do(o,i,h,C,p)}else 16&b?Cd(i,o,l,a,h,p):Do(o,i,h,C,p);a=y?a.projectionNext:a.next}}function Fa(i,o,a,l,h,p){wd(a,l,i.firstChild,o,h,p,!1)}function Cd(i,o,a,l,h,p){const y=a[hr],b=y[jn].projection[l.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)Do(o,i,h,b[T],p);else wd(i,o,b,y[hn],h,p,!0)}function To(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function La(i,o,a){const{mergedAttrs:l,classes:h,styles:p}=a;null!==l&&In(i,o,l),null!==h&&To(i,o,h),null!==p&&function qp(i,o,a){i.setAttribute(o,"style",a)}(i,o,p)}function rs(i){Yh=i}function Kp(i){return function Ed(){if(void 0===Wc&&(Wc=null,St.trustedTypes))try{Wc=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Wc}()?.createScriptURL(i)||i}class Yp{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}function v(i){return i instanceof Yp?i.changingThisBreaksApplicationSecurity:i}function A(i,o){const a=function O(i){return i instanceof Yp&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${it})`)}return a===o}const Jp=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var _r=(()=>((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r))();function Zv(i){const o=Xh();return o?o.sanitize(_r.URL,i)||"":A(i,"URL")?v(i):function Hs(i){return(i=String(i)).match(Jp)?i:"unsafe:"+i}(Ee(i))}function rg(i){const o=Xh();if(o)return Kp(o.sanitize(_r.RESOURCE_URL,i)||"");if(A(i,"ResourceURL"))return Kp(v(i));throw new he(904,!1)}function ro(i,o,a){return function x_(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?rg:Zv}(o,a)(i)}function Xh(){const i=de();return i&&i[pc]}const S_=new sn("ENVIRONMENT_INITIALIZER"),M_=new sn("INJECTOR",-1),ef=new sn("INJECTOR_DEF_TYPES");class zv{get(o,a=dn){if(a===dn){const l=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw l.name="NullInjectorError",l}return a}}function Dd(...i){return{\u0275providers:Td(0,i),\u0275fromNgModule:!0}}function Td(i,...o){const a=[],l=new Set;let h;return Ri(o,p=>{const y=p;O_(y,a,[],l)&&(h||(h=[]),h.push(y))}),void 0!==h&&Gv(h,a),a}function Gv(i,o){for(let a=0;a<i.length;a++){const{providers:h}=i[a];nl(h,p=>{o.push(p)})}}function O_(i,o,a,l){if(!(i=q(i)))return!1;let h=null,p=ti(i);const y=!p&&Wt(i);if(p||y){if(y&&!y.standalone)return!1;h=i}else{const b=i.ngModule;if(p=ti(b),!p)return!1;h=b}const C=l.has(h);if(y){if(C)return!1;if(l.add(h),y.dependencies){const b="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of b)O_(T,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let T;l.add(h);try{Ri(p.imports,M=>{O_(M,o,a,l)&&(T||(T=[]),T.push(M))})}finally{}void 0!==T&&Gv(T,o)}if(!C){const T=Bo(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:Ct},{provide:ef,useValue:h,multi:!0},{provide:S_,useValue:()=>He(h),multi:!0})}const b=p.providers;null==b||C||nl(b,M=>{o.push(M)})}}return h!==i&&void 0!==i.providers}function nl(i,o){for(let a of i)Ce(a)&&(a=a.\u0275providers),Array.isArray(a)?nl(a,o):o(a)}const $E=te({provide:String,useValue:te});function P_(i){return null!==i&&"object"==typeof i&&$E in i}function rl(i){return"function"==typeof i}const Kv=new sn("Set Injector scope."),sg={},R_={};let Ad;function Va(){return void 0===Ad&&(Ad=new zv),Ad}class il{}class Yv extends il{get destroyed(){return this._destroyed}constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,N_(o,y=>this.processProvider(y)),this.records.set(M_,xd(void 0,this)),h.has("environment")&&this.records.set(il,xd(void 0,this));const p=this.records.get(Kv);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ef.multi,Ct,gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Ir(this),l=wn(void 0);try{return o()}finally{Ir(a),wn(l)}}get(o,a=dn,l=gt.Default){this.assertNotDestroyed(),l=Et(l);const h=Ir(this),p=wn(void 0);try{if(!(l&gt.SkipSelf)){let C=this.records.get(o);if(void 0===C){const b=function Jv(i){return"function"==typeof i||"object"==typeof i&&i instanceof sn}(o)&&an(o);C=b&&this.injectableDefInScope(b)?xd(k_(o),sg):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(l&gt.Self?Va():this.parent).get(o,a=l&gt.Optional&&a===dn?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Er]=y[Er]||[]).unshift(ue(o)),h)throw y;return function U(i,o,a,l){const h=i[Er];throw o[zi]&&h.unshift(o[zi]),i.message=function L(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==rn?i.slice(2):i;let h=ue(o);if(Array.isArray(o))h=o.map(ue).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let C=o[y];p.push(y+":"+("string"==typeof C?JSON.stringify(C):ue(C)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(ta,"\n  ")}`}("\n"+i.message,h,a,l),i[cr]=h,i[Er]=null,i}(y,o,"R3InjectorError",this.source)}throw y}finally{wn(p),Ir(h)}}resolveInjectorInitializers(){const o=Ir(this),a=wn(void 0);try{const l=this.get(S_.multi,Ct,gt.Self);for(const h of l)h()}finally{Ir(o),wn(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(ue(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(o){let a=rl(o=q(o))?o:q(o&&o.provide);const l=function zE(i){return P_(i)?xd(void 0,i.useValue):xd(Qv(i),sg)}(o);if(rl(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=xd(void 0,sg,!0),h.factory=()=>Mt(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===sg&&(a.value=R_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function qE(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function k_(i){const o=an(i),a=null!==o?o.factory:Bo(i);if(null!==a)return a;if(i instanceof sn)throw new he(204,!1);if(i instanceof Function)return function ZE(i){const o=i.length;if(o>0)throw function Ps(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}(o,"?"),new he(204,!1);const a=function ei(i){const o=i&&(i[kr]||i[yn]);return o?(function Ro(i){if(i.hasOwnProperty("name"))return i.name;(""+i).match(/^function\s*([^\s(]+)/)}(i),o):null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new he(204,!1)}function Qv(i,o,a){let l;if(rl(i)){const h=q(i);return Bo(h)||k_(h)}if(P_(i))l=()=>q(i.useValue);else if(function Wv(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Mt(i.deps||[]));else if(function qv(i){return!(!i||!i.useExisting)}(i))l=()=>He(q(i.useExisting));else{const h=q(i&&(i.useClass||i.provide));if(!function GE(i){return!!i.deps}(i))return Bo(h)||k_(h);l=()=>new h(...Mt(i.deps))}return l}function xd(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function N_(i,o){for(const a of i)Array.isArray(a)?N_(a,o):a&&Ce(a)?N_(a.\u0275providers,o):o(a)}class F_{}class L_{}class WE{resolveComponentFactory(o){throw function V_(i){const o=Error(`No component factory found for ${ue(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let nf=(()=>{class i{}return i.NULL=new WE,i})();function KE(){return Ua(or(),de())}function Ua(i,o){return new Sd($n(i,o))}let Sd=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=KE,i})();function Xv(i){return i instanceof Sd?i.nativeElement:i}class rf{}let ag=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function ew(){const i=de(),a=er(or().index,i);return(Lr(a)?a:i)[Lt]}(),i})(),sf=(()=>{class i{}return i.\u0275prov=et({token:i,providedIn:"root",factory:()=>null}),i})();class U_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const tw=new U_("15.2.0"),B_={},j_="ngOriginalError";function $_(i){return i[j_]}class Md{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&$_(o);for(;a&&$_(a);)a=$_(a);return a||null}}function Ba(i){return i instanceof Function?i():i}function iw(i,o,a){let l=i.length;for(;;){const h=i.indexOf(o,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||i.charCodeAt(h+p)<=32)return h}a=h+1}}const ow="ng-template";function oI(i,o,a){let l=0;for(;l<i.length;){let h=i[l++];if(a&&"class"===h){if(h=i[l],-1!==iw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<i.length&&"string"==typeof(h=i[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function sw(i){return 4===i.type&&i.value!==ow}function sI(i,o,a){return o===(4!==i.type||a?i.value:ow)}function aw(i,o,a){let l=4;const h=i.attrs||[],p=function z_(i){for(let o=0;o<i.length;o++)if(ya(i[o]))return o;return i.length}(h);let y=!1;for(let C=0;C<o.length;C++){const b=o[C];if("number"!=typeof b){if(!y)if(4&l){if(l=2|1&l,""!==b&&!sI(i,b,a)||""===b&&1===o.length){if(io(l))return!1;y=!0}}else{const T=8&l?b:o[++C];if(8&l&&null!==i.attrs){if(!oI(i.attrs,T,a)){if(io(l))return!1;y=!0}continue}const N=aI(8&l?"class":b,h,sw(i),a);if(-1===N){if(io(l))return!1;y=!0;continue}if(""!==T){let Z;Z=N>p?"":h[N+1].toLowerCase();const K=8&l?Z:null;if(K&&-1!==iw(K,T,0)||2&l&&T!==Z){if(io(l))return!1;y=!0}}}}else{if(!y&&!io(l)&&!io(b))return!1;if(y&&io(b))continue;y=!1,l=b|1&l}}return io(l)||y}function io(i){return 0==(1&i)}function aI(i,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let p=!1;for(;h<o.length;){const y=o[h];if(y===i)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function uI(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function Z_(i,o,a=!1){for(let l=0;l<o.length;l++)if(aw(i,o[l],a))return!0;return!1}function af(i,o){return i?":not("+o.trim()+")":o}function ug(i){let o=i[0],a=1,l=2,h="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const C=i[++a];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?h+="."+y:4&l&&(h+=" "+y);else""!==h&&!io(y)&&(o+=af(p,h),h=""),l=y,p=p||!io(l);a++}return""!==h&&(o+=af(p,h)),o}const jt={};function dw(i){hw(Kt(),de(),xr()+i,!1)}function hw(i,o,a,l){if(!l)if(3==(3&o[Ot])){const p=i.preOrderCheckHooks;null!==p&&Go(o,p,a)}else{const p=i.preOrderHooks;null!==p&&Oc(o,p,0,a)}Is(a)}function gw(i,o=null,a=null,l){const h=Ui(i,o,a,l);return h.resolveInjectorInitializers(),h}function Ui(i,o=null,a=null,l,h=new Set){const p=[a||Ct,Dd(i)];return l=l||("object"==typeof i?void 0:ue(i)),new Yv(p,o||Va(),l||null,h)}let sl=(()=>{class i{static create(a,l){if(Array.isArray(a))return gw({name:""},l,a,"");{const h=a.name??"";return gw({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=dn,i.NULL=new zv,i.\u0275prov=et({token:i,providedIn:"any",factory:()=>He(M_)}),i.__NG_ELEMENT_ID__=-1,i})();function uf(i,o=gt.Default){const a=de();return null===a?He(i,o):ed(or(),a,q(i),o)}function ty(){throw new Error("invalid")}function Ew(i,o){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const p=a[l+1];if(-1!==p){const y=i.data[p];xc(a[l]),y.contentQueries(2,o[p],p)}}}function hg(i,o,a,l,h,p,y,C,b,T,M){const N=o.blueprint.slice();return N[ni]=h,N[Ot]=76|l,(null!==M||i&&1024&i[Ot])&&(N[Ot]|=1024),la(N),N[hn]=N[mi]=i,N[En]=a,N[xi]=y||i&&i[xi],N[Lt]=C||i&&i[Lt],N[pc]=b||i&&i[pc]||null,N[hs]=T||i&&i[hs]||null,N[jn]=p,N[go]=function Fs(){return g_++}(),N[qi]=M,N[hr]=2==o.type?i[hr]:N,N}function Pd(i,o,a,l,h){let p=i.data[o];if(null===p)p=function ny(i,o,a,l,h){const p=ha(),y=du(),b=i.data[o]=function vI(i,o,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,l,h);return null===i.firstChild&&(i.firstChild=b),null!==p&&(y?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(i,o,a,l,h),function ql(){return Tt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const y=function lu(){const i=Tt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Br(p,!0),p}function cf(i,o,a,l){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(l),i.blueprint.push(l),i.data.push(null);return h}function fg(i,o,a){pu(o);try{const l=i.viewQuery;null!==l&&Gs(1,l,a);const h=i.template;null!==h&&_I(i,o,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ew(i,o),i.staticViewQueries&&Gs(2,i.viewQuery,a);const p=i.components;null!==p&&function mI(i,o){for(let a=0;a<o.length;a++)cy(i,o[a])}(o,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[Ot]&=-5,Mp()}}function pg(i,o,a,l){const h=o[Ot];if(128!=(128&h)){pu(o);try{la(o),function mo(i){return Tt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&_I(i,o,a,2,l);const y=3==(3&h);if(y){const T=i.preOrderCheckHooks;null!==T&&Go(o,T,null)}else{const T=i.preOrderHooks;null!==T&&Oc(o,T,0,null),_o(o,0)}if(function Uw(i){for(let o=Pa(i);null!==o;o=Zh(o)){if(!o[Bl])continue;const a=o[Tr];for(let l=0;l<a.length;l++){const h=a[l];512&h[Ot]||da(h[hn],1),h[Ot]|=512}}}(o),function uy(i){for(let o=Pa(i);null!==o;o=Zh(o))for(let a=fr;a<o.length;a++){const l=o[a],h=l[Qe];Es(l)&&pg(h,l,h.template,l[En])}}(o),null!==i.contentQueries&&Ew(i,o),y){const T=i.contentCheckHooks;null!==T&&Go(o,T)}else{const T=i.contentHooks;null!==T&&Oc(o,T,1),_o(o,1)}!function gI(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)Is(~h);else{const p=h,y=a[++l],C=a[++l];Wl(y,p),C(2,o[p])}}}finally{Is(-1)}}(i,o);const C=i.components;null!==C&&function Iw(i,o){for(let a=0;a<o.length;a++)Bw(i,o[a])}(o,C);const b=i.viewQuery;if(null!==b&&Gs(2,b,l),y){const T=i.viewCheckHooks;null!==T&&Go(o,T)}else{const T=i.viewHooks;null!==T&&Oc(o,T,2),_o(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[Ot]&=-41,512&o[Ot]&&(o[Ot]&=-513,da(o[hn],-1))}finally{Mp()}}}function _I(i,o,a,l,h){const p=xr(),y=2&l;try{Is(-1),y&&o.length>un&&hw(i,o,un,!1),Ur(y?2:0,h),a(l,h)}finally{Is(p),Ur(y?3:1,h)}}function al(i,o,a){if(oa(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function ry(i,o,a){cu()&&(function Ow(i,o,a,l){const h=a.directiveStart,p=a.directiveEnd;vi(a)&&function Lw(i,o,a){const l=$n(o,i),h=Vu(a),p=i[xi],y=lf(i,hg(i,h,null,a.onPush?32:16,l,o,p,p.createRenderer(l,a),null,null,null));i[o.index]=y}(o,a,i.data[h+a.componentOffset]),i.firstCreatePass||Ms(a,o),An(l,o);const y=a.initialInputs;for(let C=h;C<p;C++){const b=i.data[C],T=Pi(o,i,C,a);An(T,o),null!==y&&Vw(0,C-h,T,b,0,y),Vr(b)&&(er(a.index,o)[En]=Pi(o,i,C,a))}}(i,o,a,$n(a,o)),64==(64&a.flags)&&oy(i,o,a))}function gg(i,o,a=$n){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],C=-1===y?a(o,i):i[y];i[h++]=C}}}function Vu(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=xo(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function xo(i,o,a,l,h,p,y,C,b,T){const M=un+l,N=M+h,Z=function yI(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:jt);return a}(M,N),K="function"==typeof T?T():T;return Z[Qe]={type:i,blueprint:Z,template:a,queries:null,viewQuery:C,declTNode:o,data:Z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:K,incompleteFirstPass:!1}}function Tw(i,o,a,l){const h=bI(o);null===a?h.push(l):(h.push(a),i.firstCreatePass&&EI(i).push(l,h.length-1))}function Aw(i,o,a,l){for(let h in i)if(i.hasOwnProperty(h)){a=null===a?{}:a;const p=i[h];null===l?ul(a,o,h,p):l.hasOwnProperty(h)&&ul(a,o,l[h],p)}return a}function ul(i,o,a,l){i.hasOwnProperty(a)?i[a].push(o,l):i[a]=[o,l]}function Bi(i,o,a,l,h,p,y,C){const b=$n(o,a);let M,T=o.inputs;!C&&null!=T&&(M=T[l])?(ff(i,a,M,l,h),vi(o)&&qr(a,o.index)):3&o.type&&(l=function Uu(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=y?y(h,o.value||"",l):h,p.setProperty(b,l,h))}function qr(i,o){const a=er(o,i);16&a[Ot]||(a[Ot]|=32)}function xw(i,o,a,l){let h=!1;if(cu()){const p=null===l?null:{"":-1},y=function Rw(i,o){const a=i.directiveRegistry;let l=null,h=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(Z_(o,y.selectors,!1))if(l||(l=[]),Vr(y))if(null!==y.findHostDirectiveDefs){const C=[];h=h||new Map,y.findHostDirectiveDefs(y,C,h),l.unshift(...C,y),mg(i,o,C.length)}else l.unshift(y),mg(i,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,l,h),l.push(y)}return null===l?null:[l,h]}(i,a);let C,b;null===y?C=b=null:[C,b]=y,null!==C&&(h=!0,iy(i,o,a,C,p,b)),p&&function _g(i,o,a){if(o){const l=i.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new he(-301,!1);l.push(o[h],p)}}}(a,l,p)}return a.mergedAttrs=Ji(a.mergedAttrs,a.attrs),h}function iy(i,o,a,l,h,p){for(let T=0;T<l.length;T++)Ia(Ms(a,o),i,l[T].type);!function Nw(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,l.length);for(let T=0;T<l.length;T++){const M=l[T];M.providersResolver&&M.providersResolver(M)}let y=!1,C=!1,b=cf(i,o,l.length,null);for(let T=0;T<l.length;T++){const M=l[T];a.mergedAttrs=Ji(a.mergedAttrs,M.hostAttrs),Fw(i,a,o,b,M),kw(b,M,h),null!==M.contentQueries&&(a.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(a.flags|=64);const N=M.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),y=!0),!C&&(N.ngOnChanges||N.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),C=!0),b++}!function wI(i,o,a){const h=o.directiveEnd,p=i.data,y=o.attrs,C=[];let b=null,T=null;for(let M=o.directiveStart;M<h;M++){const N=p[M],Z=a?a.get(N):null,ge=Z?Z.outputs:null;b=Aw(N.inputs,M,b,Z?Z.inputs:null),T=Aw(N.outputs,M,T,ge);const Re=null===b||null===y||sw(o)?null:sy(b,M,y);C.push(Re)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=8),b.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=C,o.inputs=b,o.outputs=T}(i,a,p)}function oy(i,o,a){const l=a.directiveStart,h=a.directiveEnd,p=a.index,y=function Tc(){return Tt.lFrame.currentDirectiveIndex}();try{Is(p);for(let C=l;C<h;C++){const b=i.data[C],T=o[C];Ac(C),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Pw(b,T)}}finally{Is(-1),Ac(y)}}function Pw(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function mg(i,o,a){o.componentOffset=a,(i.components||(i.components=[])).push(o.index)}function kw(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;Vr(o)&&(a[""]=i)}}function Fw(i,o,a,l,h){i.data[l]=h;const p=h.factory||(h.factory=Bo(h.type)),y=new yo(p,Vr(h),uf);i.blueprint[l]=y,a[l]=y,function Sw(i,o,a,l,h){const p=h.hostBindings;if(p){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const C=~o.index;(function Mw(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=C&&y.push(C),y.push(a,l,p)}}(i,o,l,cf(i,a,h.hostVars,jt),h)}function zs(i,o,a,l,h,p){const y=$n(i,o);!function yg(i,o,a,l,h,p,y){if(null==p)i.removeAttribute(o,h,a);else{const C=null==y?Ee(p):y(p,l||"",h);i.setAttribute(o,h,C,a)}}(o[Lt],y,p,i.value,a,l,h)}function Vw(i,o,a,l,h,p){const y=p[o];if(null!==y){const C=l.setInput;for(let b=0;b<y.length;){const T=y[b++],M=y[b++],N=y[b++];null!==C?l.setInput(a,N,T,M):a[M]=N}}}function sy(i,o,a){let l=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===l&&(l=[]);const y=i[p];for(let C=0;C<y.length;C+=2)if(y[C]===o){l.push(p,y[C+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function ay(i,o,a,l){return[i,!0,!1,o,null,0,l,a,null,null]}function Bw(i,o){const a=er(o,i);if(Es(a)){const l=a[Qe];48&a[Ot]?pg(l,a,l.template,a[En]):a[Gi]>0&&vg(a)}}function vg(i){for(let l=Pa(i);null!==l;l=Zh(l))for(let h=fr;h<l.length;h++){const p=l[h];if(Es(p))if(512&p[Ot]){const y=p[Qe];pg(y,p,y.template,p[En])}else p[Gi]>0&&vg(p)}const a=i[Qe].components;if(null!==a)for(let l=0;l<a.length;l++){const h=er(a[l],i);Es(h)&&h[Gi]>0&&vg(h)}}function cy(i,o){const a=er(o,i),l=a[Qe];(function wg(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(l,a),fg(l,a,a[En])}function lf(i,o){return i[po]?i[gc][Dr]=o:i[po]=o,i[gc]=o,o}function Cg(i){for(;i;){i[Ot]|=32;const o=bi(i);if(sa(i)&&!o)return i;i=o}return null}function df(i,o,a,l=!0){const h=o[xi];h.begin&&h.begin();try{pg(i,o,i.template,a)}catch(y){throw l&&bg(o,y),y}finally{h.end&&h.end()}}function Gs(i,o,a){xc(0),o(i,a)}function bI(i){return i[Fr]||(i[Fr]=[])}function EI(i){return i.cleanup||(i.cleanup=[])}function bg(i,o){const a=i[hs],l=a?a.get(Md,null):null;l&&l.handleError(o)}function ff(i,o,a,l,h){for(let p=0;p<a.length;){const y=a[p++],C=a[p++],b=o[y],T=i.data[y];null!==T.setInput?T.setInput(b,h,l,C):b[C]=h}}function Eg(i,o,a){let l=a?i.styles:null,h=a?i.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const C=o[y];"number"==typeof C?p=C:1==p?h=oe(h,C):2==p&&(l=oe(l,C+": "+o[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}function Rd(i,o,a,l,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(kn(p)),yi(p))for(let C=fr;C<p.length;C++){const b=p[C],T=b[Qe].firstChild;null!==T&&Rd(b[Qe],b,T,l)}const y=a.type;if(8&y)Rd(i,o,a.child,l);else if(32&y){const C=Oa(a,o);let b;for(;b=C();)l.push(b)}else if(16&y){const C=zp(o,a);if(Array.isArray(C))l.push(...C);else{const b=bi(o[hr]);Rd(b[Qe],b,C,l,!0)}}a=h?a.projectionNext:a.next}return l}class pf{get rootNodes(){const o=this._lView,a=o[Qe];return Rd(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(o){this._lView[En]=o}get destroyed(){return 128==(128&this._lView[Ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[hn];if(yi(o)){const a=o[Vo],l=a?a.indexOf(this):-1;l>-1&&(Gh(o,l),Os(a,l))}this._attachedToViewContainer=!1}Hp(this._lView[Qe],this._lView)}onDestroy(o){Tw(this._lView[Qe],this._lView,null,o)}markForCheck(){Cg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ot]&=-65}reattach(){this._lView[Ot]|=64}detectChanges(){df(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function md(i,o){Fa(i,o,o[Lt],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=o}}class Px extends pf{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;df(o[Qe],o,o[En],!1)}checkNoChanges(){}get context(){return null}}class II extends nf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Wt(o);return new Ig(a,this.ngModule)}}function DI(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class kx{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=Et(l);const h=this.injector.get(o,B_,l);return h!==B_||a===B_?h:this.parentInjector.get(o,a,l)}}class Ig extends L_{get inputs(){return DI(this.componentDef.inputs)}get outputs(){return DI(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function cw(i){return i.map(ug).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,h){let p=(h=h||this.ngModule)instanceof il?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new kx(o,p):o,C=y.get(rf,null);if(null===C)throw new he(407,!1);const b=y.get(sf,null),T=C.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",N=l?function Dw(i,o,a){return i.selectRootElement(o,a===vt.ShadowDom)}(T,l,this.componentDef.encapsulation):Ra(T,M,function Rx(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),Z=this.componentDef.onPush?288:272,K=xo(0,null,null,1,0,null,null,null,null,null),ge=hg(null,K,null,Z,null,null,C,T,b,y,null);let Re,Ke;pu(ge);try{const at=this.componentDef;let Le,Se=null;at.findHostDirectiveDefs?(Le=[],Se=new Map,at.findHostDirectiveDefs(at,Le,Se),Le.push(at)):Le=[at];const Pt=function jw(i,o){const a=i[Qe],l=un;return i[l]=o,Pd(a,l,2,"#host",null)}(ge,N),mn=function TI(i,o,a,l,h,p,y,C){const b=h[Qe];!function AI(i,o,a,l){for(const h of i)o.mergedAttrs=Ji(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Eg(o,o.mergedAttrs,!0),null!==a&&La(l,a,o))}(l,i,o,y);const T=p.createRenderer(o,a),M=hg(h,Vu(a),null,a.onPush?32:16,h[i.index],i,p,T,C||null,null,null);return b.firstCreatePass&&mg(b,i,l.length-1),lf(h,M),h[i.index]=M}(Pt,N,at,Le,ge,C,T);Ke=bs(K,un),N&&function ly(i,o,a,l){if(l)In(i,a,["ng-version",tw.full]);else{const{attrs:h,classes:p}=function lw(i){const o=[],a=[];let l=1,h=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===h?""!==p&&o.push(p,i[++l]):8===h&&a.push(p);else{if(!io(h))break;h=p}l++}return{attrs:o,classes:a}}(o.selectors[0]);h&&In(i,a,h),p&&p.length>0&&To(i,a,p.join(" "))}}(T,at,N,l),void 0!==a&&function gf(i,o,a){const l=i.projection=[];for(let h=0;h<o.length;h++){const p=a[h];l.push(null!=p?Array.from(p):null)}}(Ke,this.ngContentSelectors,a),Re=function xI(i,o,a,l,h,p){const y=or(),C=h[Qe],b=$n(y,h);iy(C,h,y,a,null,l);for(let M=0;M<a.length;M++)An(Pi(h,C,y.directiveStart+M,y),h);oy(C,h,y),b&&An(b,h);const T=Pi(h,C,y.directiveStart+y.componentOffset,y);if(i[En]=h[En]=T,null!==p)for(const M of p)M(T,o);return al(C,y,i),T}(mn,at,Le,Se,ge,[Dg]),fg(K,ge,null)}finally{Mp()}return new Nx(this.componentType,Re,Ua(Ke,ge),ge,Ke)}}class Nx extends F_{constructor(o,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Px(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){const p=this._rootLView;ff(p[Qe],p,h,o,a),qr(p,this._tNode.index)}}get injector(){return new wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Dg(){const i=or();pa(de()[Qe],i)}function ll(i){let o=function cl(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let h;if(Vr(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new he(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const y=i;y.inputs=hy(i.inputs),y.declaredInputs=hy(i.declaredInputs),y.outputs=hy(i.outputs);const C=h.hostBindings;C&&Tg(i,C);const b=h.viewQuery,T=h.contentQueries;if(b&&fy(i,b),T&&SI(i,T),le(i.inputs,h.inputs),le(i.declaredInputs,h.declaredInputs),le(i.outputs,h.outputs),Vr(h)&&h.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const C=p[y];C&&C.ngInherit&&C(i),C===ll&&(a=!1)}}o=Object.getPrototypeOf(o)}!function dy(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=o+=h.hostVars,h.hostAttrs=Ji(h.hostAttrs,a=Ji(a,h.hostAttrs))}}(l)}function hy(i){return i===Qt?{}:i===Ct?[]:i}function fy(i,o){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function SI(i,o){const a=i.contentQueries;i.contentQueries=a?(l,h,p)=>{o(l,h,p),a(l,h,p)}:o}function Tg(i,o){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}let $u=null;function qs(){if(!$u){const i=St.Symbol;if(i&&i.iterator)$u=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&($u=l)}}}return $u}function dl(i){return!!mf(i)&&(Array.isArray(i)||!(i instanceof Map)&&qs()in i)}function mf(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ws(i,o,a){return i[o]=a}function Wr(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function hl(i,o,a,l){const h=Wr(i,o,a);return Wr(i,o+1,l)||h}function zw(i,o,a,l){const h=de();return Wr(h,zo(),o)&&(Kt(),zs(fn(),h,i,o,a,l)),zw}function Hu(i,o,a,l){return Wr(i,zo(),a)?o+Ee(a)+l:jt}function FI(i,o,a,l,h,p,y,C){const b=de(),T=Kt(),M=i+un,N=T.firstCreatePass?function Lx(i,o,a,l,h,p,y,C,b){const T=o.consts,M=Pd(o,i,4,y||null,Ki(T,C));xw(o,a,M,Ki(T,b)),pa(o,M);const N=M.tViews=xo(2,M,l,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,M),N.queries=o.queries.embeddedTView(M)),M}(M,T,b,o,a,l,h,p,y):T.data[M];Br(N,!1);const Z=b[Lt].createComment("");zc(T,b,Z,N),An(Z,b),lf(b,b[M]=ay(Z,b,Z,N)),mc(N)&&ry(T,b,N),null!=y&&gg(b,N,C)}function LI(i){return Zo(function Gl(){return Tt.lFrame.contextLView}(),un+i)}function yy(i,o,a){const l=de();return Wr(l,zo(),o)&&Bi(Kt(),fn(),l,i,o,l[Lt],a,!1),yy}function Mg(i,o,a,l,h){const y=h?"class":"style";ff(i,a,o.inputs[y],y,l)}function Cf(i,o,a,l){const h=de(),p=Kt(),y=un+i,C=h[Lt],b=h[y]=Ra(C,o,function Op(){return Tt.lFrame.currentNamespace}()),T=p.firstCreatePass?function VI(i,o,a,l,h,p,y){const C=o.consts,T=Pd(o,i,2,h,Ki(C,p));return xw(o,a,T,Ki(C,y)),null!==T.attrs&&Eg(T,T.attrs,!1),null!==T.mergedAttrs&&Eg(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(y,p,h,0,o,a,l):p.data[y];return Br(T,!0),La(C,b,T),32!=(32&T.flags)&&zc(p,h,b,T),0===function uu(){return Tt.lFrame.elementDepthCount}()&&An(b,h),function bc(){Tt.lFrame.elementDepthCount++}(),mc(T)&&(ry(p,h,T),al(p,T,h)),null!==l&&gg(h,T),Cf}function Gu(){let i=or();du()?function hu(){Tt.lFrame.isParent=!1}():(i=i.parent,Br(i,!1));const o=i;!function Ec(){Tt.lFrame.elementDepthCount--}();const a=Kt();return a.firstCreatePass&&(pa(a,i),oa(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Xl(i){return 0!=(8&i.flags)}(o)&&Mg(a,o,de(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Sh(i){return 0!=(16&i.flags)}(o)&&Mg(a,o,de(),o.stylesWithoutHost,!1),Gu}function bf(i,o,a,l){return Cf(i,o,a,l),Gu(),bf}function wy(i){return!!i&&"function"==typeof i.then}function Cy(i){return!!i&&"function"==typeof i.subscribe}const Yw=Cy;function Pg(i,o,a,l){const h=de(),p=Kt(),y=or();return function by(i,o,a,l,h,p,y){const C=mc(l),T=i.firstCreatePass&&EI(i),M=o[En],N=bI(o);let Z=!0;if(3&l.type||y){const Re=$n(l,o),Ke=y?y(Re):Re,at=N.length,Le=y?Pt=>y(kn(Pt[l.index])):l.index;let Se=null;if(!y&&C&&(Se=function jI(i,o,a,l){const h=i.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===l){const C=o[Fr],b=h[p+2];return C.length>b?C[b]:null}"string"==typeof y&&(p+=2)}return null}(i,o,h,l.index)),null!==Se)(Se.__ngLastListenerFn__||Se).__ngNextListenerFn__=p,Se.__ngLastListenerFn__=p,Z=!1;else{p=kg(l,o,M,p,!1);const Pt=a.listen(Ke,h,p);N.push(p,Pt),T&&T.push(h,Le,at,at+1)}}else p=kg(l,o,M,p,!1);const K=l.outputs;let ge;if(Z&&null!==K&&(ge=K[h])){const Re=ge.length;if(Re)for(let Ke=0;Ke<Re;Ke+=2){const mn=o[ge[Ke]][ge[Ke+1]].subscribe(p),Pn=N.length;N.push(p,mn),T&&T.push(h,l.index,Pn,-(Pn+1))}}}(p,h,h[Lt],y,i,o,l),Pg}function Qw(i,o,a,l){try{return Ur(6,o,a),!1!==a(l)}catch(h){return bg(i,h),!1}finally{Ur(7,o,a)}}function kg(i,o,a,l,h){return function p(y){if(y===Function)return l;Cg(i.componentOffset>-1?er(i.index,o):o);let b=Qw(o,a,l,y),T=p.__ngNextListenerFn__;for(;T;)b=Qw(o,a,T,y)&&b,T=T.__ngNextListenerFn__;return h&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function Jw(i=1){return function l_(i){return(Tt.lFrame.contextLView=function Ql(i,o){for(;i>0;)o=o[mi],i--;return o}(i,Tt.lFrame.contextLView))[En]}(i)}function Ng(i,o,a){return Dy(i,"",o,"",a),Ng}function Dy(i,o,a,l,h){const p=de(),y=Hu(p,o,a,l);return y!==jt&&Bi(Kt(),fn(),p,i,y,p[Lt],h,!1),Dy}function Lg(i,o){return i<<17|o<<2}function pl(i){return i>>17&32767}function Vg(i){return 2|i}function qu(i){return(131068&i)>>2}function ja(i,o){return-131069&i|o<<2}function Ug(i){return 1|i}function gl(i,o,a,l,h){const p=i[a+1],y=null===o;let C=l?pl(p):qu(p),b=!1;for(;0!==C&&(!1===b||y);){const M=i[C+1];rC(i[C],o)&&(b=!0,i[C+1]=l?Ug(M):Vg(M)),C=l?pl(M):qu(M)}b&&(i[a+1]=l?Vg(p):Ug(p))}function rC(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&ki(i,o)>=0}function uC(i,o){return function ss(i,o,a,l){const h=de(),p=Kt(),y=function Mi(i){const o=Tt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);p.firstUpdatePass&&function lC(i,o,a,l){const h=i.data;if(null===h[a+1]){const p=h[xr()],y=function cC(i,o){return o>=i.expandoStartIndex}(i,a);(function Oo(i,o){return 0!=(i.flags&(o?8:16))})(p,l)&&null===o&&!y&&(o=!1),o=function QI(i,o,a,l){const h=function Yi(i){const o=Tt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let p=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=Df(a=Ry(null,i,o,a,l),o.attrs,l),p=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==h)if(a=Ry(h,i,o,a,l),null===p){let b=function If(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==qu(l))return i[pl(l)]}(i,o,l);void 0!==b&&Array.isArray(b)&&(b=Ry(null,i,o,b[1],l),b=Df(b,o.attrs,l),function JI(i,o,a,l){i[pl(a?o.classBindings:o.styleBindings)]=l}(i,o,l,b))}else p=function XI(i,o,a){let l;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)l=Df(l,i[p].hostAttrs,a);return Df(l,o.attrs,a)}(i,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,l),function zI(i,o,a,l,h,p){let y=p?o.classBindings:o.styleBindings,C=pl(y),b=qu(y);i[l]=a;let M,T=!1;if(Array.isArray(a)?(M=a[1],(null===M||ki(a,M)>0)&&(T=!0)):M=a,h)if(0!==b){const Z=pl(i[C+1]);i[l+1]=Lg(Z,C),0!==Z&&(i[Z+1]=ja(i[Z+1],l)),i[C+1]=function nC(i,o){return 131071&i|o<<17}(i[C+1],l)}else i[l+1]=Lg(C,0),0!==C&&(i[C+1]=ja(i[C+1],l)),C=l;else i[l+1]=Lg(b,0),0===C?C=l:i[b+1]=ja(i[b+1],l),b=l;T&&(i[l+1]=Vg(i[l+1])),gl(i,M,l,!0),gl(i,M,l,!1),function GI(i,o,a,l,h){const p=h?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof o&&ki(p,o)>=0&&(a[l+1]=Ug(a[l+1]))}(o,M,i,l,p),y=Lg(C,b),p?o.classBindings=y:o.styleBindings=y}(h,p,o,a,y,l)}}(p,i,y,l),o!==jt&&Wr(h,y,o)&&function Pr(i,o,a,l,h,p,y,C){if(!(3&o.type))return;const b=i.data,T=b[C+1],M=function HI(i){return 1==(1&i)}(T)?Bg(b,o,a,h,qu(T),y):void 0;jg(M)||(jg(p)||function My(i){return 2==(2&i)}(T)&&(p=Bg(b,null,a,h,C,y)),function Gp(i,o,a,l,h){if(o)h?i.addClass(a,l):i.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:Fi.DashCase;null==h?i.removeStyle(a,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Fi.Important),i.setStyle(a,l,h,p))}}(l,y,Ho(xr(),a),h,p))}(p,p.data[xr()],h,h[Lt],i,h[y+1]=function nD(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=ue(v(i)))),i}(o,a),l,y)}(i,o,null,!0),uC}function Ry(i,o,a,l,h){let p=null;const y=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<y&&(p=o[C],l=Df(l,p.hostAttrs,h),p!==i);)C++;return null!==i&&(a.directiveStylingLast=C),l}function Df(i,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Sr(i,y,!!a||o[++p]))}return void 0===i?null:i}function Bg(i,o,a,l,h,p){const y=null===o;let C;for(;h>0;){const b=i[h],T=Array.isArray(b),M=T?b[1]:b,N=null===M;let Z=a[h+1];Z===jt&&(Z=N?Ct:void 0);let K=N?Su(Z,l):M===l?Z:void 0;if(T&&!jg(K)&&(K=Su(b,l)),jg(K)&&(C=K,y))return C;const ge=i[h+1];h=y?pl(ge):qu(ge)}if(null!==o){let b=p?o.residualClasses:o.residualStyles;null!=b&&(C=Su(b,l))}return C}function jg(i){return void 0!==i}function rD(i,o=""){const a=de(),l=Kt(),h=i+un,p=l.firstCreatePass?Pd(l,h,1,o,null):l.data[h],y=a[h]=function pd(i,o){return i.createText(o)}(a[Lt],o);zc(l,a,y,p),Br(p,!1)}function ky(i){return pe("",i,""),ky}function pe(i,o,a){const l=de(),h=Hu(l,i,o,a);return h!==jt&&function So(i,o,a){const l=Ho(o,i);!function $c(i,o,a){i.setValue(o,a)}(i[Lt],l,a)}(l,xr(),h),pe}const Za=void 0;var cD=["en",[["a","p"],["AM","PM"],Za],[["AM","PM"],Za,Za],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Za,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Za,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Za,"{1} 'at' {0}",Za],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _C(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let _l={};function Mf(i){const o=function wC(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=vC(o);if(a)return a;const l=o.split("-")[0];if(a=vC(l),a)return a;if("en"===l)return cD;throw new he(701,!1)}function Wg(i){return Mf(i)[bt.PluralCase]}function vC(i){return i in _l||(_l[i]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[i]),_l[i]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const jd="en-US";let By=jd;function a0(i,o,a,l,h){if(i=q(i),Array.isArray(i))for(let p=0;p<i.length;p++)a0(i[p],o,a,l,h);else{const p=Kt(),y=de();let C=rl(i)?i:q(i.provide),b=Qv(i);const T=or(),M=1048575&T.providerIndexes,N=T.directiveStart,Z=T.providerIndexes>>20;if(rl(i)||!i.multi){const K=new yo(b,h,uf),ge=um(C,o,h?M:M+Z,N);-1===ge?(Ia(Ms(T,y),p,C),u0(p,i,o.length),o.push(C),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(K),y.push(K)):(a[ge]=K,y[ge]=K)}else{const K=um(C,o,M+Z,N),ge=um(C,o,M,M+Z),Ke=ge>=0&&a[ge];if(h&&!Ke||!h&&!(K>=0&&a[K])){Ia(Ms(T,y),p,C);const at=function cm(i,o,a,l,h){const p=new yo(i,a,uf);return p.multi=[],p.index=o,p.componentProviders=0,c0(p,h,l&&!a),p}(h?wl:vD,a.length,h,l,b);!h&&Ke&&(a[ge].providerFactory=at),u0(p,i,o.length,0),o.push(C),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(at),y.push(at)}else u0(p,i,K>-1?K:ge,c0(a[h?ge:K],b,!h&&l));!h&&l&&Ke&&a[ge].componentProviders++}}}function u0(i,o,a,l){const h=rl(o),p=function HE(i){return!!i.useClass}(o);if(h||p){const b=(p?q(o.useClass):o).prototype.ngOnDestroy;if(b){const T=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const M=T.indexOf(a);-1===M?T.push(a,[l,b]):T[M+1].push(l,b)}else T.push(a,b)}}}function c0(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function um(i,o,a,l){for(let h=a;h<l;h++)if(o[h]===i)return h;return-1}function vD(i,o,a,l){return cs(this.multi,[])}function wl(i,o,a,l){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Pi(a,a[Qe],this.providerFactory.index,l);p=C.slice(0,y),cs(h,p);for(let b=y;b<C.length;b++)p.push(C[b])}else p=[],cs(h,p);return p}function cs(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function zf(i,o=[]){return a=>{a.providersResolver=(l,h)=>function s0(i,o,a){const l=Kt();if(l.firstCreatePass){const h=Vr(i);a0(a,l.data,l.blueprint,h,!0),a0(o,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,o)}}class Cl{}class Sn{}function lm(i,o){return new Wd(i,o??null)}class Wd extends Cl{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new II(this);const l=dr(o);this._bootstrapComponents=Ba(l.bootstrap),this._r3Injector=Ui(o,a,[{provide:Cl,useValue:this},{provide:nf,useValue:this.componentFactoryResolver}],ue(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class l0 extends Sn{constructor(o){super(),this.moduleType=o}create(o){return new Wd(this.moduleType,o)}}class $C extends Cl{constructor(o,a,l){super(),this.componentFactoryResolver=new II(this),this.instance=null;const h=new Yv([...o,{provide:Cl,useValue:this},{provide:nf,useValue:this.componentFactoryResolver}],a||Va(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function d0(i,o,a=null){return new $C(i,o,a).injector}let wD=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Td(0,a.type),h=l.length>0?d0([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=et({token:i,providedIn:"environment",factory:()=>new i(He(il))}),i})();function HC(i){i.getStandaloneInjector=o=>o.get(wD).getOrCreateStandaloneInjector(i)}function hm(i,o,a){const l=Kn()+i,h=de();return h[l]===jt?Ws(h,l,a?o.call(a):o()):function _f(i,o){return i[o]}(h,l)}function KC(i,o,a,l){return function JC(i,o,a,l,h,p){const y=o+a;return Wr(i,y,h)?Ws(i,y+1,p?l.call(p,h):l(h)):Ga(i,y+1)}(de(),Kn(),i,o,a,l)}function YC(i,o,a,l,h){return Hn(de(),Kn(),i,o,a,l,h)}function Ga(i,o){const a=i[o];return a===jt?void 0:a}function Hn(i,o,a,l,h,p,y){const C=o+a;return hl(i,C,h,p)?Ws(i,C+2,y?l.call(y,h,p):l(h,p)):Ga(i,C+2)}function v0(i,o,a,l,h,p,y,C){const b=o+a;return function yf(i,o,a,l,h){const p=hl(i,o,a,l);return Wr(i,o+2,h)||p}(i,b,h,p,y)?Ws(i,b+3,C?l.call(C,h,p,y):l(h,p,y)):Ga(i,b+3)}function tb(i,o){const a=Kt();let l;const h=i+un;a.firstCreatePass?(l=function nb(i,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(i===l.name)return l}}(o,a.pipeRegistry),a.data[h]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,l.onDestroy)):l=a.data[h];const p=l.factory||(l.factory=Bo(l.type)),y=wn(uf);try{const C=xs(!1),b=p();return xs(C),function Vx(i,o,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=l}(a,de(),h,b),b}finally{wn(y)}}function Wf(i,o,a,l){const h=i+un,p=de(),y=Zo(p,h);return Qd(p,h)?Hn(p,Kn(),o,y.transform,a,l,y):y.transform(a,l)}function w0(i,o,a,l,h){const p=i+un,y=de(),C=Zo(y,p);return Qd(y,p)?v0(y,Kn(),o,C.transform,a,l,h,C):C.transform(a,l,h)}function Qd(i,o){return i[Qe].data[o].pure}function bl(i){return o=>{setTimeout(i,void 0,o)}}const ls=class C0 extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,p=a||(()=>null),y=l;if(o&&"object"==typeof o){const b=o;h=b.next?.bind(b),p=b.error?.bind(b),y=b.complete?.bind(b)}this.__isAsync&&(p=bl(p),h&&(h=bl(h)),y&&(y=bl(y)));const C=super.subscribe({next:h,error:p,complete:y});return o instanceof Y.w0&&o.add(C),C}};function b0(){return this._results[qs()]()}class Jd{get changes(){return this._changes||(this._changes=new ls)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=qs(),l=Jd.prototype;l[a]||(l[a]=b0)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=function $r(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function ud(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],p=o[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Xd=(()=>{class i{}return i.__NG_ELEMENT_ID__=ob,i})();const gm=Xd,DD=class extends gm{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tViews,h=hg(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);h[fs]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[_i];return null!==y&&(h[_i]=y.createEmbeddedView(l)),fg(l,h,o),new pf(h)}};function ob(){return Yu(or(),de())}function Yu(i,o){return 4&i.type?new DD(o,i,Ua(i,o)):null}let Kf=(()=>{class i{}return i.__NG_ELEMENT_ID__=sb,i})();function sb(){return D0(or(),de())}const E0=Kf,mm=class extends E0{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new wi(this._hostTNode,this._hostLView)}get parentInjector(){const o=vu(this._hostTNode,this._hostLView);if(Pc(o)){const a=_u(o,this._hostLView),l=va(o);return new wi(a[Qe].data[l+8],a)}return new wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=I0(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-fr}createEmbeddedView(o,a,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const y=o.createEmbeddedView(a||{},p);return this.insert(y,h),y}createComponent(o,a,l,h,p){const y=o&&!function Tu(i){return"function"==typeof i}(o);let C;if(y)C=a;else{const N=a||{};C=N.index,l=N.injector,h=N.projectableNodes,p=N.environmentInjector||N.ngModuleRef}const b=y?o:new Ig(Wt(o)),T=l||this.parentInjector;if(!p&&null==b.ngModule){const Z=(y?T:this.parentInjector).get(il,null);Z&&(p=Z)}const M=b.create(T,h,void 0,p);return this.insert(M.hostView,C),M}insert(o,a){const l=o._lView,h=l[Qe];if(function su(i){return yi(i[hn])}(l)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const N=l[hn],Z=new mm(N,N[jn],N[hn]);Z.detach(Z.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function w_(i,o,a,l){const h=fr+l,p=a.length;l>0&&(a[h-1][Dr]=o),l<p-fr?(o[Dr]=a[h],Au(a,fr+l,o)):(a.push(o),o[Dr]=null),o[hn]=a;const y=o[fs];null!==y&&a!==y&&function C_(i,o){const a=i[Tr];o[hr]!==o[hn][hn][hr]&&(i[Bl]=!0),null===a?i[Tr]=[o]:a.push(o)}(y,o);const C=o[_i];null!==C&&C.insertView(i),o[Ot]|=64}(h,l,y,p);const C=Gr(p,y),b=l[Lt],T=Zc(b,y[ps]);return null!==T&&function $p(i,o,a,l,h,p){l[ni]=h,l[jn]=o,Fa(i,l,a,1,h,p)}(h,y[jn],b,l,T,C),o.attachToViewContainerRef(),Au(eh(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=I0(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Gh(this._lContainer,a);l&&(Os(eh(this._lContainer),a),Hp(l[Qe],l))}detach(o){const a=this._adjustIndex(o,-1),l=Gh(this._lContainer,a);return l&&null!=Os(eh(this._lContainer),a)?new pf(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function I0(i){return i[Vo]}function eh(i){return i[Vo]||(i[Vo]=[])}function D0(i,o){let a;const l=o[i.index];if(yi(l))a=l;else{let h;if(8&i.type)h=kn(l);else{const p=o[Lt];h=p.createComment("");const y=$n(i,o);ka(p,Zc(p,y),h,function D_(i,o){return i.nextSibling(o)}(p,y),!1)}o[i.index]=a=ay(l,o,h,i),lf(o,a)}return new mm(a,i,o)}class _m{constructor(o){this.queryList=o,this.matches=null}clone(){return new _m(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wa{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Wa(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==hb(o,a).matches&&this.queries[a].setDirty()}}class T0{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class ym{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new ym(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class vm{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new vm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,a,ab(a,p)),this.matchTNodeWithReadOption(o,a,Yo(a,o,p,!1,!1))}else l===Xd?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Yo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Sd||h===Kf||h===Xd&&4&a.type)this.addMatch(a.index,-2);else{const p=Yo(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function ab(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function oo(i,o,a,l){return-1===a?function wm(i,o){return 11&i.type?Ua(i,o):4&i.type?Yu(i,o):null}(o,i):-2===a?function ub(i,o,a){return a===Sd?Ua(o,i):a===Xd?Yu(o,i):a===Kf?D0(o,i):void 0}(i,o,l):Pi(i,i[Qe],a,o)}function A0(i,o,a,l){const h=o[_i].queries[l];if(null===h.matches){const p=i.data,y=a.matches,C=[];for(let b=0;b<y.length;b+=2){const T=y[b];C.push(T<0?null:oo(o,p[T],y[b+1],a.metadata.read))}h.matches=C}return h.matches}function Qu(i,o,a,l){const h=i.queries.getByIndex(a),p=h.matches;if(null!==p){const y=A0(i,o,h,a);for(let C=0;C<p.length;C+=2){const b=p[C];if(b>0)l.push(y[C/2]);else{const T=p[C+1],M=o[-b];for(let N=fr;N<M.length;N++){const Z=M[N];Z[fs]===Z[hn]&&Qu(Z[Qe],Z,T,l)}if(null!==M[Tr]){const N=M[Tr];for(let Z=0;Z<N.length;Z++){const K=N[Z];Qu(K[Qe],K,T,l)}}}}}return l}function cb(i){const o=de(),a=Kt(),l=Kl();xc(l+1);const h=hb(a,l);if(i.dirty&&function ca(i){return 4==(4&i[Ot])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const p=h.crossesNgTemplate?Qu(a,o,l,[]):A0(a,o,h,l);i.reset(p,Xv),i.notifyOnChanges()}return!0}return!1}function Cm(i,o,a,l){const h=Kt();if(h.firstCreatePass){const p=or();(function db(i,o,a){null===i.queries&&(i.queries=new ym),i.queries.track(new vm(o,a))})(h,new T0(o,a,l),p.index),function bm(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function x0(i,o,a){const l=new Jd(4==(4&a));Tw(i,o,l,l.destroy),null===o[_i]&&(o[_i]=new Wa),o[_i].queries.push(new _m(l))}(h,de(),a)}function lb(){return function AD(i,o){return i[_i].queries[o].queryList}(de(),Kl())}function hb(i,o){return i.queries.getByIndex(o)}function Jf(...i){}const Cb=new sn("Application Initializer");let Om=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Jf,this.reject=Jf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(wy(p))a.push(p);else if(Yw(p)){const y=new Promise((C,b)=>{p.subscribe({complete:C,error:b})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(He(Cb,8))},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Hi=new sn("AppId",{providedIn:"root",factory:function bb(){return`${N0()}${N0()}${N0()}`}});function N0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ib=new sn("Platform Initializer"),nc=new sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),F0=new sn("appBootstrapListener");let Xf=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const tp=new sn("LocaleId",{providedIn:"root",factory:()=>tt(tp,gt.Optional|gt.SkipSelf)||function ep(){return typeof $localize<"u"&&$localize.locale||jd}()}),ND=new sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rc{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Xn=(()=>{class i{compileModuleSync(a){return new l0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=Ba(dr(a).declarations).reduce((y,C)=>{const b=Wt(C);return b&&y.push(new Ig(b)),y},[]);return new rc(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Js=(()=>Promise.resolve(0))();function Al(i){typeof Zone>"u"?Js.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Qr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ls(!1),this.onMicrotaskEmpty=new ls(!1),this.onStable=new ls(!1),this.onError=new ls(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function ic(){let i=St.requestAnimationFrame,o=St.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function np(i){const o=()=>{!function U0(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(St,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Pm(i),i.isCheckStableRunning=!0,Ya(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Pm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,y,C)=>{try{return B0(i),a.invokeTask(h,p,y,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),rp(i)}},onInvoke:(a,l,h,p,y,C,b)=>{try{return B0(i),a.invoke(h,p,y,C,b)}finally{i.shouldCoalesceRunChangeDetection&&o(),rp(i)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Pm(i),Ya(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qr.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(Qr.isInAngularZone())throw new he(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,V0,Jf,Jf);try{return p.runTask(y,a,l)}finally{p.cancelTask(y)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const V0={};function Ya(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Pm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function B0(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function rp(i){i._nesting--,Ya(i)}class ip{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ls,this.onMicrotaskEmpty=new ls,this.onStable=new ls,this.onError=new ls}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const j0=new sn(""),Ab=new sn("");let Xs,LD=(()=>{class i{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xs||(function xb(i){Xs=i}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qr.assertNotInAngularZone(),Al(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Al(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(He(Qr),He($0),He(Ab))},i.\u0275prov=et({token:i,factory:i.\u0275fac}),i})(),$0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Xs?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Qa=null;const H0=new sn("AllowMultipleToken"),Rm=new sn("PlatformDestroyListeners"),$t=!1;class z0{constructor(o,a){this.name=o,this.token=a}}function W0(i,o,a=[]){const l=`Platform: ${o}`,h=new sn(l);return(p=[])=>{let y=km();if(!y||y.injector.get(H0,!1)){const C=[...a,...p,{provide:h,useValue:!0}];i?i(C):function Sb(i){if(Qa&&!Qa.get(H0,!1))throw new he(400,!1);Qa=i;const o=i.get(Ob);(function q0(i){const o=i.get(Ib,null);o&&o.forEach(a=>a())})(i)}(function Mb(i=[],o){return sl.create({name:o,providers:[{provide:Kv,useValue:"platform"},{provide:Rm,useValue:new Set([()=>Qa=null])},...i]})}(C,l))}return function UD(i){const o=km();if(!o)throw new he(401,!1);return o}()}}function km(){return Qa?.get(Ob)??null}let Ob=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function Pb(i,o){let a;return a="noop"===i?new ip:("zone.js"===i?void 0:i)||new Qr(o),a}(l?.ngZone,function K0(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:Qr,useValue:h}];return h.run(()=>{const y=sl.create({providers:p,parent:this.injector,name:a.moduleType.name}),C=a.create(y),b=C.injector.get(Md,null);if(!b)throw new he(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:M=>{b.handleError(M)}});C.onDestroy(()=>{Mn(this._modules,C),T.unsubscribe()})}),function Rb(i,o,a){try{const l=a();return wy(l)?l.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(b,h,()=>{const T=C.injector.get(Om);return T.runInitializers(),T.donePromise.then(()=>(function jy(i){Ye(i,"Expected localeId to be defined"),"string"==typeof i&&(By=i.toLowerCase().replace(/_/g,"-"))}(C.injector.get(tp,jd)||jd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(a,l=[]){const h=xl({},l);return function ln(i,o,a){const l=new l0(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(Nm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new he(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Rm,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(He(sl))},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function xl(i,o){return Array.isArray(o)?o.reduce(xl,i):{...i,...o}}let Nm=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new R.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),y=new R.y(C=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Qr.assertNotInAngularZone(),Al(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Qr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{b.unsubscribe(),T.unsubscribe()}});this.isStable=(0,X.T)(p,y.pipe((0,ee.B)()))}bootstrap(a,l){const h=a instanceof L_;if(!this._injector.get(Om).done){!h&&Bn(a);throw new he(405,$t)}let y;y=h?a:this._injector.get(nf).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const C=function Z0(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Cl),T=y.create(sl.NULL,[],l||y.selector,C),M=T.location.nativeElement,N=T.injector.get(j0,null);return N?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),Mn(this.components,T),N?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Mn(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(F0,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Mn(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new he(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(He(Qr),He(il),He(Md))},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Mn(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}function gn(){return!1}let kb=(()=>{class i{}return i.__NG_ELEMENT_ID__=On,i})();function On(i){return function jD(i,o,a){if(vi(i)&&!a){const l=er(i.index,o);return new pf(l,l)}return 47&i.type?new pf(o[hr],o):null}(or(),de(),16==(16&i))}class J0{constructor(){}supports(o){return dl(o)}create(o){return new HD(o)}}const Ub=(i,o)=>o;class HD{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Ub}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const y=!l||a&&a.currentIndex<dp(l,h,p)?a:l,C=dp(y,h,p),b=y.currentIndex;if(y===l)h--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const T=C-h,M=b-h;if(T!=M){for(let Z=0;Z<T;Z++){const K=Z<p.length?p[Z]:p[Z]=0,ge=K+Z;M<=ge&&ge<T&&(p[Z]=K+1)}p[y.previousIndex]=M-T}}C!==b&&o(y,C,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!dl(o))throw new he(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)p=o[C],y=this._trackByFn(C,p),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,p,y,C)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,C),l=!0),a=a._next}else h=0,function RI(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[qs()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,C=>{y=this._trackByFn(h,C),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,C,y,h)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,y,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new Bb(a,l),p,h),o}_verifyReinsertion(o,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new X0),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new X0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Bb{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jb{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class X0{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new jb,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dp(i,o,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class $b{constructor(){}supports(o){return o instanceof Map||mf(o)}create(){return new ZD}}class ZD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||mf(o)))throw new he(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const l=new Hb(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class Hb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pl(){return new Xa([new J0])}let Xa=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Pl()),deps:[[i,new D,new Mu]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new he(901,!1)}}return i.\u0275prov=et({token:i,providedIn:"root",factory:Pl}),i})();function sc(){return new Bm([new $b])}let Bm=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||sc()),deps:[[i,new D,new Mu]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new he(901,!1)}}return i.\u0275prov=et({token:i,providedIn:"root",factory:sc}),i})();const qD=W0(null,"core",[]);let WD=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(He(Nm))},i.\u0275mod=bn({type:i}),i.\u0275inj=Ln({}),i})();function Fn(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(pt,Ie,k)=>{k.d(Ie,{Z:()=>Ze});var c=k(2090),Y=k(4859),R=k(9681),X=k(1877);class ee{constructor(he,be){this._delegate=he,this.firebase=be,(0,R._addComponent)(he,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(he,be=R._DEFAULT_ENTRY_NAME){var Ee;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(he);return!Fe.isInitialized()&&"EXPLICIT"===(null===(Ee=Fe.getComponent())||void 0===Ee?void 0:Ee.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:be})}_removeServiceInstance(he,be=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(be)}_addComponent(he){(0,R._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,R._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function oe(){const it=function ue(it){const he={},be={__esModule:!0,initializeApp:function we(Oe,V={}){const me=R.initializeApp(Oe,V);if((0,c.r3)(he,me.name))return he[me.name];const Ue=new it(me,be);return he[me.name]=Ue,Ue},app:Fe,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function De(Oe){const V=Oe.name,me=V.replace("-compat","");if(R._registerComponent(Oe)&&"PUBLIC"===Oe.type){const Ue=(Ge=Fe())=>{if("function"!=typeof Ge[me])throw le.create("invalid-app-argument",{appName:V});return Ge[me]()};void 0!==Oe.serviceProps&&(0,c.ZB)(Ue,Oe.serviceProps),be[me]=Ue,it.prototype[me]=function(...Ge){return this._getService.bind(this,V).apply(this,Oe.multipleInstances?Ge:[])}}return"PUBLIC"===Oe.type?be[me]:null},removeApp:function Ee(Oe){delete he[Oe]},useAsService:function Ve(Oe,V){return"serverAuth"===V?null:V},modularAPIs:R}};function Fe(Oe){if(!(0,c.r3)(he,Oe=Oe||R._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Oe});return he[Oe]}return be.default=be,Object.defineProperty(be,"apps",{get:function ye(){return Object.keys(he).map(Oe=>he[Oe])}}),Fe.App=it,be}(ee);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:oe,extendNamespace:function he(be){(0,c.ZB)(it,be)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),it}(),j=new X.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=B;!function Ce(it){(0,R.registerVersion)("@firebase/app-compat","0.2.5",it)}()},9681:(pt,Ie,k)=>{k.r(Ie),k.d(Ie,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>ei,_DEFAULT_ENTRY_NAME:()=>Ne,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>yt,_apps:()=>Ye,_clearComponents:()=>Ln,_components:()=>We,_getProvider:()=>et,_registerComponent:()=>Yt,_removeServiceInstance:()=>xt,deleteApp:()=>ho,getApp:()=>ti,getApps:()=>kr,initializeApp:()=>Ro,onLog:()=>gt,registerVersion:()=>Nr,setLogLevel:()=>fo});var c=k(5861),Y=k(4859),R=k(1877),X=k(2090),ee=k(8766);class te{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function le(He){return"VERSION"===He.getComponent()?.type}(tt)){const Et=tt.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(tt=>tt).join(" ")}}const ue="@firebase/app",B=new R.Yd("@firebase/app"),Ne="[DEFAULT]",$e={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ye=new Map,We=new Map;function Xt(He,ve){try{He.container.addComponent(ve)}catch(tt){B.debug(`Component ${ve.name} failed to register with FirebaseApp ${He.name}`,tt)}}function yt(He,ve){He.container.addOrOverwriteComponent(ve)}function Yt(He){const ve=He.name;if(We.has(ve))return B.debug(`There were multiple attempts to register component ${ve}.`),!1;We.set(ve,He);for(const tt of Ye.values())Xt(tt,He);return!0}function et(He,ve){const tt=He.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),He.container.getProvider(ve)}function xt(He,ve,tt=Ne){et(He,ve).clearInstance(tt)}function Ln(){We.clear()}const _n=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vn{constructor(ve,tt,Et){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const ei="9.18.0";function Ro(He,ve={}){let tt=He;"object"!=typeof ve&&(ve={name:ve});const Et=Object.assign({name:Ne,automaticDataCollectionEnabled:!1},ve),Mt=Et.name;if("string"!=typeof Mt||!Mt)throw _n.create("bad-app-name",{appName:String(Mt)});if(tt||(tt=(0,X.aH)()),!tt)throw _n.create("no-options");const Ft=Ye.get(Mt);if(Ft){if((0,X.vZ)(tt,Ft.options)&&(0,X.vZ)(Et,Ft.config))return Ft;throw _n.create("duplicate-app",{appName:Mt})}const lr=new Y.H0(Mt);for(const L of We.values())lr.addComponent(L);const U=new vn(tt,Et,lr);return Ye.set(Mt,U),U}function ti(He=Ne){const ve=Ye.get(He);if(!ve&&He===Ne)return Ro();if(!ve)throw _n.create("no-app",{appName:He});return ve}function kr(){return Array.from(Ye.values())}function ho(He){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(He){const ve=He.name;Ye.has(ve)&&(Ye.delete(ve),yield Promise.all(He.container.getProviders().map(tt=>tt.delete())),He.isDeleted=!0)})).apply(this,arguments)}function Nr(He,ve,tt){var Et;let Mt=null!==(Et=$e[He])&&void 0!==Et?Et:He;tt&&(Mt+=`-${tt}`);const Ft=Mt.match(/\s|\//),lr=ve.match(/\s|\//);if(Ft||lr){const U=[`Unable to register library "${Mt}" with version "${ve}":`];return Ft&&U.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),Ft&&lr&&U.push("and"),lr&&U.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void B.warn(U.join(" "))}Yt(new Y.wA(`${Mt}-version`,()=>({library:Mt,version:ve}),"VERSION"))}function gt(He,ve){if(null!==He&&"function"!=typeof He)throw _n.create("invalid-log-argument");(0,R.Am)(He,ve)}function fo(He){(0,R.Ub)(He)}const pi="firebase-heartbeat-database",wn=1,ur="firebase-heartbeat-store";let ko=null;function St(){return ko||(ko=(0,ee.X3)(pi,wn,{upgrade:(He,ve)=>{0===ve&&He.createObjectStore(ur)}}).catch(He=>{throw _n.create("idb-open",{originalErrorMessage:He.message})})),ko}function Dt(){return(Dt=(0,c.Z)(function*(He){try{return(yield St()).transaction(ur).objectStore(ur).get(Vn(He))}catch(ve){if(ve instanceof X.ZR)B.warn(ve.message);else{const tt=_n.create("idb-get",{originalErrorMessage:ve?.message});B.warn(tt.message)}}})).apply(this,arguments)}function No(He,ve){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(He,ve){try{const Et=(yield St()).transaction(ur,"readwrite");return yield Et.objectStore(ur).put(ve,Vn(He)),Et.done}catch(tt){if(tt instanceof X.ZR)B.warn(tt.message);else{const Et=_n.create("idb-set",{originalErrorMessage:tt?.message});B.warn(Et.message)}}})).apply(this,arguments)}function Vn(He){return`${He.name}!${He.options.appId}`}class ta{constructor(ve){this.container=ve,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new qt(tt),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var ve=this;return(0,c.Z)(function*(){const Et=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=rn();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!ve._heartbeatsCache.heartbeats.some(Ft=>Ft.date===Mt))return ve._heartbeatsCache.heartbeats.push({date:Mt,agent:Et}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(Ft=>{const lr=new Date(Ft.date).valueOf();return Date.now()-lr<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,c.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const tt=rn(),{heartbeatsToSend:Et,unsentEntries:Mt}=function zi(He,ve=1024){const tt=[];let Et=He.slice();for(const Mt of He){const Ft=tt.find(lr=>lr.agent===Mt.agent);if(Ft){if(Ft.dates.push(Mt.date),Ir(tt)>ve){Ft.dates.pop();break}}else if(tt.push({agent:Mt.agent,dates:[Mt.date]}),Ir(tt)>ve){tt.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:tt,unsentEntries:Et}}(ve._heartbeatsCache.heartbeats),Ft=(0,X.L)(JSON.stringify({version:2,heartbeats:Et}));return ve._heartbeatsCache.lastSentHeartbeatDate=tt,Mt.length>0?(ve._heartbeatsCache.heartbeats=Mt,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),Ft})()}}function rn(){return(new Date).toISOString().substring(0,10)}class qt{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,c.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function _t(He){return Dt.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var tt=this;return(0,c.Z)(function*(){var Et;if(yield tt._canUseIndexedDBPromise){const Ft=yield tt.read();return No(tt.app,{lastSentHeartbeatDate:null!==(Et=ve.lastSentHeartbeatDate)&&void 0!==Et?Et:Ft.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var tt=this;return(0,c.Z)(function*(){var Et;if(yield tt._canUseIndexedDBPromise){const Ft=yield tt.read();return No(tt.app,{lastSentHeartbeatDate:null!==(Et=ve.lastSentHeartbeatDate)&&void 0!==Et?Et:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...ve.heartbeats]})}})()}}function Ir(He){return(0,X.L)(JSON.stringify({version:2,heartbeats:He})).length}!function Ai(He){Yt(new Y.wA("platform-logger",ve=>new te(ve),"PRIVATE")),Yt(new Y.wA("heartbeat",ve=>new ta(ve),"PRIVATE")),Nr(ue,"0.9.5",He),Nr(ue,"0.9.5","esm2017"),Nr("fire-js","")}("")},4859:(pt,Ie,k)=>{k.d(Ie,{H0:()=>ue,wA:()=>R});var c=k(5861),Y=k(2090);class R{constructor(B,j,q){this.name=B,this.instanceFactory=j,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const X="[DEFAULT]";class ee{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const q=new Y.BH;if(this.instancesDeferred.set(j,q),this.isInitialized(j)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:j});je&&q.resolve(je)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const q=this.normalizeInstanceIdentifier(B?.identifier),je=null!==(j=B?.optional)&&void 0!==j&&j;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Ce){if(je)return null;throw Ce}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function le(oe){return"EAGER"===oe.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[j,q]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(j);try{const Ce=this.getOrInitializeService({instanceIdentifier:je});q.resolve(Ce)}catch{}}}}clearInstance(B=X){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,c.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...j.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=X){return this.instances.has(B)}getOptions(B=X){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,q=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:q,options:j});for(const[Ce,Ze]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Ce)&&Ze.resolve(je);return je}onInit(B,j){var q;const je=this.normalizeInstanceIdentifier(j),Ce=null!==(q=this.onInitCallbacks.get(je))&&void 0!==q?q:new Set;Ce.add(B),this.onInitCallbacks.set(je,Ce);const Ze=this.instances.get(je);return Ze&&B(Ze,je),()=>{Ce.delete(B)}}invokeOnInitCallbacks(B,j){const q=this.onInitCallbacks.get(j);if(q)for(const je of q)try{je(B,j)}catch{}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let q=this.instances.get(B);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(oe=B,oe===X?void 0:oe),options:j}),this.instances.set(B,q),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(q,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,q)}catch{}var oe;return q||null}normalizeInstanceIdentifier(B=X){return this.component?this.component.multipleInstances?B:X:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new ee(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,Ie,k)=>{k.d(Ie,{Am:()=>oe,Ub:()=>ue,Yd:()=>le,in:()=>Y});const c=[];var Y=(()=>{return(B=Y||(Y={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",Y;var B})();const R={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},X=Y.INFO,ee={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},te=(B,j,...q)=>{if(j<B.logLevel)return;const je=(new Date).toISOString(),Ce=ee[j];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ce](`[${je}]  ${B.name}:`,...q)};class le{constructor(j){this.name=j,this._logLevel=X,this._logHandler=te,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Y))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?R[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...j),this._logHandler(this,Y.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...j),this._logHandler(this,Y.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...j),this._logHandler(this,Y.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...j),this._logHandler(this,Y.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...j),this._logHandler(this,Y.ERROR,...j)}}function ue(B){c.forEach(j=>{j.setLogLevel(B)})}function oe(B,j){for(const q of c){let je=null;j&&j.level&&(je=R[j.level]),q.userLogHandler=null===B?null:(Ce,Ze,...it)=>{const he=it.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Ze>=(je??Ce.logLevel)&&B({level:Y[Ze].toLowerCase(),message:he,args:it,type:Ce.name})}}}},259:(pt,Ie,k)=>{k.d(Ie,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=k(9681);(0,c.registerVersion)("firebase","9.18.0","app")},9260:(pt,Ie,k)=>{k.d(Ie,{Z:()=>c.Z});var c=k(3942);c.Z.registerVersion("firebase","9.18.0","app-compat")},8971:(pt,Ie,k)=>{k.r(Ie);var c=k(5861),Y=k(3942),R=k(2090),X=k(9681),ee=k(1877),te=k(655),le=k(4859);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q_EMAIL_SIGNIN="EMAIL_SIGNIN",q_PASSWORD_RESET="PASSWORD_RESET",q_RECOVER_EMAIL="RECOVER_EMAIL",q_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",q_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",q_VERIFY_EMAIL="VERIFY_EMAIL";const Ze=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},it=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new ee.Yd("@firebase/auth");function Fe(_,...f){Ee.logLevel<=ee.in.ERROR&&Ee.error(`Auth (${X.SDK_VERSION}): ${_}`,...f)}function we(_,...f){throw Oe(_,...f)}function ye(_,...f){return Oe(_,...f)}function De(_,f,g){const v=Object.assign(Object.assign({},it()),{[f]:g});return new R.LL("auth","Firebase",v).create(f,{appName:_.name})}function Ve(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&we(_,"argument-error"),De(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(_,...f){if("string"!=typeof _){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(g,...v)}return he.create(_,...f)}function V(_,f,...g){if(!_)throw Oe(f,...g)}function me(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Fe(f),new Error(f)}function Ue(_,f){_||me(f)}const Ge=new Map;function dt(_){Ue(_ instanceof Function,"Expected a class definition");let f=Ge.get(_);return f?(Ue(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Ge.set(_,f),f)}function ce(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function _e(){return"http:"===Ae()||"https:"===Ae()}function Ae(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ye{constructor(f,g){this.shortDelay=f,this.longDelay=g,Ue(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function Ne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_e()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function We(_,f){Ue(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Xt{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Yt=new Ye(3e4,6e4);function et(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function xt(_,f,g,v){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(_,f,g,v,A={}){return an(_,A,(0,c.Z)(function*(){let O={},G={};v&&("GET"===f?G=v:O={body:JSON.stringify(v)});const se=(0,R.xO)(Object.assign({key:_.config.apiKey},G)).slice(1),ke=yield _._getAdditionalHeaders();return ke["Content-Type"]="application/json",_.languageCode&&(ke["X-Firebase-Locale"]=_.languageCode),Xt.fetch()(Ro(_,_.config.apiHost,g,se),Object.assign({method:f,headers:ke,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function an(_,f,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(_,f,g){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},yt),f);try{const A=new ti(_),O=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const G=yield O.json();if("needConfirmation"in G)throw kr(_,"account-exists-with-different-credential",G);if(O.ok&&!("errorMessage"in G))return G;{const se=O.ok?G.errorMessage:G.error.message,[ke,Je]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw kr(_,"credential-already-in-use",G);if("EMAIL_EXISTS"===ke)throw kr(_,"email-already-in-use",G);if("USER_DISABLED"===ke)throw kr(_,"user-disabled",G);const It=v[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw De(_,It,Je);we(_,It)}}catch(A){if(A instanceof R.ZR)throw A;we(_,"internal-error",{message:String(A)})}})).apply(this,arguments)}function vn(_,f,g,v){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(_,f,g,v,A={}){const O=yield xt(_,f,g,v,A);return"mfaPendingCredential"in O&&we(_,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Ro(_,f,g,v){const A=`${f}${g}?${v}`;return _.config.emulator?We(_.config,A):`${_.config.apiScheme}://${A}`}class ti{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(ye(this.auth,"network-request-failed")),Yt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kr(_,f,g){const v={appName:_.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const A=ye(_,f,v);return A.customData._tokenResponse=g,A}function yn(){return(yn=(0,c.Z)(function*(_,f){return xt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(_,f){return xt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(_,f){return xt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function wn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function St(){return(St=(0,c.Z)(function*(_,f=!1){const g=(0,R.m9)(_),v=yield g.getIdToken(f),A=Dt(v);V(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,G=O?.sign_in_provider;return{claims:A,token:v,authTime:wn(_t(A.auth_time)),issuedAtTime:wn(_t(A.iat)),expirationTime:wn(_t(A.exp)),signInProvider:G||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function _t(_){return 1e3*Number(_)}function Dt(_){const[f,g,v]=_.split(".");if(void 0===f||void 0===g||void 0===v)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,R.tV)(g);return A?JSON.parse(A):(Fe("Failed to decode base64 JWT payload"),null)}catch(A){return Fe("Caught error parsing JWT payload as JSON",A?.toString()),null}}function dn(_,f){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof R.ZR&&function Er({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}class cr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class ta{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=wn(this.lastLoginAt),this.creationTime=wn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rn(_){return zi.apply(this,arguments)}function zi(){return zi=(0,c.Z)(function*(_){var f;const g=_.auth,v=yield _.getIdToken(),A=yield dn(_,function fo(_,f){return pi.apply(this,arguments)}(g,{idToken:v}));V(A?.users.length,g,"internal-error");const O=A.users[0];_._notifyReloadListener(O);const G=null!==(f=O.providerUserInfo)&&void 0!==f&&f.length?function He(_){return _.map(f=>{var{providerId:g}=f,v=(0,te._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(O.providerUserInfo):[],se=function Ai(_,f){return[..._.filter(v=>!f.some(A=>A.providerId===v.providerId)),...f]}(_.providerData,G),It=!!_.isAnonymous&&!(_.email&&O.passwordHash||se?.length),mt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:se,metadata:new ta(O.createdAt,O.lastLoginAt),isAnonymous:It};Object.assign(_,mt)}),zi.apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(_){const f=(0,R.m9)(_);yield rn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(_,f){const g=yield an(_,{},(0,c.Z)(function*(){const v=(0,R.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:O}=_.config,G=Ro(_,A,"/v1/token",`key=${O}`),se=yield _._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",Xt.fetch()(G,{method:"POST",headers:se,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){V(f.idToken,"internal-error"),V(typeof f.idToken<"u","internal-error"),V(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function No(_){const f=Dt(_);return V(f,"internal-error"),V(typeof f.exp<"u","internal-error"),V(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,c.Z)(function*(){return V(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,c.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:G}=yield function ve(_,f){return tt.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(A,O,Number(G))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:A,expirationTime:O}=g,G=new Et;return v&&(V("string"==typeof v,"internal-error",{appName:f}),G.refreshToken=v),A&&(V("string"==typeof A,"internal-error",{appName:f}),G.accessToken=A),O&&(V("number"==typeof O,"internal-error",{appName:f}),G.expirationTime=O),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Et,this.toJSON())}_performRefresh(){return me("not implemented")}}function Mt(_,f){V("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class Ft{constructor(f){var{uid:g,auth:v,stsTokenManager:A}=f,O=(0,te._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new ta(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const v=yield dn(g,g.stsTokenManager.getToken(g.auth,f));return V(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function ko(_){return St.apply(this,arguments)}(this,f)}reload(){return function qt(_){return Ir.apply(this,arguments)}(this)}_assign(f){this!==f&&(V(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new Ft(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,c.Z)(function*(){let A=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield rn(v)),yield v.auth._persistUserIfCurrent(v),A&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield dn(f,function ho(_,f){return yn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,A,O,G,se,ke,Je,It;const mt=null!==(v=g.displayName)&&void 0!==v?v:void 0,nr=null!==(A=g.email)&&void 0!==A?A:void 0,rr=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,Kc=null!==(G=g.photoURL)&&void 0!==G?G:void 0,Jp=null!==(se=g.tenantId)&&void 0!==se?se:void 0,Hs=null!==(ke=g._redirectEventId)&&void 0!==ke?ke:void 0,no=null!==(Je=g.createdAt)&&void 0!==Je?Je:void 0,Zs=null!==(It=g.lastLoginAt)&&void 0!==It?It:void 0,{uid:Yc,emailVerified:Qc,isAnonymous:Jc,providerData:Xp,stsTokenManager:Xc}=g;V(Yc&&Xc,f,"internal-error");const jv=Et.fromJSON(this.name,Xc);V("string"==typeof Yc,f,"internal-error"),Mt(mt,f.name),Mt(nr,f.name),V("boolean"==typeof Qc,f,"internal-error"),V("boolean"==typeof Jc,f,"internal-error"),Mt(rr,f.name),Mt(Kc,f.name),Mt(Jp,f.name),Mt(Hs,f.name),Mt(no,f.name),Mt(Zs,f.name);const el=new Ft({uid:Yc,auth:f,email:nr,emailVerified:Qc,displayName:mt,isAnonymous:Jc,photoURL:Kc,phoneNumber:rr,tenantId:Jp,stsTokenManager:jv,createdAt:no,lastLoginAt:Zs});return Xp&&Array.isArray(Xp)&&(el.providerData=Xp.map(tl=>Object.assign({},tl))),Hs&&(el._redirectEventId=Hs),el}static _fromIdTokenResponse(f,g,v=!1){return(0,c.Z)(function*(){const A=new Et;A.updateFromServerResponse(g);const O=new Ft({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:v});return yield rn(O),O})()}}const U=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,v){var A=this;return(0,c.Z)(function*(){A.storage[g]=v})()}_get(g){var v=this;return(0,c.Z)(function*(){const A=v.storage[g];return void 0===A?null:A})()}_remove(g){var v=this;return(0,c.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return _.type="NONE",_})();function L(_,f,g){return`firebase:${_}:${f}:${g}`}class z{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:A,name:O}=this.auth;this.fullUserKey=L(this.userKey,A.apiKey,O),this.fullPersistenceKey=L("persistence",A.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Ft._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,c.Z)(function*(){if(!g.length)return new z(dt(U),f,v);const A=(yield Promise.all(g.map(function(){var Je=(0,c.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let O=A[0]||dt(U);const G=L(v,f.config.apiKey,f.name);let se=null;for(const Je of g)try{const It=yield Je._get(G);if(It){const mt=Ft._fromJSON(f,It);Je!==O&&(se=mt),O=Je;break}}catch{}const ke=A.filter(Je=>Je._shouldAllowMigration);return O._shouldAllowMigration&&ke.length?(O=ke[0],se&&(yield O._set(G,se.toJSON())),yield Promise.all(g.map(function(){var Je=(0,c.Z)(function*(It){if(It!==O)try{yield It._remove(G)}catch{}});return function(It){return Je.apply(this,arguments)}}())),new z(O,f,v)):new z(O,f,v)})()}}function fe(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Qt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(J(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Cn(f))return"Blackberry";if(Un(f))return"Webos";if(ot(f))return"Safari";if((f.includes("chrome/")||vt(f))&&!f.includes("edge/"))return"Chrome";if(Ct(f))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function J(_=(0,R.z$)()){return/firefox\//i.test(_)}function ot(_=(0,R.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function vt(_=(0,R.z$)()){return/crios\//i.test(_)}function Qt(_=(0,R.z$)()){return/iemobile/i.test(_)}function Ct(_=(0,R.z$)()){return/android/i.test(_)}function Cn(_=(0,R.z$)()){return/blackberry/i.test(_)}function Un(_=(0,R.z$)()){return/webos/i.test(_)}function zt(_=(0,R.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function vh(_=(0,R.z$)()){return zt(_)||Ct(_)||Un(_)||Cn(_)||/windows phone/i.test(_)||Qt(_)}function eu(_,f=[]){let g;switch(_){case"Browser":g=fe((0,R.z$)());break;case"Worker":g=`${fe((0,R.z$)())}-${_}`;break;default:g=_}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${X.SDK_VERSION}/${v}`}class hc{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const v=O=>new Promise((G,se)=>{try{G(f(O))}catch(ke){se(ke)}});v.onAbort=g,this.queue.push(v);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===f)return;const v=[];try{for(const A of g.queue)yield A(f),A.onAbort&&v.push(A.onAbort)}catch(A){v.reverse();for(const O of v)try{O()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class Vl{constructor(f,g,v){this.app=f,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ul(this),this.idTokenSubscription=new Ul(this),this.beforeStateQueue=new hc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=dt(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var A,O;if(!v._deleted&&(v.persistenceManager=yield z.create(v,f),!v._deleted)){if(null!==(A=v._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(O=v.currentUser)||void 0===O?void 0:O.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var v;const A=yield g.assertedPersistence.getCurrentUser();let O=A,G=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const se=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,ke=O?._redirectEventId,Je=yield g.tryRedirectSignIn(f);(!se||se===ke)&&Je?.user&&(O=Je.user,G=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(G)try{yield g.beforeStateQueue.runMiddleware(O)}catch(se){O=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(se))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return V(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield rn(f)}catch(v){if("auth/network-request-failed"!==v?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function $e(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const v=f?(0,R.m9)(f):null;return v&&V(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f,g=!1){var v=this;return(0,c.Z)(function*(){if(!v._deleted)return f&&V(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),g||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,c.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(dt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new R.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,c.Z)(function*(){const A=yield v.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&dt(f)||g._popupRedirectResolver;V(v,g,"argument-error"),g.redirectPersistenceManager=yield z.create(g,[dt(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var v,A;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,A){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),G=this._isInitialized?Promise.resolve():this._initializationPromise;return V(G,this,"internal-error"),G.then(()=>O(this.currentUser)),"function"==typeof g?f.addObserver(g,v,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=eu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(v["X-Firebase-Client"]=A),v})()}}function bn(_){return(0,R.m9)(_)}class Ul{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ra(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Wt(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Rn{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return me("not implemented")}_getIdTokenResponse(f){return me("not implemented")}_linkToIdToken(f,g){return me("not implemented")}_getReauthenticationResolver(f){return me("not implemented")}}function Bn(_,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(_,f){return xt(_,"POST","/v1/accounts:resetPassword",et(_,f))})).apply(this,arguments)}function ni(_,f){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(_,f){return xt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(_,f){return xt(_,"POST","/v1/accounts:update",et(_,f))})).apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(_,f){return vn(_,"POST","/v1/accounts:signInWithPassword",et(_,f))})).apply(this,arguments)}function jn(_,f){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(_,f){return xt(_,"POST","/v1/accounts:sendOobCode",et(_,f))})).apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(_,f){return jn(_,f)})).apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(_,f){return jn(_,f)})).apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(_,f){return jn(_,f)})).apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(_,f){return jn(_,f)})).apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(_,f){return vn(_,"POST","/v1/accounts:signInWithEmailLink",et(_,f))})).apply(this,arguments)}function _i(){return(_i=(0,c.Z)(function*(_,f){return vn(_,"POST","/v1/accounts:signInWithEmailLink",et(_,f))})).apply(this,arguments)}class go extends Rn{constructor(f,g,v,A=null){super("password",v),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new go(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new go(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function Dr(_,f){return Gi.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function hr(_,f){return fs.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:we(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return ni(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Lo(_,f){return _i.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:we(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function qi(_,f){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(_,f){return vn(_,"POST","/v1/accounts:signInWithIdp",et(_,f))})).apply(this,arguments)}class ri extends Rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new ri(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):we("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A}=g,O=(0,te._T)(g,["providerId","signInMethod"]);if(!v||!A)return null;const G=new ri(v,A);return G.idToken=O.idToken||void 0,G.accessToken=O.accessToken||void 0,G.secret=O.secret,G.nonce=O.nonce,G.pendingToken=O.pendingToken||null,G}_getIdTokenResponse(f){return qi(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,qi(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,qi(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,R.xO)(g)}return f}}function ps(){return(ps=(0,c.Z)(function*(_,f){return xt(_,"POST","/v1/accounts:sendVerificationCode",et(_,f))})).apply(this,arguments)}function Tr(){return(Tr=(0,c.Z)(function*(_,f){return vn(_,"POST","/v1/accounts:signInWithPhoneNumber",et(_,f))})).apply(this,arguments)}function jl(){return(jl=(0,c.Z)(function*(_,f){const g=yield vn(_,"POST","/v1/accounts:signInWithPhoneNumber",et(_,f));if(g.temporaryProof)throw kr(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Lr={USER_NOT_FOUND:"user-not-found"};function oa(){return(oa=(0,c.Z)(function*(_,f){return vn(_,"POST","/v1/accounts:signInWithPhoneNumber",et(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Lr)})).apply(this,arguments)}class vi extends Rn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new vi({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new vi({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Vo(_,f){return Tr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function fr(_,f){return jl.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function yi(_,f){return oa.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:O}=f;return v||g||A||O?new vi({verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:O}):null}}class sa{constructor(f){var g,v,A,O,G,se;const ke=(0,R.zd)((0,R.pd)(f)),Je=null!==(g=ke.apiKey)&&void 0!==g?g:null,It=null!==(v=ke.oobCode)&&void 0!==v?v:null,mt=function mc(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=ke.mode)&&void 0!==A?A:null);V(Je&&It&&mt,"argument-error"),this.apiKey=Je,this.operation=mt,this.code=It,this.continueUrl=null!==(O=ke.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(G=ke.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(se=ke.tenantId)&&void 0!==se?se:null}static parseLink(f){const g=function Vr(_){const f=(0,R.zd)((0,R.pd)(_)).link,g=f?(0,R.zd)((0,R.pd)(f)).deep_link_id:null,v=(0,R.zd)((0,R.pd)(_)).deep_link_id;return(v?(0,R.zd)((0,R.pd)(v)).link:null)||v||g||f||_}(f);try{return new sa(g)}catch{return null}}}let _c=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,v){return go._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const A=sa.parseLink(v);return V(A,"argument-error"),go._fromEmailAndCode(g,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Wi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class gs extends Wi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class aa extends gs{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return V("providerId"in g&&"signInMethod"in g,"argument-error"),ri._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return V(f.idToken||f.accessToken,"argument-error"),ri._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return aa.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return aa.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:A,pendingToken:O,nonce:G,providerId:se}=f;if(!v&&!A&&!g&&!O||!se)return null;try{return new aa(se)._credential({idToken:g,accessToken:v,nonce:G,pendingToken:O})}catch{return null}}}let yc=(()=>{class _ extends gs{constructor(){super("facebook.com")}static credential(g){return ri._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ch=(()=>{class _ extends gs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return ri._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:A}=g;if(!v&&!A)return null;try{return _.credential(v,A)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),bh=(()=>{class _ extends gs{constructor(){super("github.com")}static credential(g){return ri._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ms extends Rn{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return qi(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,qi(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,qi(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A,pendingToken:O}=g;return v&&A&&O&&v===A?new ms(v,O):null}static _create(f,g){return new ms(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ii extends Wi{constructor(f){V(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ii.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ii.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=ms.fromJSON(f);return V(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return ms._create(v,g)}catch{return null}}}let xp=(()=>{class _ extends gs{constructor(){super("twitter.com")}static credential(g,v){return ri._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:A}=g;if(!v||!A)return null;try{return _.credential(v,A)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function tu(_,f){return vc.apply(this,arguments)}function vc(){return(vc=(0,c.Z)(function*(_,f){return vn(_,"POST","/v1/accounts:signUp",et(_,f))})).apply(this,arguments)}class Ar{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,A=!1){return(0,c.Z)(function*(){const O=yield Ft._fromIdTokenResponse(f,v,A),G=wc(v);return new Ar({user:O,providerId:G,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const A=wc(v);return new Ar({user:f,providerId:A,_tokenResponse:v,operationType:g})})()}}function wc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Eh(){return(Eh=(0,c.Z)(function*(_){var f;const g=bn(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Ar({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield tu(g,{returnSecureToken:!0}),A=yield Ar._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class nu extends R.ZR{constructor(f,g,v,A){var O;super(g.code,g.message),this.operationType=v,this.user=A,Object.setPrototypeOf(this,nu.prototype),this.customData={appName:f.name,tenantId:null!==(O=f.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,A){return new nu(f,g,v,A)}}function Bo(_,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?nu._fromErrorAndOperation(_,O,f,v):O})}function jo(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function _s(){return _s=(0,c.Z)(function*(_,f){const g=(0,R.m9)(_);yield $o(!0,g,f);const{providerUserInfo:v}=yield function Nr(_,f){return gt.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=jo(v||[]);return g.providerData=g.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),_s.apply(this,arguments)}function iu(_,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(_,f,g=!1){const v=yield dn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Ar._forOperation(_,"link",v)})).apply(this,arguments)}function $o(_,f,g){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(_,f,g){yield rn(f);const A=!1===_?"provider-already-linked":"no-such-provider";V(jo(f.providerData).has(g)===_,f.auth,A)})).apply(this,arguments)}function Hl(_,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(_,f,g=!1){const{auth:v}=_,A="reauthenticate";try{const O=yield dn(_,Bo(v,A,f,_),g);V(O.idToken,v,"internal-error");const G=Dt(O.idToken);V(G,v,"internal-error");const{sub:se}=G;return V(_.uid===se,v,"user-mismatch"),Ar._forOperation(_,A,O)}catch(O){throw"auth/user-not-found"===O?.code&&we(v,"user-mismatch"),O}})).apply(this,arguments)}function ws(_,f){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,c.Z)(function*(_,f,g=!1){const v="signIn",A=yield Bo(_,v,f),O=yield Ar._fromIdTokenResponse(_,v,A);return g||(yield _._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Dn(_,f){return ou.apply(this,arguments)}function ou(){return(ou=(0,c.Z)(function*(_,f){return ws(bn(_),f)})).apply(this,arguments)}function kn(_,f){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(_,f){const g=(0,R.m9)(_);return yield $o(!1,g,f.providerId),iu(g,f)})).apply(this,arguments)}function Ho(_,f){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(_,f){return Hl((0,R.m9)(_),f)})).apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(_,f){return vn(_,"POST","/v1/accounts:signInWithCustomToken",et(_,f))})).apply(this,arguments)}function er(){return er=(0,c.Z)(function*(_,f){const g=bn(_),v=yield function Cc(_,f){return bs.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),A=yield Ar._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(A.user),A}),er.apply(this,arguments)}class ca{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Es._fromServerResponse(f,g):we(f,"internal-error")}}class Es extends ca{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Es(g)}}function su(_,f,g){var v;V((null===(v=g.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),V(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(V(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(V(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function la(){return la=(0,c.Z)(function*(_,f,g){const v=(0,R.m9)(_),A={requestType:"PASSWORD_RESET",email:f};g&&su(v,A,g),yield function xi(_,f){return Lt.apply(this,arguments)}(v,A)}),la.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(_,f,g){yield Bn((0,R.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Zl(){return Zl=(0,c.Z)(function*(_,f){yield function Ot(_,f){return hn.apply(this,arguments)}((0,R.m9)(_),{oobCode:f})}),Zl.apply(this,arguments)}function uu(_,f){return bc.apply(this,arguments)}function bc(){return(bc=(0,c.Z)(function*(_,f){const g=(0,R.m9)(_),v=yield Bn(g,{oobCode:f}),A=v.requestType;switch(V(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(v.mfaInfo,g,"internal-error");default:V(v.email,g,"internal-error")}let O=null;return v.mfaInfo&&(O=ca._fromServerResponse(bn(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:O},operation:A}})).apply(this,arguments)}function cu(){return(cu=(0,c.Z)(function*(_,f){const{data:g}=yield uu((0,R.m9)(_),f);return g.email})).apply(this,arguments)}function Ic(){return(Ic=(0,c.Z)(function*(_,f,g){const v=bn(_),A=yield tu(v,{returnSecureToken:!0,email:f,password:g}),O=yield Ar._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(O.user),O})).apply(this,arguments)}function zl(){return zl=(0,c.Z)(function*(_,f,g){const v=(0,R.m9)(_),A={requestType:"EMAIL_SIGNIN",email:f};V(g.handleCodeInApp,v,"argument-error"),g&&su(v,A,g),yield function pc(_,f){return po.apply(this,arguments)}(v,A)}),zl.apply(this,arguments)}function ha(){return(ha=(0,c.Z)(function*(_,f,g){const v=(0,R.m9)(_),A=_c.credentialWithLink(f,g||ce());return V(A._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Dn(v,A)})).apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(_,f){return xt(_,"POST","/v1/accounts:createAuthUri",et(_,f))})).apply(this,arguments)}function hu(){return hu=(0,c.Z)(function*(_,f){const v={identifier:f,continueUri:_e()?ce():"http://localhost"},{signinMethods:A}=yield function lu(_,f){return Br.apply(this,arguments)}((0,R.m9)(_),v);return A||[]}),hu.apply(this,arguments)}function Dc(){return Dc=(0,c.Z)(function*(_,f){const g=(0,R.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&su(g.auth,A,f);const{email:O}=yield function En(_,f){return hs.apply(this,arguments)}(g.auth,A);O!==_.email&&(yield _.reload())}),Dc.apply(this,arguments)}function Kn(){return Kn=(0,c.Z)(function*(_,f,g){const v=(0,R.m9)(_),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&su(v.auth,O,g);const{email:G}=yield function gc(_,f){return mi.apply(this,arguments)}(v.auth,O);G!==_.email&&(yield _.reload())}),Kn.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(_,f){return xt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Mi(){return Mi=(0,c.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,R.m9)(_),O={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},G=yield dn(v,function jr(_,f){return mo.apply(this,arguments)}(v.auth,O));v.displayName=G.displayName||null,v.photoURL=G.photoUrl||null;const se=v.providerData.find(({providerId:ke})=>"password"===ke);se&&(se.displayName=v.displayName,se.photoURL=v.photoURL),yield v._updateTokensIfNecessary(G)}),Mi.apply(this,arguments)}function Wl(_,f,g){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,c.Z)(function*(_,f,g){const{auth:v}=_,O={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(O.email=f),g&&(O.password=g);const G=yield dn(_,ni(v,O));yield _._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class Yi{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class Kl extends Yi{constructor(f,g,v,A){super(f,g,v),this.username=A}}class xc extends Yi{constructor(f,g){super(f,"facebook.com",g)}}class Yl extends Kl{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Th extends Yi{constructor(f,g){super(f,"google.com",g)}}class pu extends Kl{constructor(f,g,v){super(f,"twitter.com",g,v)}}function Ah(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Ac(_){var f,g;if(!_)return null;const{providerId:v}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},O=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&_?.idToken){const G=null===(g=null===(f=Dt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(G)return new Yi(O,"anonymous"!==G&&"custom"!==G?G:null)}if(!v)return null;switch(v){case"facebook.com":return new xc(O,A);case"github.com":return new Yl(O,A);case"google.com":return new Th(O,A);case"twitter.com":return new pu(O,A,_.screenName||null);case"custom":case"anonymous":return new Yi(O,null);default:return new Yi(O,v,A)}}(g)}class Ds{constructor(f,g,v){this.type=f,this.credential=g,this.auth=v}static _fromIdtoken(f,g){return new Ds("enroll",f,g)}static _fromMfaPendingCredential(f){return new Ds("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ds._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(v=f.multiFactorSession)&&void 0!==v&&v.idToken)return Ds._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Mc{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=bn(f),A=g.customData._serverResponse,O=(A.mfaInfo||[]).map(se=>ca._fromServerResponse(v,se));V(A.mfaPendingCredential,v,"internal-error");const G=Ds._fromMfaPendingCredential(A.mfaPendingCredential);return new Mc(G,O,function(){var se=(0,c.Z)(function*(ke){const Je=yield ke._process(v,G);delete A.mfaInfo,delete A.mfaPendingCredential;const It=Object.assign(Object.assign({},A),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(g.operationType){case"signIn":const mt=yield Ar._fromIdTokenResponse(v,g.operationType,It);return yield v._updateCurrentUser(mt.user),mt;case"reauthenticate":return V(g.user,v,"internal-error"),Ar._forOperation(g.user,g.operationType,It);default:we(v,"internal-error")}});return function(ke){return se.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}class pa{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>ca._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new pa(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Ds._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var v=this;return(0,c.Z)(function*(){const A=f,O=yield v.getSession(),G=yield dn(v.user,A._process(v.user.auth,O,g));return yield v.user._updateTokensIfNecessary(G),v.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const v="string"==typeof f?f:f.uid,A=yield g.user.getIdToken();try{const O=yield dn(g.user,function Pp(_,f){return xt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",et(_,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:G})=>G!==v),yield g.user._updateTokensIfNecessary(O),yield g.user.reload()}catch(O){throw O}})()}}const Go=new WeakMap,_o="__sak";class ga{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(_o,"1"),this.storage.removeItem(_o),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const gu=(()=>{class _ extends ga{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ma(){const _=(0,R.z$)();return ot(_)||zt(_)}()&&function na(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vh(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const A=this.storage.getItem(v),O=this.localCache[v];A!==O&&g(v,O,A)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((se,ke,Je)=>{this.notifyListeners(se,Je)});const A=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(A);if(g.newValue!==se)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!v)return}const O=()=>{const se=this.storage.getItem(A);!v&&this.localCache[A]===se||this.notifyListeners(A,se)},G=this.storage.getItem(A);!function Fo(){return(0,R.w1)()&&10===document.documentMode}()||G===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const O of Array.from(A))O(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var A=()=>super._set,O=this;return(0,c.Z)(function*(){yield A().call(O,g,v),O.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,A=this;return(0,c.Z)(function*(){const O=yield v().call(A,g);return A.localCache[g]=JSON.stringify(O),O})()}_remove(g){var v=()=>super._remove,A=this;return(0,c.Z)(function*(){yield v().call(A,g),delete A.localCache[g]})()}}return _.type="LOCAL",_})(),qo=(()=>{class _ extends ga{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return _.type="SESSION",_})();let Sh=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(O=>O.isListeningto(g));if(v)return v;const A=new _(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,c.Z)(function*(){const A=g,{eventId:O,eventType:G,data:se}=A.data,ke=v.handlersMap[G];if(!ke?.size)return;A.ports[0].postMessage({status:"ack",eventId:O,eventType:G});const Je=Array.from(ke).map(function(){var mt=(0,c.Z)(function*(nr){return nr(A.origin,se)});return function(nr){return mt.apply(this,arguments)}}()),It=yield function Xl(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(Je);A.ports[0].postMessage({status:"done",eventId:O,eventType:G,response:It})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Wo(_="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return _+g}class _a{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var A=this;return(0,c.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let G,se;return new Promise((ke,Je)=>{const It=Wo("",20);O.port1.start();const mt=setTimeout(()=>{Je(new Error("unsupported_event"))},v);se={messageChannel:O,onMessage(nr){const rr=nr;if(rr.data.eventId===It)switch(rr.data.status){case"ack":clearTimeout(mt),G=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),ke(rr.data.response);break;default:clearTimeout(mt),clearTimeout(G),Je(new Error("invalid_response"))}}},A.handlers.add(se),O.port1.addEventListener("message",se.onMessage),A.target.postMessage({eventType:f,eventId:It,data:g},[O.port2])}).finally(()=>{se&&A.removeMessageHandler(se)})})()}}function In(){return window}function Qi(){return typeof In().WorkerGlobalScope<"u"&&"function"==typeof In().importScripts}function As(){return(As=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const mu="firebaseLocalStorageDb",_u=1,vo="firebaseLocalStorage",xs="fbase_key";class Ss{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function wa(_,f){return _.transaction([vo],f?"readwrite":"readonly").objectStore(vo)}function yu(){const _=indexedDB.open(mu,_u);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(vo,{keyPath:xs})}catch(A){g(A)}}),_.addEventListener("success",(0,c.Z)(function*(){const v=_.result;v.objectStoreNames.contains(vo)?f(v):(v.close(),yield function Ca(){const _=indexedDB.deleteDatabase(mu);return new Ss(_).toPromise()}(),f(yield yu()))}))})}function pr(_,f,g){return ba.apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(_,f,g){const v=wa(_,!0).put({[xs]:f,value:g});return new Ss(v).toPromise()})).apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(_,f){const g=wa(_,!1).get(f),v=yield new Ss(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Ea(_,f){const g=wa(_,!0).delete(f);return new Ss(g).toPromise()}const Ko=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield yu()),g.db})()}_withRetries(g){var v=this;return(0,c.Z)(function*(){let A=0;for(;;)try{const O=yield v._openDb();return yield g(O)}catch(O){if(A++>3)throw O;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Qi()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Sh._getInstance(function va(){return Qi()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(A,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(A,O){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(A,O){return["keyChanged"]});return function(A,O){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var v,A;if(g.activeServiceWorker=yield function Ji(){return As.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new _a(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);O&&null!==(v=O[0])&&void 0!==v&&v.fulfilled&&null!==(A=O[0])&&void 0!==A&&A.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Pc(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield yu();return yield pr(g,_o,"1"),yield Ea(g,_o),!0}catch{}return!1})()}_withPendingWrite(g){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(O=>pr(O,g,v)),A.localCache[g]=v,A.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,c.Z)(function*(){const A=yield v._withRetries(O=>function Ms(_,f){return wo.apply(this,arguments)}(O,g));return v.localCache[g]=A,A})()}_remove(g){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(A=>Ea(A,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const v=yield g._withRetries(G=>{const se=wa(G,!1).getAll();return new Ss(se).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const A=[],O=new Set;for(const{fbase_key:G,value:se}of v)O.add(G),JSON.stringify(g.localCache[G])!==JSON.stringify(se)&&(g.notifyListeners(G,se),A.push(G));for(const G of Object.keys(g.localCache))g.localCache[G]&&!O.has(G)&&(g.notifyListeners(G,null),A.push(G));return A})()}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const O of Array.from(A))O(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function wu(){return(wu=(0,c.Z)(function*(_){return(yield xt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pi(_){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=f,v.onerror=A=>{const O=ye("internal-error");O.customData=A,g(O)},v.type="text/javascript",v.charset="UTF-8",function Yo(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(v)})}function td(_){return`__${_}${Math.floor(1e6*Math.random())}`}const wi=1e12;class Rp{constructor(f){this.auth=f,this.counter=wi,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new nd(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||wi;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||wi))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var v;return null===(v=g._widgets.get(f||wi))||void 0===v||v.execute(),""})()}}class nd{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;V(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bu(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rd=td("rcb"),kc=new Ye(3e4,6e4);class eo{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=In().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return V(function Ta(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(In().grecaptcha):new Promise((v,A)=>{const O=In().setTimeout(()=>{A(ye(f,"network-request-failed"))},kc.get());In()[rd]=()=>{In().clearTimeout(O),delete In()[rd];const se=In().grecaptcha;if(!se)return void A(ye(f,"internal-error"));const ke=se.render;se.render=(Je,It)=>{const mt=ke(Je,It);return this.counter++,mt},this.hostLanguage=g,v(se)},Pi(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:rd,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),A(ye(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=In().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Iu{load(f){return(0,c.Z)(function*(){return new Rp(f)})()}clearedOneInstance(){}}const id="recaptcha",Mh={theme:"light",type:"image"};class Aa{constructor(f,g=Object.assign({},Mh),v){this.parameters=g,this.type=id,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(v),this.isInvisible="invisible"===this.parameters.size,V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;V(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Iu:new eo,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(O=>{const G=se=>{se&&(f.tokenChangeListeners.delete(G),O(se))};f.tokenChangeListeners.add(G),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=In()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){V(_e()&&!Qi(),f.auth,"internal-error"),yield function Oh(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Oi(_){return wu.apply(this,arguments)}(f.auth);V(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class od{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=vi._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function sd(){return(sd=(0,c.Z)(function*(_,f,g){const v=bn(_),A=yield Fc(v,f,(0,R.m9)(g));return new od(A,O=>Dn(v,O))})).apply(this,arguments)}function Nc(){return(Nc=(0,c.Z)(function*(_,f,g){const v=(0,R.m9)(_);yield $o(!1,v,"phone");const A=yield Fc(v.auth,f,(0,R.m9)(g));return new od(A,O=>kn(v,O))})).apply(this,arguments)}function ad(){return(ad=(0,c.Z)(function*(_,f,g){const v=(0,R.m9)(_),A=yield Fc(v.auth,f,(0,R.m9)(g));return new od(A,O=>Ho(v,O))})).apply(this,arguments)}function Fc(_,f,g){return Du.apply(this,arguments)}function Du(){return Du=(0,c.Z)(function*(_,f,g){var v;const A=yield g.verify();try{let O;if(V("string"==typeof A,_,"argument-error"),V(g.type===id,_,"argument-error"),O="string"==typeof f?{phoneNumber:f}:f,"session"in O){const G=O.session;if("phoneNumber"in O)return V("enroll"===G.type,_,"internal-error"),(yield function xh(_,f){return xt(_,"POST","/v2/accounts/mfaEnrollment:start",et(_,f))}(_,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{V("signin"===G.type,_,"internal-error");const se=(null===(v=O.multiFactorHint)||void 0===v?void 0:v.uid)||O.multiFactorUid;return V(se,_,"missing-multi-factor-info"),(yield function Da(_,f){return xt(_,"POST","/v2/accounts/mfaSignIn:start",et(_,f))}(_,{mfaPendingCredential:G.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield function Bl(_,f){return ps.apply(this,arguments)}(_,{phoneNumber:O.phoneNumber,recaptchaToken:A});return G}}finally{g._reset()}}),Du.apply(this,arguments)}function Ph(){return(Ph=(0,c.Z)(function*(_,f){yield iu((0,R.m9)(_),f)})).apply(this,arguments)}let Lc=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=bn(g)}verifyPhoneNumber(g,v){return Fc(this.auth,g,(0,R.m9)(v))}static credential(g,v){return vi._fromVerification(g,v)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:A}=g;return v&&A?vi._fromTokenResponse(v,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function pn(_,f){return f?dt(f):(V(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Sa extends Rn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return qi(f,this._buildIdpRequest())}_linkToIdToken(f,g){return qi(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return qi(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Tu(_){return ws(_.auth,new Sa(_),_.bypassAuthState)}function ud(_){const{auth:f,user:g}=_;return V(g,f,"internal-error"),Hl(g,new Sa(_),_.bypassAuthState)}function $r(_){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(_){const{auth:f,user:g}=_;return V(g,f,"internal-error"),iu(g,new Sa(_),_.bypassAuthState)})).apply(this,arguments)}class Au{constructor(f,g,v,A,O=!1){this.auth=f,this.resolver=v,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(v,A){f.pendingPromise={resolve:v,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(O){f.reject(O)}});return function(v,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:A,postBody:O,tenantId:G,error:se,type:ke}=f;if(se)return void g.reject(se);const Je={auth:g.auth,requestUri:v,sessionId:A,tenantId:G||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ke)(Je))}catch(It){g.reject(It)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Tu;case"linkViaPopup":case"linkViaRedirect":return $r;case"reauthViaPopup":case"reauthViaRedirect":return ud;default:we(this.auth,"internal-error")}}resolve(f){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Os=new Ye(2e3,1e4);function xu(){return(xu=(0,c.Z)(function*(_,f,g){const v=bn(_);Ve(_,f,Wi);const A=pn(v,g);return new Su(v,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Rh(){return(Rh=(0,c.Z)(function*(_,f,g){const v=(0,R.m9)(_);Ve(v.auth,f,Wi);const A=pn(v.auth,g);return new Su(v.auth,"reauthViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(_,f,g){const v=(0,R.m9)(_);Ve(v.auth,f,Wi);const A=pn(v.auth,g);return new Su(v.auth,"linkViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}let Su=(()=>{class _ extends Au{constructor(g,v,A,O,G){super(g,v,O,G),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const v=yield g.execute();return V(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,c.Z)(function*(){Ue(1===g.filter.length,"Popup operations only handle one event");const v=Wo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(ye(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,A;this.pollId=null!==(A=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Os.get())};g()}}return _.currentPopupAction=null,_})();const ki="pendingRedirect",Ma=new Map;class kh extends Au{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let v=Ma.get(g.auth._key());if(!v){try{const O=(yield function cn(_,f){return Mr.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(O)}catch(A){v=()=>Promise.reject(A)}Ma.set(g.auth._key(),v)}return g.bypassAuthState||Ma.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const A=yield v.auth._redirectUserForId(f.eventId);if(A)return v.user=A,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Mr(){return(Mr=(0,c.Z)(function*(_,f){const g=Hr(f),v=Co(_);if(!(yield v._isAvailable()))return!1;const A="true"===(yield v._get(g));return yield v._remove(g),A})).apply(this,arguments)}function ut(_,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(_,f){return Co(_)._set(Hr(f),"true")})).apply(this,arguments)}function cd(_,f){Ma.set(_._key(),f)}function Co(_){return dt(_._redirectPersistence)}function Hr(_){return L(ki,_.config.apiKey,_.name)}function Vc(_,f,g){return function Mu(_,f,g){return E.apply(this,arguments)}(_,f,g)}function E(){return(E=(0,c.Z)(function*(_,f,g){const v=bn(_);Ve(_,f,Wi),yield v._initializationPromise;const A=pn(v,g);return yield ut(A,v),A._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function D(_,f,g){return function S(_,f,g){return F.apply(this,arguments)}(_,f,g)}function F(){return(F=(0,c.Z)(function*(_,f,g){const v=(0,R.m9)(_);Ve(v.auth,f,Wi),yield v.auth._initializationPromise;const A=pn(v.auth,g);yield ut(A,v.auth);const O=yield At(v);return A._openRedirect(v.auth,f,"reauthViaRedirect",O)})).apply(this,arguments)}function W(_,f,g){return function H(_,f,g){return Te.apply(this,arguments)}(_,f,g)}function Te(){return(Te=(0,c.Z)(function*(_,f,g){const v=(0,R.m9)(_);Ve(v.auth,f,Wi),yield v.auth._initializationPromise;const A=pn(v.auth,g);yield $o(!1,v,f.providerId),yield ut(A,v.auth);const O=yield At(v);return A._openRedirect(v.auth,f,"linkViaRedirect",O)})).apply(this,arguments)}function ct(){return(ct=(0,c.Z)(function*(_,f){return yield bn(_)._initializationPromise,st(_,f,!1)})).apply(this,arguments)}function st(_,f){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(_,f,g=!1){const v=bn(_),A=pn(v,f),G=yield new kh(v,A,g).execute();return G&&!g&&(delete G.user._redirectEventId,yield v._persistUserIfCurrent(G.user),yield v._setRedirectUser(null,f)),G})).apply(this,arguments)}function At(_){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(_){const f=Wo(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Rs{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Zr(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ks(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!ks(f)){const A=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(ye(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(f))}saveEventToCache(f){this.cachedEventUids.add(Jo(f)),this.lastProcessedEventTime=Date.now()}}function Jo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function ks({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function si(_){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(_,f={}){return xt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const kp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nh=/^https?/;function Xo(){return(Xo=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield si(_);for(const g of f)try{if(Fh(g))return}catch{}we(_,"unauthorized-domain")})).apply(this,arguments)}function Fh(_){const f=ce(),{protocol:g,hostname:v}=new URL(f);if(_.startsWith("chrome-extension://")){const G=new URL(_);return""===G.hostname&&""===v?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&G.hostname===v}if(!Nh.test(g))return!1;if(kp.test(_))return v===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(v)}const ai=new Ye(3e4,6e4);function ld(){const _=In().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Tn=null;const Lh=new Ye(5e3,15e3),Ci="__/auth/iframe",ui="emulator/auth/iframe",Vh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bv(_){const f=_.config;V(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?We(f,ui):`https://${_.config.authDomain}/${Ci}`,v={apiKey:f.apiKey,appName:_.name,v:X.SDK_VERSION},A=h_.get(_.config.apiHost);A&&(v.eid=A);const O=_._getFrameworks();return O.length&&(v.fw=O.join(",")),`${g}?${(0,R.xO)(v).slice(1)}`}function es(){return es=(0,c.Z)(function*(_){const f=yield function dd(_){return Tn=Tn||function Np(_){return new Promise((f,g)=>{var v,A,O;function G(){ld(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{ld(),g(ye(_,"network-request-failed"))},timeout:ai.get()})}if(null!==(A=null===(v=In().gapi)||void 0===v?void 0:v.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(O=In().gapi)||void 0===O||!O.load){const se=td("iframefcb");return In()[se]=()=>{gapi.load?G():g(ye(_,"network-request-failed"))},Pi(`https://apis.google.com/js/api.js?onload=${se}`).catch(ke=>g(ke))}G()}}).catch(f=>{throw Tn=null,f})}(_),Tn}(_),g=In().gapi;return V(g,_,"internal-error"),f.open({where:document.body,url:Bv(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vh,dontclear:!0},v=>new Promise(function(){var A=(0,c.Z)(function*(O,G){yield v.restyle({setHideOnLeave:!1});const se=ye(_,"network-request-failed"),ke=In().setTimeout(()=>{G(se)},Lh.get());function Je(){In().clearTimeout(ke),O(v)}v.ping(Je).then(Je,()=>{G(se)})});return function(O,G){return A.apply(this,arguments)}}()))}),es.apply(this,arguments)}const gr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Eo=500,Fp=600,Pu="_blank",hd="http://localhost";class Fi{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Uh="__/auth/handler",kt="emulator/auth/handler";function ts(_,f,g,v,A,O){V(_.config.authDomain,_,"auth-domain-config-required"),V(_.config.apiKey,_,"invalid-api-key");const G={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:v,v:X.SDK_VERSION,eventId:A};if(f instanceof Wi){f.setDefaultLanguage(_.languageCode),G.providerId=f.providerId||"",(0,R.xb)(f.getCustomParameters())||(G.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ke,Je]of Object.entries(O||{}))G[ke]=Je}if(f instanceof gs){const ke=f.getScopes().filter(Je=>""!==Je);ke.length>0&&(G.scopes=ke.join(","))}_.tenantId&&(G.tid=_.tenantId);const se=G;for(const ke of Object.keys(se))void 0===se[ke]&&delete se[ke];return`${function g_({config:_}){return _.emulator?We(_,kt):`https://${_.authDomain}/${Uh}`}(_)}?${(0,R.xO)(se).slice(1)}`}const Fs="webStorageSupport",Bh=class m_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qo,this._completeRedirectFn=st,this._overrideRedirectResult=cd}_openPopup(f,g,v,A){var O=this;return(0,c.Z)(function*(){var G;Ue(null===(G=O.eventManagers[f._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const se=ts(f,g,v,ce(),A);return function f_(_,f,g,v=Eo,A=Fp){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),G=Math.max((window.screen.availWidth-v)/2,0).toString();let se="";const ke=Object.assign(Object.assign({},gr),{width:v.toString(),height:A.toString(),top:O,left:G}),Je=(0,R.z$)().toLowerCase();g&&(se=vt(Je)?Pu:g),J(Je)&&(f=f||hd,ke.scrollbars="yes");const It=Object.entries(ke).reduce((nr,[rr,Kc])=>`${nr}${rr}=${Kc},`,"");if(function qn(_=(0,R.z$)()){var f;return zt(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Je)&&"_self"!==se)return function p_(_,f){const g=document.createElement("a");g.href=_,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",se),new Fi(null);const mt=window.open(f||"",se,It);V(mt,_,"popup-blocked");try{mt.focus()}catch{}return new Fi(mt)}(f,se,Wo())})()}_openRedirect(f,g,v,A){var O=this;return(0,c.Z)(function*(){return yield O._originValidation(f),function ya(_){In().location.href=_}(ts(f,g,v,ce(),A)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:O}=this.eventManagers[g];return A?Promise.resolve(A):(Ue(O,"If manager is not set, promise should be"),O)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const v=yield function Ns(_){return es.apply(this,arguments)}(f),A=new Rs(f);return v.register("authEvent",O=>(V(O?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=v,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Fs,{type:Fs},A=>{var O;const G=null===(O=A?.[0])||void 0===O?void 0:O[Fs];void 0!==G&&g(!!G),we(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ou(_){return Xo.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return vh()||ot()||zt()}};class Io{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return me("unexpected MultiFactorSessionType")}}}class fd extends Io{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new fd(f)}_finalizeEnroll(f,g,v){return function Op(_,f){return xt(_,"POST","/v2/accounts/mfaEnrollment:finalize",et(_,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function ed(_,f){return xt(_,"POST","/v2/accounts/mfaSignIn:finalize",et(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zr=(()=>{class _{constructor(){}static assertion(g){return fd._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Uc="@firebase/auth";class tr{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{f(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Vs(){return window}(0,R.Pz)("authIdTokenMaxAge"),function Ls(_){(0,X._registerComponent)(new le.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:O,authDomain:G}=v.options;return((se,ke)=>{V(O&&!O.includes(":"),"invalid-api-key",{appName:se.name}),V(!G?.includes(":"),"argument-error",{appName:se.name});const Je={apiKey:O,authDomain:G,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eu(_)},It=new Vl(se,ke,Je);return function re(_,f){const g=f?.persistence||[],v=(Array.isArray(g)?g:[g]).map(dt);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(v,f?.popupRedirectResolver)}(It,g),It})(v,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new le.wA("auth-internal",f=>{const g=bn(f.getProvider("auth").getImmediate());return new tr(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)(Uc,"0.21.5",function An(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,X.registerVersion)(Uc,"0.21.5","esm2017")}("Browser");const Bp=2e3;function Ru(){return Ru=(0,c.Z)(function*(_,f,g){var v;const{BuildInfo:A}=Vs();Ue(f.sessionId,"AuthEvent did not contain a session ID");const O=yield function Bc(_){return Pa.apply(this,arguments)}(f.sessionId),G={};return zt()?G.ibi=A.packageName:Ct()?G.apn=A.packageName:we(_,"operation-not-supported-in-this-environment"),A.displayName&&(G.appDisplayName=A.displayName),G.sessionId=O,ts(_,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,G)}),Ru.apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(_){const{BuildInfo:f}=Vs(),g={};zt()?g.iosBundleId=f.packageName:Ct()?g.androidPackageName=f.packageName:we(_,"operation-not-supported-in-this-environment"),yield si(_,g)})).apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(_,f,g){const{cordova:v}=Vs();let A=()=>{};try{yield new Promise((O,G)=>{let se=null;function ke(){var mt;O();const nr=null===(mt=v.plugins.browsertab)||void 0===mt?void 0:mt.close;"function"==typeof nr&&nr(),"function"==typeof g?.close&&g.close()}function Je(){se||(se=window.setTimeout(()=>{G(ye(_,"redirect-cancelled-by-user"))},Bp))}function It(){"visible"===document?.visibilityState&&Je()}f.addPassiveListener(ke),document.addEventListener("resume",Je,!1),Ct()&&document.addEventListener("visibilitychange",It,!1),A=()=>{f.removePassiveListener(ke),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",It,!1),se&&window.clearTimeout(se)}})}finally{A()}})).apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(_){const f=function Zh(_){if(Ue(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let v=0;v<_.length;v++)g[v]=_.charCodeAt(v);return g}(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const jc=20;class Do extends Rs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function jp(_){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(_){const f=yield md()._get(zh(_));return f&&(yield md()._remove(zh(_))),f})).apply(this,arguments)}function $p(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<jc;g++){const v=Math.floor(Math.random()*f.length);_.push(f.charAt(v))}return _.join("")}function md(){return dt(gu)}function zh(_){return L("authEvent",_.config.apiKey,_.name)}function Bs(_){if(!_?.includes("?"))return{};const[f,...g]=_.split("?");return(0,R.zd)(g.join("?"))}const qh=class Hp{constructor(){this._redirectPersistence=qo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=st,this._overrideRedirectResult=cd}_initialize(f){var g=this;return(0,c.Z)(function*(){const v=f._key();let A=g.eventManagers.get(v);return A||(A=new Do(f),g.eventManagers.set(v,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){we(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,A){var O=this;return(0,c.Z)(function*(){!function v_(_){var f,g,v,A,O,G,se,ke,Je,It;const mt=Vs();V("function"==typeof(null===(f=mt?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof(null===(g=mt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V("function"==typeof(null===(O=null===(A=null===(v=mt?.cordova)||void 0===v?void 0:v.plugins)||void 0===A?void 0:A.browsertab)||void 0===O?void 0:O.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(ke=null===(se=null===(G=mt?.cordova)||void 0===G?void 0:G.plugins)||void 0===se?void 0:se.browsertab)||void 0===ke?void 0:ke.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(It=null===(Je=mt?.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===It?void 0:It.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const G=yield O._initialize(f);yield G.initialized(),G.resetRedirect(),function Ni(){Ma.clear()}(),yield O._originValidation(f);const se=function pd(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:$p(),postBody:null,tenantId:_.tenantId,error:ye(_,"no-auth-event")}}(f,v,A);yield function $c(_,f){return md()._set(zh(_),f)}(f,se);const ke=yield function Hh(_,f,g){return Ru.apply(this,arguments)}(f,se,g),Je=yield function Oa(_){const{cordova:f}=Vs();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let A=null;v?f.plugins.browsertab.openUrl(_):A=f.InAppBrowser.open(_,function gi(_=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(A)})})}(ke);return function y_(_,f,g){return bi.apply(this,arguments)}(f,G,Je)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Us(_){return Bt.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:A,BuildInfo:O}=Vs(),G=setTimeout((0,c.Z)(function*(){yield jp(f),g.onEvent(Zp())}),500),se=function(){var It=(0,c.Z)(function*(mt){clearTimeout(G);const nr=yield jp(f);let rr=null;nr&&mt?.url&&(rr=function gd(_,f){var g,v;const A=function C_(_){const f=Bs(_),g=f.link?decodeURIComponent(f.link):void 0,v=Bs(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Bs(A).link||A||v||g||_}(f);if(A.includes("/__/auth/callback")){const O=Bs(A),G=O.firebaseError?function w_(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,se=null===(v=null===(g=G?.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],ke=se?ye(se):null;return ke?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:A,postBody:null}}return null}(nr,mt.url)),g.onEvent(rr||Zp())});return function(nr){return It.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,se);const ke=A,Je=`${O.packageName.toLowerCase()}://`;Vs().handleOpenURL=function(){var It=(0,c.Z)(function*(mt){if(mt.toLowerCase().startsWith(Je)&&se({url:mt}),"function"==typeof ke)try{ke(mt)}catch(nr){console.error(nr)}});return function(mt){return It.apply(this,arguments)}}()}};function Zp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}const ka=1e3;function Li(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function E_(_=(0,R.z$)()){return!("file:"!==Li()&&"ionic:"!==Li()&&"capacitor:"!==Li()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Na(){try{const _=self.localStorage,f=Wo();if(_)return _.setItem(f,"1"),_.removeItem(f),!function ku(_=(0,R.z$)()){return function Zc(){return(0,R.w1)()&&11===document?.documentMode}()||function D_(_=(0,R.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,R.hl)()}catch{return ns()&&(0,R.hl)()}return!1}function ns(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Nu(){return(function yd(){return"http:"===Li()||"https:"===Li()}()||(0,R.ru)()||E_())&&!function I_(){return(0,R.b$)()||(0,R.UG)()}()&&Na()&&!ns()}function vd(){return E_()&&typeof document<"u"}function to(){return(to=(0,c.Z)(function*(){return!!vd()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},ka);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Gr={LOCAL:"local",NONE:"none",SESSION:"session"},js=V,wd="persistence";function $s(_){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,c.Z)(function*(_){yield _._initializationPromise;const f=Gp(),g=L(wd,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function Gp(){var _;try{return(null===(_=function zp(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const qp=V;class To{constructor(){this.browserResolver=dt(Bh),this.cordovaResolver=dt(qh),this.underlyingResolver=null,this._redirectPersistence=qo,this._completeRedirectFn=st,this._overrideRedirectResult=cd}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,A){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(f,g,v,A)})()}_openRedirect(f,g,v,A){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(f,g,v,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return vd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function zc(){return to.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function La(_){return _.unwrap()}function Gc(_){return qc(_)}function qc(_){const{_tokenResponse:f}=_ instanceof R.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof R.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Lc.credentialFromResult(_);const g=f.providerId;if(!g||g===oe.PASSWORD)return null;let v;switch(g){case oe.GOOGLE:v=Ch;break;case oe.FACEBOOK:v=yc;break;case oe.GITHUB:v=bh;break;case oe.TWITTER:v=xp;break;default:const{oauthIdToken:A,oauthAccessToken:O,oauthTokenSecret:G,pendingToken:se,nonce:ke}=f;return O||G||A||se?se?g.startsWith("saml.")?ms._create(g,se):ri._fromParams({providerId:g,signInMethod:g,pendingToken:se,idToken:A,accessToken:O}):new aa(g).credential({idToken:A,accessToken:O,rawNonce:ke}):null}return _ instanceof R.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function mr(_,f){return f.catch(g=>{throw g instanceof R.ZR&&function Vi(_,f){var g;const v=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Yh(_,function sr(_,f){var g;const v=(0,R.m9)(_),A=f;return V(f.customData.operationType,v,"argument-error"),V(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),Mc._fromError(v,A)}(_,f));else if(v){const A=qc(f),O=f;A&&(O.credential=A,O.tenantId=v.tenantId||void 0,O.email=v.email||void 0,O.phoneNumber=v.phoneNumber||void 0)}}(_,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Gc(g),additionalUserInfo:Ah(g),user:rs.getOrCreate(A)}})}function bd(_,f){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,c.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>mr(_,g.confirm(v))}})).apply(this,arguments)}class Yh{constructor(f,g){this.resolver=g,this.auth=function Ei(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return mr(La(this.auth),this.resolver.resolveSignIn(f))}}class rs{constructor(f){this._delegate=f,this.multiFactor=function Oc(_){const f=(0,R.m9)(_);return Go.has(f)||Go.set(f,pa._fromUser(f)),Go.get(f)}(f)}static getOrCreate(f){return rs.USER_MAP.has(f)||rs.USER_MAP.set(f,new rs(f)),rs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return mr(g.auth,kn(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,c.Z)(function*(){return bd(v.auth,function d_(_,f,g){return Nc.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return mr(g.auth,function Uv(_,f,g){return Sr.apply(this,arguments)}(g._delegate,f,To))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield $s(bn(g.auth)),W(g._delegate,f,To)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return mr(g.auth,Ho(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return bd(this.auth,function Qo(_,f,g){return ad.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return mr(this.auth,function Vv(_,f,g){return Rh.apply(this,arguments)}(this._delegate,f,To))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield $s(bn(g.auth)),D(g._delegate,f,To)})()}sendEmailVerification(f){return function Gl(_,f){return Dc.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function ru(_,f){return _s.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function ql(_,f){return Wl((0,R.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function fa(_,f){return Wl((0,R.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function xa(_,f){return Ph.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function zo(_,f){return Mi.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function fu(_,f,g){return Kn.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}rs.USER_MAP=new WeakMap;const Fu=V;let Wc=(()=>{class _{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;Fu(A,"invalid-api-key",{appName:g.name}),Fu(A,"invalid-api-key",{appName:g.name});const O=typeof window<"u"?To:void 0;this._delegate=v.initialize({options:{persistence:Wp(A,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?rs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function fc(_,f,g){const v=bn(_);V(v._canInitEmulator,v,"emulator-config-failed"),V(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const A=!!g?.disableWarnings,O=ra(f),{host:G,port:se}=function ia(_){const f=ra(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(v);if(A){const O=A[1];return{host:O,port:Wt(v.substr(O.length+1))}}{const[O,G]=v.split(":");return{host:O,port:Wt(G)}}}(f);v.config.emulator={url:`${O}//${G}${null===se?"":`:${se}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:G,port:se,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Wn(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,v)}applyActionCode(g){return function au(_,f){return Zl.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return uu(this._delegate,g)}confirmPasswordReset(g,v){return function da(_,f,g){return Tt.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var A=this;return(0,c.Z)(function*(){return mr(A._delegate,function Ih(_,f,g){return Ic.apply(this,arguments)}(A._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function du(_,f){return hu.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Dh(_,f){return"EMAIL_SIGNIN"===sa.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Fu(Nu(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function nt(_,f){return ct.apply(this,arguments)}(g._delegate,To);return v?mr(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function b_(_,f){bn(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,A){const{next:O,error:G,complete:se}=Ed(g,v,A);return this._delegate.onAuthStateChanged(O,G,se)}onIdTokenChanged(g,v,A){const{next:O,error:G,complete:se}=Ed(g,v,A);return this._delegate.onIdTokenChanged(O,G,se)}sendSignInLinkToEmail(g,v){return function Kt(_,f,g){return zl.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function Ki(_,f,g){return la.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,c.Z)(function*(){let A;switch(function Fa(_,f){js(Object.values(Gr).includes(f),_,"invalid-persistence-type"),(0,R.b$)()?js(f!==Gr.SESSION,_,"unsupported-persistence-type"):(0,R.UG)()?js(f===Gr.NONE,_,"unsupported-persistence-type"):ns()?js(f===Gr.NONE||f===Gr.LOCAL&&(0,R.hl)(),_,"unsupported-persistence-type"):js(f===Gr.NONE||Na(),_,"unsupported-persistence-type")}(v._delegate,g),g){case Gr.SESSION:A=qo;break;case Gr.LOCAL:A=(yield dt(Ko)._isAvailable())?Ko:gu;break;case Gr.NONE:A=U;break;default:return we("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return mr(this._delegate,function $l(_){return Eh.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return mr(this._delegate,Dn(this._delegate,g))}signInWithCustomToken(g){return mr(this._delegate,function Zo(_,f){return er.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return mr(this._delegate,function de(_,f,g){return Dn((0,R.m9)(_),_c.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return mr(this._delegate,function or(_,f,g){return ha.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return bd(this._delegate,function sn(_,f,g){return sd.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,c.Z)(function*(){return Fu(Nu(),v._delegate,"operation-not-supported-in-this-environment"),mr(v._delegate,function Ps(_,f,g){return xu.apply(this,arguments)}(v._delegate,g,To))})()}signInWithRedirect(g){var v=this;return(0,c.Z)(function*(){return Fu(Nu(),v._delegate,"operation-not-supported-in-this-environment"),yield $s(v._delegate),Vc(v._delegate,g,To)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Ec(_,f){return cu.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Gr,_})();function Ed(_,f,g){let v=_;"function"!=typeof _&&({next:v,error:f,complete:g}=_);const A=v;return{next:G=>A(G&&rs.getOrCreate(G)),error:f,complete:g}}function Wp(_,f){const g=function Wh(_,f){const g=Gp();if(!g)return[];const v=L(wd,_,f);switch(g.getItem(v)){case Gr.NONE:return[U];case Gr.LOCAL:return[Ko,qo];case Gr.SESSION:return[qo];default:return[]}}(_,f);if(typeof self<"u"&&!g.includes(Ko)&&g.push(Ko),typeof window<"u")for(const v of[gu,qo])g.includes(v)||g.push(v);return g.includes(U)||g.push(U),g}class Id{constructor(){this.providerId="phone",this._delegate=new Lc(La(Y.Z.auth()))}static credential(f,g){return Lc.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Id.PHONE_SIGN_IN_METHOD=Lc.PHONE_SIGN_IN_METHOD,Id.PROVIDER_ID=Lc.PROVIDER_ID;const Kp=V;class Yp{constructor(f,g,v=Y.Z.app()){var A;Kp(null===(A=v.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Aa(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Qp(_){_.INTERNAL.registerComponent(new le.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new Wc(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:q_EMAIL_SIGNIN,PASSWORD_RESET:q_PASSWORD_RESET,RECOVER_EMAIL:q_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:q_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:q_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:q_VERIFY_EMAIL}},EmailAuthProvider:_c,FacebookAuthProvider:yc,GithubAuthProvider:bh,GoogleAuthProvider:Ch,OAuthProvider:aa,SAMLAuthProvider:ii,PhoneAuthProvider:Id,PhoneMultiFactorGenerator:zr,RecaptchaVerifier:Yp,TwitterAuthProvider:xp,Auth:Wc,AuthCredential:Rn,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.3.5")}(Y.Z)},8766:(pt,Ie,k)=>{k.d(Ie,{Lj:()=>we,X3:()=>Fe});var c=k(5861);const Y=(V,me)=>me.some(Ue=>V instanceof Ue);let R,X;const le=new WeakMap,ue=new WeakMap,oe=new WeakMap,B=new WeakMap,j=new WeakMap;let Ce={get(V,me,Ue){if(V instanceof IDBTransaction){if("done"===me)return ue.get(V);if("objectStoreNames"===me)return V.objectStoreNames||oe.get(V);if("store"===me)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return be(V[me])},set:(V,me,Ue)=>(V[me]=Ue,!0),has:(V,me)=>V instanceof IDBTransaction&&("done"===me||"store"===me)||me in V};function he(V){return"function"==typeof V?function it(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...me){return V.apply(Ee(this),me),be(le.get(this))}:function(...me){return be(V.apply(Ee(this),me))}:function(me,...Ue){const Ge=V.call(Ee(this),me,...Ue);return oe.set(Ge,me.sort?me.sort():[me]),be(Ge)}}(V):(V instanceof IDBTransaction&&function je(V){if(ue.has(V))return;const me=new Promise((Ue,Ge)=>{const dt=()=>{V.removeEventListener("complete",Xe),V.removeEventListener("error",re),V.removeEventListener("abort",re)},Xe=()=>{Ue(),dt()},re=()=>{Ge(V.error||new DOMException("AbortError","AbortError")),dt()};V.addEventListener("complete",Xe),V.addEventListener("error",re),V.addEventListener("abort",re)});ue.set(V,me)}(V),Y(V,function ee(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,Ce):V)}function be(V){if(V instanceof IDBRequest)return function q(V){const me=new Promise((Ue,Ge)=>{const dt=()=>{V.removeEventListener("success",Xe),V.removeEventListener("error",re)},Xe=()=>{Ue(be(V.result)),dt()},re=()=>{Ge(V.error),dt()};V.addEventListener("success",Xe),V.addEventListener("error",re)});return me.then(Ue=>{Ue instanceof IDBCursor&&le.set(Ue,V)}).catch(()=>{}),j.set(me,V),me}(V);if(B.has(V))return B.get(V);const me=he(V);return me!==V&&(B.set(V,me),j.set(me,V)),me}const Ee=V=>j.get(V);function Fe(V,me,{blocked:Ue,upgrade:Ge,blocking:dt,terminated:Xe}={}){const re=indexedDB.open(V,me),ce=be(re);return Ge&&re.addEventListener("upgradeneeded",_e=>{Ge(be(re.result),_e.oldVersion,_e.newVersion,be(re.transaction))}),Ue&&re.addEventListener("blocked",()=>Ue()),ce.then(_e=>{Xe&&_e.addEventListener("close",()=>Xe()),dt&&_e.addEventListener("versionchange",()=>dt())}).catch(()=>{}),ce}function we(V,{blocked:me}={}){const Ue=indexedDB.deleteDatabase(V);return me&&Ue.addEventListener("blocked",()=>me()),be(Ue).then(()=>{})}const ye=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ve=new Map;function Oe(V,me){if(!(V instanceof IDBDatabase)||me in V||"string"!=typeof me)return;if(Ve.get(me))return Ve.get(me);const Ue=me.replace(/FromIndex$/,""),Ge=me!==Ue,dt=De.includes(Ue);if(!(Ue in(Ge?IDBIndex:IDBObjectStore).prototype)||!dt&&!ye.includes(Ue))return;const Xe=function(){var re=(0,c.Z)(function*(ce,..._e){const Ae=this.transaction(ce,dt?"readwrite":"readonly");let Ne=Ae.store;return Ge&&(Ne=Ne.index(_e.shift())),(yield Promise.all([Ne[Ue](..._e),dt&&Ae.done]))[0]});return function(_e){return re.apply(this,arguments)}}();return Ve.set(me,Xe),Xe}!function Ze(V){Ce=V(Ce)}(V=>({...V,get:(me,Ue,Ge)=>Oe(me,Ue)||V.get(me,Ue,Ge),has:(me,Ue)=>!!Oe(me,Ue)||V.has(me,Ue)}))},5861:(pt,Ie,k)=>{function c(R,X,ee,te,le,ue,oe){try{var B=R[ue](oe),j=B.value}catch(q){return void ee(q)}B.done?X(j):Promise.resolve(j).then(te,le)}function Y(R){return function(){var X=this,ee=arguments;return new Promise(function(te,le){var ue=R.apply(X,ee);function oe(j){c(ue,te,le,oe,B,"next",j)}function B(j){c(ue,te,le,oe,B,"throw",j)}oe(void 0)})}}k.d(Ie,{Z:()=>Y})}},pt=>{pt(pt.s=5119)}]);